!function(l){function e(e){for(var t,n,o=e[0],i=e[1],r=e[2],a=0,c=[];a<o.length;a++)n=o[a],Object.prototype.hasOwnProperty.call(u,n)&&u[n]&&c.push(u[n][0]),u[n]=0;for(t in i)Object.prototype.hasOwnProperty.call(i,t)&&(l[t]=i[t]);for(p&&p(e);c.length;)c.shift()();return d.push.apply(d,r||[]),s()}function s(){for(var e,t=0;t<d.length;t++){for(var n=d[t],o=!0,i=1;i<n.length;i++){var r=n[i];0!==u[r]&&(o=!1)}o&&(d.splice(t--,1),e=m(m.s=n[0]))}return e}var n={},u={7:0},d=[];function m(e){var t;return(n[e]||(t=n[e]={i:e,l:!1,exports:{}},l[e].call(t.exports,t,t.exports,m),t.l=!0,t)).exports}m.e=function(o){var i,r,e,a,t,n=[],c=u[o];return 0!==c&&(c?n.push(c[2]):(t=new Promise(function(e,t){c=u[o]=[e,t]}),n.push(c[2]=t),(i=document.createElement("script")).charset="utf-8",i.timeout=120,m.nc&&i.setAttribute("nonce",m.nc),i.src=m.p+"js/"+({}[t=o]||t)+".1820582273fd3a6c2031.js",r=new Error,e=function(e){i.onerror=i.onload=null,clearTimeout(a);var t,n=u[o];0!==n&&(n&&(t=e&&("load"===e.type?"missing":e.type),e=e&&e.target&&e.target.src,r.message="Loading chunk "+o+" failed.\n("+t+": "+e+")",r.name="ChunkLoadError",r.type=t,r.request=e,n[1](r)),u[o]=void 0)},a=setTimeout(function(){e({type:"timeout",target:i})},12e4),i.onerror=i.onload=e,document.head.appendChild(i))),Promise.all(n)},m.m=l,m.c=n,m.d=function(e,t,n){m.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},m.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},m.t=function(t,e){if(1&e&&(t=m(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(m.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)m.d(n,o,function(e){return t[e]}.bind(null,o));return n},m.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return m.d(t,"a",t),t},m.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},m.p="/media/dist/",m.oe=function(e){throw console.error(e),e};var t=(o=window.webpackJsonp=window.webpackJsonp||[]).push.bind(o);o.push=e;for(var o=o.slice(),i=0;i<o.length;i++)e(o[i]);var p=t;d.push([162,0]),s()}({1:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return r}),n.d(t,"g",function(){return a}),n.d(t,"k",function(){return c}),n.d(t,"j",function(){return l}),n.d(t,"n",function(){return s}),n.d(t,"m",function(){return u}),n.d(t,"f",function(){return d}),n.d(t,"e",function(){return m}),n.d(t,"h",function(){return p}),n.d(t,"d",function(){return f}),n.d(t,"o",function(){return h}),n.d(t,"i",function(){return g}),n.d(t,"l",function(){return v});n(30);function o(e){return 1<(e=document.querySelectorAll(e)).length?e:e[0]||null}function i(){this.warning=function(e,t,n){o(e,t,n,"warning")},this.danger=function(e,t,n){o(e,t,n,"danger")},this.success=function(e,t,n){o(e,t,n,"success")};var a=8e3;function o(e,t,n,o){var i=Date.now(),r=(e instanceof Object&&(t=e.body,e=e.title),document.getElementById("user-alert-container"));r||((r=document.createElement("div")).id="user-alert-container",r.className="user-alert-container",document.body.appendChild(r)),r.innerHTML=Handlebars.tag("notification")({title:e,body:t,sticky:n,type:o,time:i}),n||setTimeout(function(){var e=document.getElementById("notify-"+i);e&&e.parentElement.removeChild(e)},a)}}window.addEventListener("userSessionLoaded",()=>{try{localStorage.n_pageviews=void 0!==localStorage.n_pageviews?parseInt(localStorage.n_pageviews,10)+1:1}catch(e){}}),$(document).ajaxError(function(e,t,n){~n.url.indexOf("coupons/popup")||r.danger("Oops!",messages.errors.connectivity)}),String.prototype.format||(String.prototype.format=function(){var n=arguments;return this.replace(/{(\d+)}/g,function(e,t){return void 0!==n[t]?n[t]:e})}),document.get=function(e){return document.querySelector(e)},document.find=function(e){return document.querySelectorAll(e)},Element.prototype.get=function(e){return this.querySelector(e)},Element.prototype.find=function(e){return this.querySelectorAll(e)},Element.prototype.parents=function(e){var t,n=[],o=this;e&&(t=e.charAt(0));for(var i=0;o&&o!==document&&!i;o=o.parentNode)e&&("."===t&&o.classList.contains(e.substr(1))&&(i=1),"#"===t&&o.id===e.substr(1)&&(i=1),"["===t&&o.hasAttribute(e.substr(1,e.length-1))&&(i=1),o.tagName.toLowerCase()===e)&&(i=1),n.push(o);return!n.length||"HTML"==n.reverse()[0].tagName&&e?[]:n},Element.prototype.parent=function(e){var t=this.parents(e);return void 0===e&&t.reverse(),t&&t.length?t[0]:null},Element.prototype.outerWidth=function(){return this.clientWidth+(parseInt(getComputedStyle(this).marginLeft,10)+parseInt(getComputedStyle(this).marginRight,10))},Element.prototype.outerHeight=function(){return this.clientHeight+(parseInt(getComputedStyle(this).marginTop,10)+parseInt(getComputedStyle(this).marginBottom,10))},Handlebars.tag=function(e){return Handlebars.compile(document.getElementById("tpl-"+e).innerHTML)},Handlebars.registerHelper("isColor",function(e,t){return"XXXXXX"!=e?t.fn(this):t.inverse(this)}),Handlebars.registerHelper("specialItem",function(e,t,n){return 1==e||1==t?n.fn(this):n.inverse(this)}),Handlebars.registerHelper("get_length",function(e){return"object"==typeof e?Object.keys(e).length:Array.isArray(e)?e.length:0}),Handlebars.registerHelper("retinaImage",function(){if(0!==Object.keys(this).length||this.constructor!==Object)return this.png.replace("png/128","png/512")}),Handlebars.registerHelper("isPersonalIcon",function(e){return 4==e}),Handlebars.registerHelper("numberFormat",function(e){return e.replace(/\B(?=(\d{3})+(?!\d))/g,",")}),Handlebars.registerHelper("isEqualTo",function(e,t,n){return e==t?n.fn(this):n.inverse(this)}),Handlebars.registerHelper("compare",function(e,t,n,o){var i;if(arguments.length<3)throw new Error("Handlerbars Helper 'compare' needs 2 parameters");if(void 0===o&&(o=n,n=t,t="==="),(i={"==":function(e,t){return e==t},"===":function(e,t){return e===t},"!=":function(e,t){return e!=t},"!==":function(e,t){return e!==t},"<":function(e,t){return e<t},">":function(e,t){return t<e},"<=":function(e,t){return e<=t},">=":function(e,t){return t<=e},typeof:function(e,t){return typeof e==t}})[t])return i[t](e,n)?o.fn(this):o.inverse(this);throw new Error("Handlerbars Helper 'compare' doesn't know the operator "+t)}),i.close=function(e){e=document.getElementById("notify-"+e.dataset.time);e.parentElement.removeChild(e)};var r=new i;window.UserAlerts=r;try{sessionStorage.setItem("test","1"),sessionStorage.removeItem("test")}catch(e){r.danger("ERROR!","Your browser doesn't support Storage Feature or you are using private browsing. Please use a compatible browser",!0)}function a(e){if(void 0===e)return e;e=e.replace(/^\s+|\s+$|\(\)\'/g,"").toLowerCase();for(var t="ãàáäâẽèéëêìíïîõòóöôùúüûñç·/,:;",n=0,o=t.length;n<o;n++)e=e.replace(new RegExp(t.charAt(n),"g"),"aaaaaeeeeeiiiiooooouuuunc-----".charAt(n));return e.replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")}function c(e){var t=e.match(/[\u3131-\uD79D]/giu);return!!t&&t.length===e.length}function l(e){return/^[\u0400-\u04FF ]+$/.test(e)}function s(e){if("string"!=typeof e)return e;e=e.replace(/^\s+|\s+$/g,"").toLowerCase();for(var t="ãàáäâẽèéëêìíïîõòóöôùúüûñç·/_,:;",n=0,o=t.length;n<o;n++)e=e.replace(new RegExp(t.charAt(n),"g"),"aaaaaeeeeeiiiiooooouuuunc------".charAt(n));return e.replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")}function u(e){var t=(new Date).getTime();return s(e=e.split(".").join(t)).split(t).join(".")}function d(){var e;return-1!=navigator.userAgent.indexOf("Chrome")?"Chrome":-1!=navigator.userAgent.indexOf("Opera")?"Opera":-1!=navigator.userAgent.indexOf("Firefox")?"Firefox":-1!=navigator.userAgent.indexOf("MSIE")||1==!!document.documentMode?"IE":-1!=navigator.userAgent.indexOf("Edge")?"Edge":-1!=navigator.userAgent.indexOf("Safari")?null===(e=navigator.userAgent)&&13<=(e=(e=(e=e.match(/Version\/\d./g))[0].split("/"))[1])?"UpdatedSafari":"Safari":navigator.userAgent}function m(e){e.parent(".fi-modal")&&(e.parent(".fi-modal").get(".modal-state").checked=!1,document.querySelector("body").classList.remove("modal-open"))}function p(e){return void 0===e?Math.floor(Date.now()/1e3):e instanceof Date?t(e):(e=new Date(e))instanceof Date?t(e):Math.floor(Date.now()/1e3);function t(e){e=new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds());return parseInt(Date.parse(e).toString().slice(0,10),10)}}function f(e){return""!=e&&"string"==typeof e?e.charAt(0).toUpperCase()+e.slice(1):e}function h(e){n=0,o=(t=e).lastIndexOf("/"),i=t.length,-1!=t.lastIndexOf("?")&&(i=t.lastIndexOf("?")),-1!=o&&(n=t.substring(o+1,i));var t,n,o,i;return 0!=(isNaN(n)?0:n)?e.substring(0,e.lastIndexOf("/")):""!=window.location.search&&e==window.location.href?e.substring(0,e.lastIndexOf("?")):e}function g(e,t,n){for(var o=0;e.length>o&&"/"==e[e.length-(o+1)];)o+=1;return 0<o&&(e=e.slice(0,-o)),""!=t&&void 0!==t&&1<t&&(e=e+"/"+t),""!=n&&void 0!==n&&(n=function(e){""!=e&&void 0!==e&&(e=(e=e.replace(/pack_id=(\d)*/g,"")).replace("&&","&").replace(/[^=&]+=(&|$)/g,"").replace(/^&|&$/,""));return e}(n),e=(e=e.replace("///$/","/")).replace("#",""),e=-1==n.lastIndexOf("?")?e+"?"+n:e+n),e}function v(e){if(""==(e=e.substr(1).split("&")))return{};for(var t={},n=0;n<e.length;++n){var o=e[n].split("=",2);1==o.length?t[o[0]]="":t[o[0]]=decodeURIComponent(o[1].replace(/\+/g," "))}return t}Date.prototype.getWeekNumber=function(){var e=new Date(Date.UTC(this.getFullYear(),this.getMonth(),this.getDate())),t=e.getUTCDay()||7,t=(e.setUTCDate(e.getUTCDate()+4-t),new Date(Date.UTC(e.getUTCFullYear(),0,1)));return Math.ceil(((e-t)/864e5+1)/7)}},156:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var o=n(40);function i(e){var t=e.value.length;o.c||(e.selectionStart=t,e.selectionEnd=t)}},162:function(e,t,n){n(402),n(280),n(281),n(283),n(400),n(61),n(285),n(286),e.exports=n(287)},17:function(e,t,n){"use strict";n.r(t),n.d(t,"continue_exec_search",function(){return o}),n.d(t,"urlUserIcon",function(){return i}),n.d(t,"dispatchEventTooltip",function(){return g}),n.d(t,"store_url",function(){return v}),n.d(t,"checkHybriDevices",function(){return r}),n.d(t,"closePopup",function(){return a}),n.d(t,"getUrlParameter",function(){return c}),n.d(t,"emptyAuthorBox",function(){return y});var l=n(0),s=n(14),u=(n(29),n(33)),d=n(8),m=n(1);function p(e){"touchstart"==e.type&&this.touchstart&&!document.body.classList.contains("notouch")||("touchstart"==e.type&&(this.touchstart=!0),"mousemove"==e.type&&!this.touchstart&&document.body.classList.contains("notouch"))||(this.touchstart?document.body.classList.remove("notouch"):document.body.classList.add("notouch"),"mousemove"==e.type&&(this.touchstart=!1))}window.addEventListener("userSessionLoaded",()=>{var o,i,r,e;window.isMobile=Object(s.b)(),$(document).on("mouseleave",".icon--item",function(e){var t=this.querySelector(".popover");t&&t.querySelector("button.popover-button.active")&&(t.classList.remove("popover-left"),t.classList.remove("popover-right"),t.querySelector("button.popover-button.active").classList.remove("active"),t.querySelector("div.popover-content.show-menu").classList.remove("show-menu"))}),$(document).on("click","#share-btn button",function(){this.parentNode.querySelector("input.input-share-url").value=document.location.href}),$(".grid_selector input[name=grid]").on("change",function(){var t,e=document.querySelector(".search-result .icons");e&&(localStorage.setItem("grid_size",this.value),e.classList.toggle("big","big"==this.value),$(window).trigger("resize"),t="big"==this.value?128:64,[].forEach.call(e.querySelectorAll(".icon--item img"),function(e){e.width=t,e.height=t}))}),"IE"==m.f()&&$("body").addClass("isIE"),"ontouchstart"in window||0<navigator.MaxTouchPoints||0<navigator.msMaxTouchPoints?$(window).on("touchstart mousemove",p):document.body.classList.add("notouch"),(e=document.querySelector(".detail-footer .license"))&&(gr.auth.me.premium&&1==document.querySelector("#download-form #selection").value?e.classList.add("hidden"):e.classList.remove("hidden")),/Android [4-6]\.[0-9]/.test(navigator.appVersion)&&window.addEventListener("resize",function(){"INPUT"==document.activeElement.tagName&&document.activeElement.scrollIntoViewIfNeeded()}),$(document).on("click",".modal-trigger",function(e){document.getElementById(this.dataset.modal).checked=!0,e.preventDefault()}),$(document).on("click",".modal-close",function(e){void 0!==$(this)&&void 0!==$(this).parents("div.modal")[0]&&($(this).parents("div.modal")[0].get(".modal-state").checked=!1,document.querySelector("body").classList.remove("modal-open"),e.preventDefault())}),$(".modal-inner").on("click",function(e){e.stopPropagation()}),$(".modal-fade-screen").on("click",function(){[].forEach.call(document.find(".modal-state"),function(e){m.e(e),l.e.Downloads.cleanFormatValue()})}),$(document).on("contextmenu",".icon--item:not(.icon-upload)",function(e){var t=this.querySelector("div.popover");t&&(t.querySelector("button.popover-button")&&t.querySelector("button.popover-button").classList.add("active"),t.querySelector("div.popover-content")&&t.querySelector("div.popover-content").classList.add("show-menu"),f(t,230),e.preventDefault())}),g(),$(document).on("click",".alert .close-alert",function(e){$(this).parent().removeClass("zoomIn").addClass("zoomOut").slideUp(300),e.preventDefault()}),$(document).on("mouseup",function(e){var t=e.target;!t.parentNode||2===e.button||0===t.classList.length||t.classList.contains("active")||t.parentNode.classList.contains("active")||(t.classList.contains("popover-external-link")&&window.open(t.href,t.target),t.classList.contains("popover-container"))||[].some.call(t.parents(),function(e){return e.classList.contains("popover-container")})||([].forEach.call(document.find(".popover-content"),function(e){e.parentNode.classList.contains("popover-not-close")||e.classList.remove("show-menu")}),[].forEach.call(document.find(".popover-button"),function(e){e.parentNode.classList.contains("popover-not-close")||e.classList.remove("active")}))}),$(document).on("click",".popover-button",function(e){var t=this,n=t.parentElement.parentElement.get(".popover-content"),o=n.parentElement.parentElement;t.classList.contains("active")?(n.classList.remove("show-menu"),t.classList.remove("active")):([].forEach.call(Object(m.a)(".popover-content"),function(e){if(e==n)return!0;e.classList.remove("show-menu")}),[].forEach.call(Object(m.a)(".popover-button"),function(e){e.classList.remove("active")}),[].forEach.call(Object(m.a)(".popover"),function(e){if(e==n)return!0;e.classList.contains("hToggleRender")&&e.classList.remove("popover-right"),e.classList.contains("vToggleRender")&&(e.classList.remove("popover-top"),e.classList.remove("popover-button"))}),n.classList.add("show-menu"),t.classList.add("active")),o.classList.contains("hToggleRender")&&(f(o,230),h(tooltip,230)),o.classList.contains("vToggleRender")&&(t=o,o=100,t.querySelector("button.popover-button").getBoundingClientRect().bottom>window.innerHeight-o?t.classList.add("popover-top"):t.classList.add("popover-bottom"));e.stopPropagation()}),o=$(".fullscreen"),i=window.innerWidth,r=window.innerHeight,0===o.length||i<=768||($(document).ready(onresize()),$(window).on("resize",function(e){var e="resize"!==e.type||i!==window.innerWidth&&r!==window.innerHeight,t=(t=o.data("fullscreen"))||8640,n=o.find("> *").outerHeight(!0);window.innerWidth<=t&&window.innerHeight>n?!e&&_touch||o.css("height",window.innerHeight-56):o.removeAttr("style");i=window.innerWidth,r=window.innerHeight})),u.a.add(function(){document.querySelector(".list-options"),document.querySelector(".search-data")});try{var t=parseInt(localStorage.time_valuation),n=(t&&!isNaN(t)||(t=0),Object(m.a)("#form_valuation"));n&&(parseInt(localStorage.time_valuation,10)%70==0?n.classList.add("active"):n.classList.remove("active")),localStorage.time_valuation=++t}catch(e){}function a(){document.getElementById("valuation_text").value="",document.getElementById("id_last_valuation").value="",document.getElementById("valuation_comment_panel").style.display="none",document.getElementById("form_valuation").classList.remove("active"),document.getElementById("valuation_congrat").style.display="none",document.getElementById("valuation_panel").style.display="block",document.getElementById("trustpilotNPS").style.display="none"}window.addEventListener("formTrustpilot",()=>{document.getElementById("open_panel").addEventListener("click",function(){var e=document.getElementById("form_valuation"),t=(e.classList.toggle("active"),document.getElementById("button_panel"));e.classList.contains("active")?t.innerHTML='<i class="icon icon--caret-left text-inverted"></i>':t.innerHTML='<i class="icon icon--caret-right text-inverted"></i>'}),document.getElementById("form_valuation").addEventListener("submit",e=>{e.preventDefault();var e=document.getElementById("id_last_valuation"),t=document.getElementById("valuation_text");t.value.trim().length&&(e={id:e.value,comment:t.value},Object(d.a)("ajax/valuations/send-user-comment",{method:"POST",headers:{"Content-Type":"application/json"},data:JSON.stringify(e)})),document.getElementById("valuation_comment_panel").style.display="none",document.getElementById("valuation_congrat").style.display="block",setTimeout(function(){a()},3e3)}),document.querySelectorAll(".valuation_response").forEach(e=>{e.addEventListener("click",function(){let e=navigator.userAgent,t,n=[],o=e.match(/(opera|chrome|safari|firefox|msie|maxthon|lunascape)\/?\s*(\.?\d+(\.\d+)*)/i);o&&null!==(t=e.match(/version\/([\.\d]+)/i))&&(o[2]=t[1]),n.name=o[1],n.version=o[2],"9"===this.dataset.value||"10"===this.dataset.value?c():(Object(m.a)("#valuation_panel").style.display="none",Object(m.a)("#valuation_comment_panel").style.display="block");var i=BASE_URL+"ajax/valuations/send-valuation",r={value:this.dataset.value,question:Object(m.a)("#valuation_question_id").value,browser:n.name,browser_version:n.version,language:LANGUAGE_SHORT};Object(d.a)(i,{method:"POST",headers:{"Content-Type":"application/json"},data:JSON.stringify(r)}).then(e=>{document.getElementById("id_last_valuation").value=e.data.id})})}),document.getElementById("no_thanks").addEventListener("click",a),document.getElementById("no_thanks_trustpilot").addEventListener("click",a)});const c=()=>{document.getElementById("valuation_panel").style.display="none",document.getElementById("valuation_comment_panel").style.display="none",document.getElementById("trustpilotNPS").style.display="block"};$(document).on("keyup",function(e){e.preventDefault(),27==e.which&&[].forEach.call(document.find(".popover-content"),function(e){e.classList.remove("show-menu")})}),$(".reset-input").off(),$(document).on("click",".reset-input",function(){return""!==$(this).siblings("input").val()?$(this).siblings("input").val("").focus():"username"!=$(this).siblings("input").attr("id")&&"email"!=$(this).siblings("input").attr("id")&&$(this).siblings("input").attr("placeholder",""),$(this).siblings("input").removeClass("error").parent().next("span.error").remove(),!1}),$(".input-group input, .textarea-group textarea").off(),$(".input-group input, .textarea-group textarea").on("blur",function(){$(this).val()?$(this).addClass("hascontent"):($(this).removeClass("hascontent"),$(this).attr("placeholder")&&this.addClass("hascontent"))}),$(".input-group input, .textarea-group textarea").on("keyup",function(){$(this).removeClass("error").parent().next("span.error").remove(),"password"!=$(this).attr("id")&&"repeat_password"!=$(this).attr("id")||($("#password").removeClass("error").parent().next("span.error").remove(),$("#repeat_password").removeClass("error").parent().next("span.error").remove())}),$(".input-group input, .textarea-group textarea").each(function(){$(this).val()?$(this).addClass("hascontent"):($(this).removeClass("hascontent"),$(this).attr("placeholder")&&this.addClass("hascontent"))}),$(document).on("click",".selectInput",function(){this.select()}),v(),document.addEventListener("click",function(e){for(var t=e.target;t;){if(null!=t.dataset&&t.dataset[Logs.dataKey]){Logs.pushLog(t.dataset[Logs.dataKey]);break}t=t.parentNode}},!1),e=document.querySelector(".link-editor"),"Edge"!=(n=function(){let e=navigator.userAgent,t,n=e.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?"IE "+((t=/\brv[ :]+(\d+)/g.exec(e)||[])[1]||""):"Chrome"===n[1]&&null!=(t=e.match(/\b(OPR|Edge)\/(\d+)/))?t.slice(1).join(" ").replace("OPR","Opera"):(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(t=e.match(/version\/(\d+)/i))&&n.splice(1,1,t[1]),n.join(" "))}().split(" ")[0])&&"Opera"!=n&&"IE"!=n||e.classList.add("hide"),y()});const o=()=>{var e=Array.from(document.querySelectorAll(".search-view-filters input:checked")),t=document.querySelector(".search-holder form input[name=word]"),n=document.querySelector(".home_search_input.fake-search input[name=word]"),o=document.querySelector("[data-section=main_search_author]"),i=(document.querySelector(".search-holder .type-selector input[name=type]:checked"),!!e.find(e=>"sticker"==e.value)),t=t&&0<t.value.length?t.name+"="+t.value:n.name+"="+n.value,r=[],n="";r.push(t),o&&r.push("author_id="+o.dataset.value),void 0===e||i||e.forEach(function(t){if(void 0!==t.name&&void 0!==t.value&&""!=t.name&&""!=t.dataset.value&&-1==t.name.indexOf("-")&&"license"==t.name){if("style"!=t.name||"gradient"!=t.dataset.value&&"lineal-color"!=t.dataset.value&&"flat"!=t.dataset.value&&"hand-drawn"!=t.dataset.value||(t.name="filter_style"),"style"==t.name&&("linear"==t.dataset.value||"filled"==t.dataset.value||"multicolor"==t.dataset.value)){let e=t.dataset.style.replace(",","&");(e=e.split("|")).shift(),e[0]=e[0].replace(",","&"),e=e.join("="),t.name="color",t.dataset.value=e}let e=t.dataset.value||t.value;"order_by"==t.name&&(e=t.value),r.push(t.name+"="+e)}}),r.length&&(n="?"+r.join("&")),document.querySelector("form #main-search-current_section")&&document.querySelector("form #main-search-current_section").value?window.location.href=document.querySelector(".main_search_bar").action+n:(t="interface-icons",o=document.querySelector(".search-holder .type-selector input[name=type]:checked"),i=document.querySelector(".search-holder .type-selector input[name=search-group]:checked"),1==r.length&&o.dataset.type==t&&(n=n.concat("&ec=all")),o.value===t&&(o.value="icon"),window.location.href=i?i.getAttribute("data-url")+n+("&type="+o.value):o.getAttribute("data-url")+n+("&type="+o.value))};function i(e,t){var n;if((t=t||gr.auth.me.id)&&e)return n=Math.floor(t/1e3),STATIC_URL+"user_icons/"+n+"/"+t+"/"+e+".svg"}function f(e,t){(document.querySelector(".detail--v2 .icons")?e.querySelector("button.popover-button").getBoundingClientRect().left-document.querySelector(".detail--v2 .icons").getBoundingClientRect().left:e.querySelector("button.popover-button").getBoundingClientRect().left)<(t=e.classList.contains("collectionIcon")?180+document.getElementById("collections-holder").getBoundingClientRect().left:t)?e.classList.add("popover-right"):e.classList.add("popover-left")}function h(e,t){var n;n=document.querySelector(".detail--v2 .icons")?e.querySelector(".tooltip__content").getBoundingClientRect().left-document.querySelector(".detail--v2 .icons").getBoundingClientRect().left:e.querySelector(".tooltip__content").getBoundingClientRect().left,e.classList.contains("collectionIcon")&&(t=180+document.getElementById("collections-holder").getBoundingClientRect().left),e.classList.contains("icon--item__premium-badge")||(n<=t?(e.classList.remove("tooltip--left"),e.classList.add("tooltip--right")):(e.classList.add("tooltip--left"),e.classList.remove("tooltip--right")))}function g(){document.querySelectorAll(".icon--item .tooltip").forEach(e=>{e.addEventListener("mouseenter",e=>{h(e.target,230),e.preventDefault()})})}function v(t){t=t||window.location.href;var n=!0;if(["downloads-abuse","downloads-limit","limite-descargas","abuso-descargas","user/follow/author/list"].forEach(function(e){-1!=t.indexOf(e)&&(n=!1)}),n){var e=new Date,e=(e.setTime(e.getTime()+36e5),"; expires="+e.toGMTString()),o=null;try{var i=new URL(t),r=i.searchParams,a=Date.now().toString();r.has("k")?r.set("k",a):r.append("k",a),o=i.origin+i.pathname+"?"+r.toString()}catch(e){o=t}document.cookie=`CB_URL=${o}${e};path=/;`}}function r(){("ontouchstart"in window||0<navigator.MaxTouchPoints||0<navigator.msMaxTouchPoints)&&document.body.classList.add("notouch")}function a(e){for(;(e=e.parentElement)&&!e.classList.contains("popover-container"););e.querySelector(".popover-button").classList.remove("active"),e.querySelector(".popover-content").classList.remove("show-menu")}function c(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");e=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null===e?"":decodeURIComponent(e[1].replace(/\+/g," "))}function y(){var e,t=document.querySelectorAll(".box--author .box--author-pt2");if(t)for(const o of t)if(1==o.children.length){let e=0;for(;e<2;){var n=document.createElement("div");n.innerHTML='<div class="img-wrapper"></div>',n.classList.add("sprite"),n.classList.add("empty"),o.insertAdjacentElement("beforeend",n),e++}}else 2==o.children.length&&((e=document.createElement("div")).innerHTML='<div class="img-wrapper"></div>',e.classList.add("sprite"),e.classList.add("empty"),o.insertAdjacentElement("beforeend",e))}l.e.valuation_request_comment=function(e){Object(m.a)("#id_last_valuation").value=e.id}},209:function(ze,Fe,Xe){var Ge;
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */!function(i,R,_){"use strict";function B(e,t,n){return setTimeout(D(e,n),t)}function n(e,t,n){return Array.isArray(e)&&(a(e,n[t],n),1)}function a(e,t,n){if(e)if(e.forEach)e.forEach(t,n);else if(e.length!==_)for(o=0;o<e.length;)t.call(n,e[o],o,e),o++;else for(var o in e)e.hasOwnProperty(o)&&t.call(n,e[o],o,e)}function U(n,e,t){var o="DEPRECATED METHOD: "+e+"\n"+t+" AT \n";return function(){var e=new Error("get-stack-trace"),e=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",t=i.console&&(i.console.warn||i.console.log);return t&&t.call(i.console,o,e),n.apply(this,arguments)}}function e(e,t,n){var t=t.prototype,o=e.prototype=Object.create(t);o.constructor=e,o._super=t,n&&k(o,n)}function D(e,t){return function(){return e.apply(t,arguments)}}function N(e,t){return typeof e==ge?e.apply(t&&t[0]||_,t):e}function M(e,t){return e===_?t:e}function t(t,e,n){a(r(e),function(e){t.addEventListener(e,n,!1)})}function o(t,e,n){a(r(e),function(e){t.removeEventListener(e,n,!1)})}function H(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function l(e,t){return-1<e.indexOf(t)}function r(e){return e.trim().split(/\s+/g)}function c(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var o=0;o<e.length;){if(n&&e[o][n]==t||!n&&e[o]===t)return o;o++}return-1}function s(e){return Array.prototype.slice.call(e,0)}function z(e,n,t){for(var o=[],i=[],r=0;r<e.length;){var a=n?e[r][n]:e[r];c(i,a)<0&&o.push(e[r]),i[r]=a,r++}return o=t?n?o.sort(function(e,t){return e[n]>t[n]}):o.sort():o}function u(e,t){for(var n,o=t[0].toUpperCase()+t.slice(1),i=0;i<fe.length;){if((n=(n=fe[i])?n+o:t)in e)return n;i++}return _}function F(e){e=e.ownerDocument||e;return e.defaultView||e.parentWindow||i}function d(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){N(t.options.enable,[t])&&n.handler(e)},this.init()}function X(e,t,n){var o,i,r,a,c,l,s,u=n.pointers.length,d=n.changedPointers.length,m=t&E&&u-d==0,u=t&(L|I)&&u-d==0,p=(n.isFirst=!!m,n.isFinal=!!u,m&&(e.session={}),n.eventType=t,d=n,m=(u=e).session,t=d.pointers,i=t.length,m.firstInput||(m.firstInput=G(d)),1<i&&!m.firstMultiple?m.firstMultiple=G(d):1===i&&(m.firstMultiple=!1),i=m.firstInput,r=m.firstMultiple,a=(r||i).center,p=d.center=W(t),d.timeStamp=ve(),d.deltaTime=d.timeStamp-i.timeStamp,d.angle=K(a,p),d.distance=b(a,p),m),f=d,h=f.center,g=p.offsetDelta||{},v=p.prevDelta||{},y=p.prevInput||{},y=(f.eventType!==E&&y.eventType!==L||(v=p.prevDelta={x:y.deltaX||0,y:y.deltaY||0},g=p.offsetDelta={x:h.x,y:h.y}),f.deltaX=v.x+(h.x-g.x),f.deltaY=v.y+(h.y-g.y),d.offsetDirection=V(d.deltaX,d.deltaY),i=Y(d.deltaTime,d.deltaX,d.deltaY),d.overallVelocityX=i.x,d.overallVelocityY=i.y,d.overallVelocity=w(i.x)>w(i.y)?i.x:i.y,d.scale=r?function(e,t){return b(t[0],t[1],Ce)/b(e[0],e[1],Ce)}(r.pointers,t):1,d.rotation=r?function(e,t){return K(t[1],t[0],Ce)+K(e[1],e[0],Ce)}(r.pointers,t):0,d.maxPointers=!m.prevInput||d.pointers.length>m.prevInput.maxPointers?d.pointers.length:m.prevInput.maxPointers,m),p=d,f=y.lastInterval||p,v=p.timeStamp-f.timeStamp;p.eventType!=I&&(Le<v||f.velocity===_)?(o=p.deltaX-f.deltaX,h=p.deltaY-f.deltaY,v=Y(v,o,h),l=v.x,s=v.y,c=w(v.x)>w(v.y)?v.x:v.y,o=V(o,h),y.lastInterval=p):(c=f.velocity,l=f.velocityX,s=f.velocityY,o=f.direction),p.velocity=c,p.velocityX=l,p.velocityY=s,p.direction=o,a=u.element,H(d.srcEvent.target,a)&&(a=d.srcEvent.target),d.target=a,e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function G(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:y(e.pointers[n].clientX),clientY:y(e.pointers[n].clientY)},n++;return{timeStamp:ve(),pointers:t,center:W(t),deltaX:e.deltaX,deltaY:e.deltaY}}function W(e){var t=e.length;if(1===t)return{x:y(e[0].clientX),y:y(e[0].clientY)};for(var n=0,o=0,i=0;i<t;)n+=e[i].clientX,o+=e[i].clientY,i++;return{x:y(n/t),y:y(o/t)}}function Y(e,t,n){return{x:t/e||0,y:n/e||0}}function V(e,t){return e===t?Ie:w(e)>=w(t)?e<0?q:x:t<0?C:A}function b(e,t,n){var o=t[(n=n||xe)[0]]-e[n[0]],t=t[n[1]]-e[n[1]];return Math.sqrt(o*o+t*t)}function K(e,t,n){var o=t[(n=n||xe)[0]]-e[n[0]],t=t[n[1]]-e[n[1]];return 180*Math.atan2(t,o)/Math.PI}function m(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,d.apply(this,arguments)}function J(){this.evEl=je,this.evWin=Pe,d.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function Z(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,d.apply(this,arguments)}function p(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},d.apply(this,arguments)}function Q(){d.apply(this,arguments);var e=D(this.handler,this);this.touch=new p(this.manager,e),this.mouse=new m(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function ee(e){var t,n,e=e.changedPointers[0];e.identifier===this.primaryTouch&&(t={x:e.clientX,y:e.clientY},this.lastTouches.push(t),n=this.lastTouches,setTimeout(function(){var e=n.indexOf(t);-1<e&&n.splice(e,1)},Be))}function te(e,t){this.manager=e,this.set(t)}function f(e){this.options=k({},this.defaults,e||{}),this.id=be++,this.manager=null,this.options.enable=M(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function ne(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}function oe(e){return e==A?"down":e==C?"up":e==q?"left":e==x?"right":""}function h(e,t){t=t.manager;return t?t.get(e):e}function g(){f.apply(this,arguments)}function ie(){g.apply(this,arguments),this.pX=null,this.pY=null}function re(){g.apply(this,arguments)}function ae(){f.apply(this,arguments),this._timer=null,this._input=null}function ce(){g.apply(this,arguments)}function le(){g.apply(this,arguments)}function se(){f.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function v(e,t){return(t=t||{}).recognizers=M(t.recognizers,v.defaults.preset),new ue(e,t)}function ue(e,t){this.options=k({},v.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new((t=this).options.inputClass||(ke?J:Se?p:we?Q:m))(t,X),this.touchAction=new te(this,this.options.touchAction),de(this,!0),a(this.options.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function de(n,o){var i,r=n.element;r.style&&(a(n.options.cssProps,function(e,t){i=u(r.style,t),o?(n.oldCssProps[i]=r.style[i],r.style[i]=e):r.style[i]=n.oldCssProps[i]||""}),o||(n.oldCssProps={}))}var me,pe,fe=["","webkit","Moz","MS","ms","o"],he=R.createElement("div"),ge="function",y=Math.round,w=Math.abs,ve=Date.now,k="function"!=typeof Object.assign?function(e){if(e===_||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var o=arguments[n];if(o!==_&&null!==o)for(var i in o)o.hasOwnProperty(i)&&(t[i]=o[i])}return t}:Object.assign,ye=U(function(e,t,n){for(var o=Object.keys(t),i=0;i<o.length;)n&&e[o[i]]!==_||(e[o[i]]=t[o[i]]),i++;return e},"extend","Use `assign`."),_e=U(function(e,t){return ye(e,t,!0)},"merge","Use `assign`."),be=1,we="ontouchstart"in i,ke=u(i,"PointerEvent")!==_,Se=we&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),S="touch",Ee="mouse",Le=25,E=1,L=4,I=8,Ie=1,q=2,x=4,C=8,A=16,T=q|x,O=C|A,qe=T|O,xe=["x","y"],Ce=["clientX","clientY"],Ae=(d.prototype={handler:function(){},init:function(){this.evEl&&t(this.element,this.evEl,this.domHandler),this.evTarget&&t(this.target,this.evTarget,this.domHandler),this.evWin&&t(F(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&o(this.element,this.evEl,this.domHandler),this.evTarget&&o(this.target,this.evTarget,this.domHandler),this.evWin&&o(F(this.element),this.evWin,this.domHandler)}},{mousedown:E,mousemove:2,mouseup:L}),Te=(e(m,d,{handler:function(e){var t=Ae[e.type];t&E&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=L),this.pressed&&(t&L&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:Ee,srcEvent:e}))}}),{pointerdown:E,pointermove:2,pointerup:L,pointercancel:I,pointerout:I}),Oe={2:S,3:"pen",4:Ee,5:"kinect"},je="pointerdown",Pe="pointermove pointerup pointercancel",$e=(i.MSPointerEvent&&!i.PointerEvent&&(je="MSPointerDown",Pe="MSPointerMove MSPointerUp MSPointerCancel"),e(J,d,{handler:function(e){var t=this.store,n=!1,o=e.type.toLowerCase().replace("ms",""),o=Te[o],i=Oe[e.pointerType]||e.pointerType,r=i==S,a=c(t,e.pointerId,"pointerId");o&E&&(0===e.button||r)?a<0&&(t.push(e),a=t.length-1):o&(L|I)&&(n=!0),a<0||(t[a]=e,this.callback(this.manager,o,{pointers:t,changedPointers:[e],pointerType:i,srcEvent:e}),n&&t.splice(a,1))}}),{touchstart:E,touchmove:2,touchend:L,touchcancel:I}),Re=(e(Z,d,{handler:function(e){var t,n=$e[e.type];n===E&&(this.started=!0),this.started&&(t=function(e,t){var n=s(e.touches),e=s(e.changedTouches);return[n=t&(L|I)?z(n.concat(e),"identifier",!0):n,e]}.call(this,e,n),n&(L|I)&&t[0].length-t[1].length==0&&(this.started=!1),this.callback(this.manager,n,{pointers:t[0],changedPointers:t[1],pointerType:S,srcEvent:e}))}}),{touchstart:E,touchmove:2,touchend:L,touchcancel:I}),Be=(e(p,d,{handler:function(e){var t=Re[e.type],n=function(e,t){var n=s(e.touches),o=this.targetIds;if(t&(2|E)&&1===n.length)return o[n[0].identifier]=!0,[n,n];var i,r=s(e.changedTouches),a=[],c=this.target,l=n.filter(function(e){return H(e.target,c)});if(t===E)for(i=0;i<l.length;)o[l[i].identifier]=!0,i++;for(i=0;i<r.length;)o[r[i].identifier]&&a.push(r[i]),t&(L|I)&&delete o[r[i].identifier],i++;return a.length?[z(l.concat(a),"identifier",!0),a]:void 0}.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:S,srcEvent:e})}}),2500),Ue=(e(Q,d,{handler:function(e,t,n){var o=n.pointerType==S,i=n.pointerType==Ee;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(o)!function(e,t){e&E?(this.primaryTouch=t.changedPointers[0].identifier,ee.call(this,t)):e&(L|I)&&ee.call(this,t)}.call(this,t,n);else if(i&&function(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,o=0;o<this.lastTouches.length;o++){var i=this.lastTouches[o],r=Math.abs(t-i.x),i=Math.abs(n-i.y);if(r<=25&&i<=25)return!0}return!1}.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}}),u(he.style,"touchAction")),De=Ue!==_,Ne="compute",Me="manipulation",j="none",P="pan-x",$="pan-y",He=De&&(me={},pe=i.CSS&&i.CSS.supports,["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(e){me[e]=!pe||i.CSS.supports("touch-action",e)}),me);te.prototype={set:function(e){e==Ne&&(e=this.compute()),De&&this.manager.element.style&&He[e]&&(this.manager.element.style[Ue]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e,t,n,o=[];return a(this.manager.recognizers,function(e){N(e.options.enable,[e])&&(o=o.concat(e.getTouchAction()))}),l(e=o.join(" "),j)||(t=l(e,P),n=l(e,$),t&&n)?j:t||n?t?P:$:l(e,Me)?Me:"auto"},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(!this.manager.session.prevented){var o=this.actions,i=l(o,j)&&!He[j],r=l(o,$)&&!He[$],o=l(o,P)&&!He[P];if(i){var a=1===e.pointers.length,c=e.distance<2,e=e.deltaTime<250;if(a&&c&&e)return}return(!o||!r)&&(i||r&&n&T||o&&n&O)?this.preventSrc(t):void 0}t.preventDefault()},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}},f.prototype={defaults:{},set:function(e){return k(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){var t;return n(e,"recognizeWith",this)||(t=this.simultaneous)[(e=h(e,this)).id]||(t[e.id]=e).recognizeWith(this),this},dropRecognizeWith:function(e){return n(e,"dropRecognizeWith",this)||(e=h(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){var t;return n(e,"requireFailure",this)||-1===c(t=this.requireFail,e=h(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){return n(e,"dropRequireFailure",this)||(e=h(e,this),-1<(e=c(this.requireFail,e))&&this.requireFail.splice(e,1)),this},hasRequireFailures:function(){return 0<this.requireFail.length},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(t){function e(e){n.manager.emit(e,t)}var n=this,o=this.state;o<8&&e(n.options.event+ne(o)),e(n.options.event),t.additionalEvent&&e(t.additionalEvent),8<=o&&e(n.options.event+ne(o))},tryEmit:function(e){return this.canEmit()?this.emit(e):void(this.state=32)},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(33&this.requireFail[e].state))return!1;e++}return!0},recognize:function(e){e=k({},e);return N(this.options.enable,[this,e])?(56&this.state&&(this.state=1),this.state=this.process(e),void(30&this.state&&this.tryEmit(e))):(this.reset(),void(this.state=32))},process:function(e){},getTouchAction:function(){},reset:function(){}},e(g,f,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,o=6&t,e=this.attrTest(e);return o&&(n&I||!e)?16|t:o||e?n&L?8|t:2&t?4|t:2:32}}),e(ie,g,{defaults:{event:"pan",threshold:10,pointers:1,direction:qe},getTouchAction:function(){var e=this.options.direction,t=[];return e&T&&t.push($),e&O&&t.push(P),t},directionTest:function(e){var t=this.options,n=!0,o=e.distance,i=e.direction,r=e.deltaX,a=e.deltaY;return i&t.direction||(o=t.direction&T?(i=0===r?Ie:r<0?q:x,n=r!=this.pX,Math.abs(e.deltaX)):(i=0===a?Ie:a<0?C:A,n=a!=this.pY,Math.abs(e.deltaY))),e.direction=i,n&&o>t.threshold&&i&t.direction},attrTest:function(e){return g.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=oe(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),e(re,g,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[j]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},emit:function(e){var t;1!==e.scale&&(t=e.scale<1?"in":"out",e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),e(ae,f,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,o=e.distance<t.threshold,i=e.deltaTime>t.time;if(this._input=e,!o||!n||e.eventType&(L|I)&&!i)this.reset();else if(e.eventType&E)this.reset(),this._timer=B(function(){this.state=8,this.tryEmit()},t.time,this);else if(e.eventType&L)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){8===this.state&&(e&&e.eventType&L?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=ve(),this.manager.emit(this.options.event,this._input)))}}),e(ce,g,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[j]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)}}),e(le,g,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:T|O,pointers:1},getTouchAction:function(){return ie.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return n&(T|O)?t=e.overallVelocity:n&T?t=e.overallVelocityX:n&O&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&w(t)>this.options.velocity&&e.eventType&L},emit:function(e){var t=oe(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),e(se,f,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Me]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,o=e.distance<t.threshold,i=e.deltaTime<t.time;if(this.reset(),e.eventType&E&&0===this.count)return this.failTimeout();if(o&&i&&n){if(e.eventType!=L)return this.failTimeout();o=!this.pTime||e.timeStamp-this.pTime<t.interval,i=!this.pCenter||b(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,i&&o?this.count+=1:this.count=1,this._input=e,0==this.count%t.taps)return this.hasRequireFailures()?(this._timer=B(function(){this.state=8,this.tryEmit()},t.interval,this),2):8}return 32},failTimeout:function(){return this._timer=B(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),v.VERSION="2.0.7",v.defaults={domEvents:!1,touchAction:Ne,enable:!0,inputTarget:null,inputClass:null,preset:[[ce,{enable:!1}],[re,{enable:!1},["rotate"]],[le,{direction:T}],[ie,{direction:T},["swipe"]],[se],[se,{event:"doubletap",taps:2},["tap"]],[ae]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};ue.prototype={set:function(e){return k(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){this.touchAction.preventDefaults(e);var n,o=this.recognizers,i=t.curRecognizer;(!i||8&i.state)&&(i=t.curRecognizer=null);for(var r=0;r<o.length;)n=o[r],2===t.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(e),!i&&14&n.state&&(i=t.curRecognizer=n),r++}},get:function(e){if(e instanceof f)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){var t;return n(e,"add",this)?this:((t=this.get(e.options.event))&&this.remove(t),this.recognizers.push(e),(e.manager=this).touchAction.update(),e)},remove:function(e){var t;return n(e,"remove",this)||(e=this.get(e))&&-1!==(e=c(t=this.recognizers,e))&&(t.splice(e,1),this.touchAction.update()),this},on:function(e,t){var n;if(e!==_&&t!==_)return n=this.handlers,a(r(e),function(e){n[e]=n[e]||[],n[e].push(t)}),this},off:function(e,t){var n;if(e!==_)return n=this.handlers,a(r(e),function(e){t?n[e]&&n[e].splice(c(n[e],t),1):delete n[e]}),this},emit:function(e,t){this.options.domEvents&&(n=e,o=t,(i=R.createEvent("Event")).initEvent(n,!0,!0),(i.gesture=o).target.dispatchEvent(i));var n,o,i,r=this.handlers[e]&&this.handlers[e].slice();if(r&&r.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var a=0;a<r.length;)r[a](t),a++}},destroy:function(){this.element&&de(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},k(v,{INPUT_START:E,INPUT_MOVE:2,INPUT_END:L,INPUT_CANCEL:I,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:Ie,DIRECTION_LEFT:q,DIRECTION_RIGHT:x,DIRECTION_UP:C,DIRECTION_DOWN:A,DIRECTION_HORIZONTAL:T,DIRECTION_VERTICAL:O,DIRECTION_ALL:qe,Manager:ue,Input:d,TouchAction:te,TouchInput:p,MouseInput:m,PointerEventInput:J,TouchMouseInput:Q,SingleTouchInput:Z,Recognizer:f,AttrRecognizer:g,Tap:se,Pan:ie,Swipe:le,Pinch:re,Rotate:ce,Press:ae,on:t,off:o,each:a,merge:_e,extend:ye,assign:k,inherit:e,bindFn:D,prefixed:u}),(void 0!==i?i:"undefined"!=typeof self?self:{}).Hammer=v,void 0!==(Ge=function(){return v}.call(Fe,Xe,Fe,ze))&&(ze.exports=Ge)}(window,document)},28:function(e,t,n){"use strict";var v,o,i=n(0),r=n(6),l=n(9),a=n(8),c=n(84),y=n(16),_=n(11),s=n(3),k=n(1),u=n(67),d=n(17),m=n(30),S=(n(225),$(document).ready(function(){var e,n;null!==document.querySelector("#detail")&&(0<parseFloat(total_pack.replace(",","."),10)&&null!=pack_items?(current<total_pack&&current,0<current?current:total_pack,e=!0,"IE"==k.f()&&($("a.next").attr("href",$(".next-icon-1").attr("data-slug")),$("a.prev").attr("href",$(".prev-icon-1").attr("data-slug")),e=!1),e&&(pack,icon_id,"undefined"!=typeof ie&&ie?$("#detail").addClass("loaded ie9"):pack_items instanceof Array&&pack_items.length&&(n=new S(500),S.icon_equivalent_wrapper=document.querySelector(".detail-styles .detail_equivalent_icons"),S.icon_equivalent_wrapper&&(S.icon_equivalent_tpl=Handlebars.tag("detail-icon-equivalent"),S.icon_equivalent_wrapper=document.querySelector(".detail-styles .detail_equivalent_icons")),$("#detail a.prev, #detail a.next").fadeIn(250),$("#detail a.next").on("click",function(e){e.preventDefault(),n.navigation("next")}),$("#detail a.prev").on("click",function(e){e.preventDefault(),n.navigation("prev")}),$(document).on("keydown",function(e){var t;document.querySelector(".fi-modal input[type=checkbox]:checked")||(t=document.querySelectorAll(".collection .collection-content.edit-mode .icons .collectionIcon .edit .collection-icon-rename, .collection .collection-header .edit-name.active .collection-name-input"),[].some.call(t,function(e){return e==document.activeElement}))||(39==e.keyCode&&n.navigation("next"),37==e.keyCode&&n.navigation("prev"))})))):($(".next").html(""),$(".prev").html(""),$(".prev-icon").hide(),$(".next-icon").hide()),$("#detail").addClass("loaded"),C())}),function(u){var e,t,n,o,d=this,m=!1,p=!1,f=pack_items.length-1,h=$(".prev-icon-2"),g=$(".prev-icon-1"),v=$(".main-icon"),y=$(".next-icon-1"),_=$(".next-icon-2"),b=$(".detail-header h1");function w(){e=current-1<0?f:current-1,t=e-1<0?f:e-1,n=current+1>f?0:current+1,o=f<n+1?0:n+1,pack_items[t].src,pack_items[e].src,pack_items[current].src,pack_items[n].src,pack_items[o].src}w(),this.setImages=function(e){"next"===e&&(h.removeAttr("class").addClass("next-icon next-icon-2").not('[data-type="svg"]').find("img").attr("src",pack_items[o].src),g.removeAttr("class").addClass("prev-icon prev-icon-2"),v.removeAttr("class").addClass("prev-icon prev-icon-1"),y.removeAttr("class").addClass("main-icon"),_.removeAttr("class").addClass("next-icon next-icon-1")),"prev"===e&&(h.removeAttr("class").addClass("prev-icon prev-icon-1"),g.removeAttr("class").addClass("main-icon"),v.removeAttr("class").addClass("next-icon next-icon-1"),y.removeAttr("class").addClass("next-icon next-icon-2"),_.removeAttr("class").addClass("prev-icon prev-icon-2").not('[data-type="svg"]').find("img").attr("src",pack_items[t].src)),h=$(".prev-icon-2"),g=$(".prev-icon-1"),v=$(".main-icon"),y=$(".next-icon-1"),_=$(".next-icon-2"),p&&("next"===e&&(1==pack_items[o].color&&0==pack_items[o].premium||1==pack_items[o].premium&&gr.auth.me.premium?getSVG(_.not('[data-type="img"]'),pack_items[o].src):_.not('[data-type="img"]').html('<img src="'+pack_items[o].src+'" />')),"prev"===e)&&(1==pack_items[o].color&&0==pack_items[o].premium||1==pack_items[o].premium&&gr.auth.me.premium?getSVG(h.not('[data-type="img"]'),pack_items[t].src):h.not('[data-type="img"]').html('<img src="'+pack_items[t].src+'" />'))},this.navigation=function(e){var t=document.querySelectorAll(".gallery div.main-icon img");if([].forEach.call(t,function(e){var t=e.src.slice(-3);e.src="png"==t?pack_items[current].png:pack_items[current].src}),!m){m=!0,p=$("#detail .svg-version").hasClass("active"),b.addClass("out"),"next"===e&&(current++,h.addClass("nextPos"),g.addClass("prevOut"),v.addClass("mainPrev"),y.addClass("nextMain"),_.addClass("nextIn"),ga("send","event","Detail View","Move","Next")),"prev"===e&&(current--,h.addClass("prevIn"),g.addClass("prevMain"),v.addClass("mainNext"),y.addClass("nextOut"),_.addClass("prevPos"),ga("send","event","Detail View","Move","Previous")),(current=current>f?0:current)<0&&(current=f),w(),$(".main-icon-without-slide").find("img").attr("src",pack_items[current].src);var n=pack_items[current].id;if(!n||!S.icon_equivalent_wrapper||$.ajax({url:"/ajax/get_equivalents/"+n,type:"GET",async:!0,dataType:"json",success:function(e){for(var t in S.icon_equivalent_wrapper.innerHTML="",e)e[t].active=n==t?" active":"",e[t].id=t,S.icon_equivalent_wrapper.insertAdjacentHTML("beforeend",S.icon_equivalent_tpl(e[t]))},error:function(e,t,n){S.icon_equivalent_wrapper.innerHTML="",console.error("AX ERROR["+n+"]: "+t)}}),pack_items[current].tags.length){var o=document.querySelector("ul.tags");o.innerHTML="";for(var i=0;i<pack_items[current].tags.length;i++){var r=document.createElement("li"),a=document.createElement("a");a.innerHTML=pack_items[current].tags[i].tag,a.href=pack_items[current].tags[i].slug,r.appendChild(a),o.appendChild(r)}}t=1==pack_items[current].selection?"flaticon-selection":"hidden";t=1==pack_items[current].premium?"icon icon--premium":t;null!==(c=document.querySelector("#detail h1 span i"))&&(c.className="",c.classList.add(t)),document.querySelector("#detail h1 span").classList.toggle("premium",1==pack_items[current].premium);var c=pack_items[current].premium?messages.common.free:"premium",t=pack_items[current].premium?"premium":messages.common.free;$("h1 span.title").html(pack_items[current].description);var l=(s=document.querySelector("h1")).lastChild.nodeValue,s=(s.lastChild.nodeValue=l.replace(c,t),Object(k.a)(".modal-download p.filename .description").innerHTML=pack_items[current].description,Object(k.a)("meta[property='og:title']").content=pack_items[current].metaTwitterTitle,Object(k.a)("meta[name='twitter:title']").content=pack_items[current].metaTwitterTitle,pack_items[current].src.replace("www.flaticon","imageog.flaticon").replace("svg/","png/512/").replace(".svg",".png")+"?size=1200x630f&pad=10,10,10,10&ext=png&bg=FFFFFFFF");Object(k.a)(".modal-download p.filename img").src=pack_items[current].src,Object(k.a)("meta[property='og:image']").content=s,Object(k.a)("meta[name='twitter:image']").content=s;(l=Object(k.a)("meta[name='twitter:description']").content.split("."))[0]=l[0].replace(c,t),Object(k.a)("meta[name='twitter:description']").content=l.join("."),Object(k.a)("meta[property='og:url']").content=pack_items[current].slug,Object(k.a)("meta[property='og:description']").content=l.join("."),Object(k.a)(".modal-download .modal-body").classList.toggle("nopremium",!pack_items[current].selection),Object(k.a)("#detail .publish_date").textContent=pack_items[current].published;var s=pack_items[current].slug,l=document.querySelector(".category-icon"),s=(document.title=pack_items[current].description+" -"+document.title.split("-")[1].replace(k.d(l.innerHTML),k.d(pack_items[current].category)).replace(new RegExp("("+c+")","gi"),k.d(t)),pack_items[current].category?document.querySelector(".category-in-icon").classList.remove("hidden"):document.querySelector(".category-in-icon").classList.add("hidden"),l.href=pack_items[current].category_url,l.innerHTML=pack_items[current].category,(c=Object(k.a)("#fi-premium-upgrade-button .btn-upgrade"))&&(c.href=ACCOUNTS_BASE_URL+"premium/"+pack_items[current].pack_id),"history"in window&&window.history.pushState({flaticon:"icon"},pack_items[current].description,s),t=s.replace(APP_URL,""),ga("send","pageview","/"+t),Object(k.a)("#download-form #icon_id").value=pack_items[current].id,Object(k.a)("#download-form #author").value=pack_items[current].team_id,Object(k.a)("#download-form #selection").value=pack_items[current].selection,Object(k.a)("#download-form #colored").value=pack_items[current].color,Object(k.a)("#download-form #premium").value=pack_items[current].premium,Object(k.a)("#download-form #keyword").value=pack_items[current].description,pack_items[current].tags.map(function(e){return e.tag_id}).join());$.ajax({url:"/ajax/search/tags",data:{tags:s,pack:pack},type:"POST",async:!0,dataType:"json",success:function(e){var t=e.items,n=e.total,e=e.tag;$(INFINITY.css_selector).html(""),$("section .tags a span").html(n),0<parseInt(n)&&((n=$("section.related-tags a.badge:last-child")).attr({href:"/"+e.slug,title:e.name}),n.html(messages.common.view_all+" - <span>"+k.d(e.name)+"</span> "+messages.common.icons),document.querySelector(".related-header p").innerHTML=`${messages.common.more}
                <a class="text-link" href="/${e.slug}" title="${messages.common.more} ${k.d(e.name)} ${messages.common.icons}">
                ${k.d(e.name)} </a> `+messages.common.icons,$(".related-header a.badge span").html(e.total),INFINITY.setUrl=!1,INFINITY.css_selector="section.related-tags ul.icons",INFINITY.tplLoadItem(t,!1),(n=document.getElementById("fi-premium-sponsor-freepik")).querySelector("iframe"))&&(n.querySelector("iframe").remove(),n.insertAdjacentHTML("beforeend",SponsorBanner.getFreepikSponsor(e.name)))},error:function(e,t,n){console.error("AX ERROR["+n+"]: "+t)}}),C(),480<window.innerWidth&&$("html,body").animate({scrollTop:0},"slow"),null!==(l=document.getElementById("s-p"))&&(l.dataset.term=pack_items[current].keyword,c={premium:!0,element:l,term:l.dataset.term},SponsorBanner.insert(c)),setTimeout(function(){b.removeClass("out")},300),setTimeout(function(){d.setImages(e),m=!1},u)}}});function p(){var e,t,n,o,i,r,a,c;null!==document.querySelector("#detail")&&(window.toggleDetailBtnInterval&&clearInterval(window.toggleDetailBtnInterval),"undefined"!=typeof pack_items&&null!==pack_items&&pack_items instanceof Array&&(current==parseInt(current,10)||0==current)?(e=parseInt(pack_items[current].id,10),t=pack_items[current].keyword,n=parseInt(pack_items[current].team_id,10),o=parseInt(pack_items[current].color,10)):(e=parseInt(document.getElementById("icon_id").value,10),t=document.querySelector("#download-form #keyword").value,n=parseInt(document.getElementById("team").value,10),o=parseInt(document.getElementById("colored").value,10),i="0"),window.db instanceof Object?(r="addIcon",a=Collection.getActive(),window.db.queryAll(a.bookmark_id,{query:{id:e}}).length&&(r="delIcon"),(a=document.getElementById("detail-icon-button"))&&(c="delIcon"===r?(a.classList.add("btn-danger"),messages.collection.delete_icon):(a.classList.remove("btn-danger"),messages.collection.add_icon),void 0!==a.querySelector("span")&&(a.querySelector("span").innerHTML=c),a.setAttribute("onclick","Widget."+r+"("+e+",'"+Object(l.a)(t)+"',"+n+", "+o+", "+i+")"),a.get("i").classList.toggle("icon--removecollection","delIcon"==r))):window.toggleDetailBtnInterval=setInterval(C,1e3))}n.d(t,"d",function(){return g}),n.d(t,"a",function(){return E}),n.d(t,"c",function(){return I}),n.d(t,"b",function(){return q}),n.d(t,"f",function(){return C}),n.d(t,"e",function(){return A});const f=BASE_URL+"ajax/download/validate",h=(window.addEventListener("userSessionLoaded",()=>{var e;document.getElementById("collections-toggle")&&($(".edit-icon-content").on("click",function(e){e.stopPropagation()}),$(".edit-icon-wrapper .close-button").on("click",function(e){e.stopPropagation(),q._openEditModal(!1)}),$(document).on("click",".btn-edit-icon",function(){let e=document.querySelector("#download-form");(e="icon-detail"==window.view.section?document.querySelector("#detail #download-form"):e)&&q._openEditModal(!0)}),$(document).on("click",".context_btn-edit-icon",function(e){e.preventDefault();e=e.currentTarget.closest("ul").querySelector("li .link-icon-detail");e&&(e.dataset.edit=!0,e.click())}),$(document).on("click",".only_registered .close-alert",function(){window.Editor.close(),q.reset_widget()}),$(".edit-icon-content .right > header button").on("click",q._toggleEditPanel),$(".edit-icon-content .left #download_button").on("click",function(){q._toggleEditPanel(!0)}),$(".collection").on("change",".collection_icons_list li .edit input",function(e){var t=$('.collection[data-order="0"] .collection-content.color-mode .icons li .edit label input:checked');$("#edit-color").toggleClass("show",0<t.length)}),$(".collections").on("change",".collection_icons_list li .edit input",function(e){var t=$('.collection[data-order="0"] .collection-content.edit-mode:not(.color-mode) .icons li .edit label input:checked');this.parent(".icon--item"),E.getActive().bookmark_id;q._openEditModal(0<t.length),$(document).on("click",".collection_color_button",q.createCollectionCPicker)}),$(document).on("click",".edit-icon-content .right header button",function(){q._openEditModal(!1),$("#edit-color").removeClass("show"),$('.collection[data-order="0"] .collection_icons_list .icon--item .edit input[type=checkbox]:checked').prop("checked",!1)}),window.addEventListener("dragstart",function(e){e||event},!1),window.addEventListener("dragenter",function(e){(e=e||event).preventDefault()},!1),window.addEventListener("dragleave",function(e){(e=e||event).preventDefault()},!1),window.addEventListener("dragover",function(e){(e=e||event).preventDefault()},!1),window.addEventListener("dragend",function(e){(e=e||event).preventDefault()},!1),window.addEventListener("drop",function(e){(e=e||event).preventDefault()},!1),$(document).on("dragstart",".collection-content.sort-mode .collectionIcon",function(e){e.originalEvent.dataTransfer.setData("text/plain","icon"),w.moveDragStart(e)}),$(document).on("dragleave",".collection-content.sort-mode .collectionIcon",function(e){w.moveDragLeave(e)}),$(document).on("drop",".collection-content.sort-mode .collectionIcon",function(e){w.moveDrop(e)}),$(document).on("dragend",".collection-content.sort-mode .collectionIcon",function(e){w.moveDragEnd(e)}),$(document).on("dragenter",".collection-content.sort-mode .collectionIcon",function(e){w.moveDragEnter(e)}),$("#btn-fetch-collection").on("click",E.fetch),$(document).on("click",".overlay-drop .register button",function(e){e.preventDefault(),this.closest(".overlay-drop").style.display="none",this.closest(".overlay-drop").classList.remove("register")}),$(document).on("click",".overlay-drop .upgrade button",function(e){e.preventDefault(),this.parentNode.parentNode.style.display="none",this.parentNode.parentNode.classList.remove("upgrade")}),$(document).on("click",".overlay-drop .close-button",function(){this.closest(".overlay-drop").style.display="none",this.closest(".overlay-drop").classList.remove("upgrade")}),$(document).on("click",".collection-content:not(.sort-mode) .icon-upload",function(e){e.preventDefault(),this.parentNode.parentNode.parentNode.parentNode.parentNode.querySelector("input.fileCollection").click()}),$(document).on("change",".fileCollection",function(e){if(e.preventDefault(),!E.checkUploadLimits(e))return!1;if(e.target.files.length){for(var t=0;t<e.target.files.length;t++)e.target.files[t].id=Date.now().toString()+t,w.checkUploadSvg(e.target.files[t]);document.getElementById("fileCollection-"+E.getActive().bookmark_id).value=""}}),$(".collections").on("click",".help_link",function(e){e.preventDefault(),window.open(this.href,"_blank").focus()}),$(".modal-download.modal-collection #download-free").on("click",function(e){e.stopPropagation(),$('[name="download-collection-form"].active-form').trigger("submit"),Object(k.a)("#modal-download").checked=!1,Object(k.a)("#modal-credit").checked=u.open_attribution_modal()}),$("#modal-download").on("change",function(e){var t;this.checked||null!==(t=document.querySelector(".collection.expanded .download-holder button"))&&(t.classList.remove("disabled"),document.getElementById("collections").classList.remove("loading"))}),$(".modal-download .modal-fade-screen").on("click",function(e){document.querySelector(".collection.expanded .download-holder button").classList.remove("disabled"),document.getElementById("collections").classList.remove("loading")}),$("#max-collections").on("click",".max-collections__item",function(e){e.stopPropagation();e=document.get("#max-collections #button-confirm");e&&(document.querySelectorAll("input[name=choice]:checked").length==E.limit.collections?e.disabled=!1:e.disabled=!0)}),$("#max-collections").on("click","#button-confirm",function(){var t=[];document.querySelectorAll("input[name=choice]:checked").forEach(function(e){e=e.closest("li");t.push(parseInt(e.getAttribute("data-bookmark"),10))}),window.db.update("list",function(e){return!~t.indexOf(parseInt(e.bookmark_id,10))},function(e){for(var t=Object(k.a)(".collection[data-bookmark='"+e.bookmark_id+"']"),n=Object(k.a)(".collection[data-bookmark='"+e.bookmark_id+"'] .collection-header"),o=Object(k.a)(".collection[data-bookmark='"+e.bookmark_id+"'] .collection-header .header-options .popover-content").querySelectorAll("p, hr, div"),i=0;i<o.length;i++)"option-buttons"!=o[i].className&&o[i].remove();t.classList.add("locked"),n.insertAdjacentHTML("beforeend",'<div class="locked-options"><i class="icon icon--lock"></i></div>');n=t.get(".popover .menu-options"),n&&([].forEach.call(n.querySelectorAll("li button.collection-option"),function(e){e.classList.contains("delete-collection")||e.classList.add("hidden")}),null!=n.querySelector(".locked-collection"))&&n.querySelector(".locked-collection").classList.remove("hidden"),n=t.get(".download-wrapper"),n&&n.parentNode.removeChild(n),n=t.get(".upgrade_btn");return n&&n.classList.remove("hidden"),e.status=0,E.emit("set",{bookmark_id:e.bookmark_id,status:0}),e}),window.db.commit(),Object(k.a)("#max-collections").classList.remove("visible")}),$("#collections").on("click",".collection_share_button",function(e){var t;Array.from(e.target.parentNode.offsetParent.children).filter(e=>{e.classList.contains("selectInput")&&(t=e.value)}),E.share(this.dataset.type,t)}),$(document).on("click",".collection-icon-delete, .collectionIcon .icon--removecollection",function(e){e.stopPropagation(),e.preventDefault(),q.delIcon(parseInt(this.parent(".icon--item").dataset.id,10))}),$(document).on("click",".icon--item .overlay button.add-remove",function(e){e.stopPropagation(),e.preventDefault();var e=this.parent(".icon--item"),t=e.get(".tooltip .content span");q[e.classList.contains("selected")?"delIcon":"addIcon"](e.dataset.id,e.dataset.name,e.dataset.team,e.dataset.color,e.dataset.premium,e.dataset.custom_color,e.dataset.icon_src),t&&(e.classList.contains("selected")?t.innerHTML="Remove from Collection":t.innerHTML="Add to collection")}),$(document).on("click",".collection .collection-header",function(e){e.stopPropagation(),window.launching=!0;e=this.parent(".collection");e.classList.contains("expanded")||(window.firstColorChange=!0,E.setActive(e.dataset.bookmark))}),$(document).on("click",".collection-header .edit-collection",function(e){e.stopPropagation(),window.launching=!0;var t,e=this.parent(".collection");e.classList.contains("expanded")?e.classList.contains("locked")||((t=e.get(".edit-name")).classList.add("active"),t.get("input").select()):(window.firstColorChange=!0,E.setActive(e.dataset.bookmark))}),$(document).on("click",".collectionIcon .edit .popover-button",function(){q.createIconsCPicker(this)}),$(document).on("click",".collection .edit-name:not(.active), .edit-name.active .flaticon-disk",function(e){e.stopPropagation(),E.rename(this)}),$(document).on("click",".download-holder button",function(e){e.stopPropagation(),this.parent(".collection").get(".collection-download").classList.add("active");for(const t of document.querySelectorAll('[name="download-collection-form"]'))t.classList.remove("active-form");this.parent(".collection").querySelector('[name="download-collection-form"]').classList.add("active-form")}),$(document).on("click","#collections ul.download li button",function(e){e.stopPropagation(),e.preventDefault(),this.parent(".download-files").get(".customize").classList.add("active")}),$(document).on("click",".collection-download.active .download-button",function(e){e.stopPropagation();e=this.parent(".collection");e.get(".collection-download .customize").classList.remove("active"),e.get(".collection-download").classList.remove("active"),"png"==this.dataset.format||s.a.isPremium()?E.download(e.dataset.bookmark,this.dataset.format,this.dataset.size):_.a.callModalDownloadOnlyForPremium()}),$(document).on("click",".collection-download.active .header-download button",function(e){e.stopPropagation();e=this.parent(".collection");e.get(".collection-download .customize").classList.remove("active"),e.get(".collection-download").classList.remove("active")}),$(window).on("resize",function(){clearTimeout(window.resizeWindowInterval),window.resizeWindowInterval=setTimeout(function(){Object(k.a)(".collection.expanded .collection-content");delete window.resizeWindowInterval},500)}),$(document).on("keyup",".collection-name-input",function(e){e.preventDefault(),13==e.which&&E.rename(this),27==e.which&&(this.value=this.dataset.original,this.parentElement.classList.remove("active"),this.blur())}),$(document).on("click",".collection-icon-rename",function(e){e.stopPropagation(),this.select()}),$(document).on("keyup",".collection-icon-rename",function(e){e.preventDefault(),13==e.which&&w.rename(this),27==e.which&&(this.value=this.dataset.original)}),$(document).on("blur",".collection-icon-rename",w.rename),$(document).on("click","#collections-toggle",function(e){e.stopPropagation(),q.toggle()}),$(document).on("click",".collection-header button.edit-collection",function(e){e.stopPropagation();e=this.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.parentElement.querySelector(".edit-name");L(),[].forEach.call(document.find(".collection .collection-header .edit-name"),function(e){e.classList.remove("active")}),e.classList.add("active"),e.get("input").select()}),$(document).on("click",".collection-options .toggle-edit",E.openEditMode),$(document).on("click",".collection .collection-content .header-edit .btn-back",E.closeEditMode),$(document).on("click",".collection-options .toggle-sort",E.openSortMode),$(document).on("click",".collection .collection-content .header-sort .btn-back",E.closeSortMode),$(document).on("click",".collection-options .toggle-share",E.toggleShareLayer),$(document).on("click",".collection-share .close",E.toggleShareLayer),$(document).on("click",".collection-options .toggle-backup",E.toggleBackupLayer),$(document).on("click",".collection-backup .close",E.toggleBackupLayer),$(document).on("click",".collection-header button.flaticon-bin, .collection.locked .locked-options button",function(e){e.stopPropagation();e=Object(k.a)("#modal-delete-collection");e.parentNode.get(".modal-inner button.modal_delete_collection_btn").dataset.bookmark=this.dataset.bookmark,e.checked=!0}),$(".modal_delete_collection .modal_delete_collection_btn").on("click",function(e){e.stopPropagation();e=this.getAttribute("data-bookmark");e&&E.del(e),k.e(this)}),$(document).on("click",".collection .color-selector li button",function(e){$(this.parent(".color-selector").nextElementSibling).colpickSetColor(this.dataset.color)}),$(document).on("click",".collection_color_button",q.createCollectionCPicker),$(document).on("change",".upload-file-input",function(e){var t,n=this.files[0];n.type.match(/text.*/)&&((t=new FileReader).onload=function(e){$.ajax({url:APP_URL+"Collections/restore_backup",type:"POST",data:JSON.stringify(t.result),success:function(e){E.restore_backup(e)}})},t.readAsText(n),this.value="")}),$(document).on("click","#paint_collection",function(){document.getElementById("collections").classList.contains("expanded")?(document.querySelector(".paint-popover").classList.remove("popover-left"),document.querySelector(".paint-popover").classList.add("popover-right")):(document.querySelector(".paint-popover").classList.remove("popover-right"),document.querySelector(".paint-popover").classList.add("popover-left")),q.createCollectionCPicker(),document.querySelector('section[data-bookmark="'+E.getActive().bookmark_id+'"] .trigger_popover').click()}),document.getElementById("new_collection_btn").addEventListener("click",()=>{1<=document.querySelectorAll(".collection.empty").length&&s.a.isLogged()?k.c.warning("WARNING",messages.collection.empty_collection_limit,!1):(EventTracker.send("all","event","collection","create"),E.new())}),$(document).on("click",".empty-collection-register .close",function(){document.querySelector(".icons-collection-noregister").style.display="none",document.querySelector(".collection-content").classList.remove("nologged-limit-reached")}),$(document).on("click",".collection-locked-inside .close",function(){this.closest(".collection-locked-inside").style.display="none"}),e=document.querySelector(".add-collections-holder"),s.a.isLogged()||s.a.isPremium()?e.children[2]&&e.children[2].remove():e.children[1]&&e.children[1].remove()),E.init()}),$(document).on("click","#collections-holder .download-holder button",function(){var e=window.db.queryAll(E.getActive().bookmark_id).map(e=>e.id);$.ajax({url:APP_URL+"ajax/collections/license",type:"POST",data:{bookmarkIconIds:e},success:function(e){var t=document.querySelector("div.modal-download");if(t){let n="";e.forEach(function(e){var t="freepik"===e.slug?messages.attribution.freepik_url:""+APP_URL+messages.url.authors+"/"+e.slug;n+=`<div>${messages.attribution.icons_made_by} <a href="${t}" title="${e.name}">${e.name}</a> from <a href="${APP_URL}" title="Flaticon">${window.location.host}</a></div>`}),t.querySelector(".copy-wrapper").classList.remove("hidden"),t.querySelector(".copy-holder span").textContent=n,t.querySelector(".input_atributtion_text").setAttribute("value",n)}}})}),()=>{$('[name="download-collection-form"].active-form').trigger("submit"),Object(k.a)("#modal-download").checked=!1,u.open_attribution_modal();var e=document.querySelector('.active-form [name="downC_bookmark_id"]').value,e=E.getCollectionData(e),t=[];e&&0<e.icons.length&&(t=e.icons.map(e=>e.id)),Logs.pushLog(`download|type,collection|url,${window.location.href}|items,`+t.join(";"),!0),document.querySelector(".fi-modal #download-free").removeEventListener("click",g)});async function g(t){t.preventDefault(),t.stopPropagation();try{await Object(a.a)(f+"?resourceType=icon",{withCredentials:!0,headers:{"X-Requested-With":"XMLHttpRequest"}}),h()}catch(e){429===e.status?((t=document.getElementById("modal-download"))&&(t.checked=!1,document.querySelector("body").classList.remove("modal-open")),window.location.href=""+APP_URL+messages.common.url_downloads_limit):console.error("Error validate download ",e)}}function b(e){return/((^[0-9A-F]{6}$|XXXXXX))/i.test(e)}function w(e,t,n,o,i,r,a){if("number"!=typeof e)throw"Invalid icon id";if(!i)throw"Invalid bookmark_id";if("number"!=typeof n)throw"Invalid author";var c,l;this.premium=parseInt(r)||0,this.id=parseInt(e,10),this.author=parseInt(n,10),this.bookmark_id=i,this.color=b(o)?o:"XXXXXX",this.sort=parseInt(a,10),this.name=void 0!==t&&t.toString().length?k.n(t.toString()):"icon-"+this.id,window.db.queryAll(this.bookmark_id,{query:{id:this.id}}).length||(c={},l=this,w.properties.forEach(function(e){c[e]=l[e]}),window.db.insertOrUpdate(this.bookmark_id,{id:c.id},c),window.db.commit(),q.updateToggle())}function E(t,e,n,o=!1){k.h();this.bookmark_id=t.bookmark_id||(Math.random().toString(36)+"00000000000000000").slice(2,18),this.name=t.name||messages.collection.default_name,this.status=0!=t.status?1:0,this.color=t.color||"000000",this.created=t.created,this.updated=t.updated,this.source=t.source||"local",this.icons=t.icons||[],this.active=parseInt(t.active,10)||1,this.order=parseInt(t.order,10)||0,window.db.update("list",function(){return!0},function(e){return e.active=0,e.order++,e}),window.db.commit();var i=this;t={duplicate:!1},["bookmark_id","name","color","created","updated","active","order","source","status"].forEach(function(e){void 0!==i[e]&&(t[e]=i[e])});var r=window.db.queryAll("list").filter(function(e){return e.bookmark_id==t.bookmark_id}),r=(r.length&&(t.active=r[0].active,t.order=r[0].order),window.db.insertOrUpdate("list",{bookmark_id:this.bookmark_id},t),window.db.tableExists(this.bookmark_id)&&window.db.dropTable(this.bookmark_id),this.icons.length?(this.icons.forEach(function(e){e.bookmark_id=i.bookmark_id}),window.db.createTableWithData(this.bookmark_id,this.icons)):window.db.createTable(this.bookmark_id,w.properties),window.db.commit(),n&&(t.duplicate=!0,t.icons=this.icons),e||"tour_demo_collection"==t.bookmark_id||(o?E.emit("create",t,E.setActive):E.emit("create",t)),e||q.update(e),document.querySelector("#collections-holder"));r&&r.classList.add("overflow"),r&&r.classList.remove("scrollable"),document.querySelector("button.flaticon-share")&&(document.querySelector("button.flaticon-share").disabled=!window.UserSession.userInfo.logged)}function L(){var e=document.querySelector(".popover-button.active"),t=document.querySelector(".popover-content.show-menu");e&&e.classList.remove("active"),t&&t.classList.remove("show-menu")}function I(e){var t;e.namespace&&"Auth.error"!=e.namespace&&(t=e.namespace.split("."),"function"==typeof window[t[0]][t[1]])&&(delete e.namespace,window[t[0]][t[1]](e)),window.loading=!1}function q(){}function x(){r.a.getItem("download_collection")||(document.querySelector(".collection.expanded .download-holder button").classList.remove("disabled"),document.getElementById("collections").classList.remove("loading"),clearTimeout(o))}function C(){"uicons-detail-page"!==document.body.dataset.section&&"uicons-landing"!==document.body.dataset.section&&(m.a.id?A:p)()}function A(){window.toggleDetailBtnInterval&&clearInterval(window.toggleDetailBtnInterval);var e,t,n,o=document.querySelector("#download-form #icon_id").value,i=document.querySelector("#download-form #keyword").value,r=document.querySelector("#download-form #team").value,a=document.querySelector("#download-form #colored").value;window.db instanceof Object?(e="addIcon",t=E.getActive(),window.db.queryAll(t.bookmark_id,{query:{id:o}}).length&&(e="delIcon"),(t=document.getElementById("detail-icon-button"))&&(n="delIcon"===e?(t.classList.add("btn-danger"),messages.collection.delete_icon):(t.classList.remove("btn-danger"),messages.collection.add_icon),void 0!==t.querySelector("span")&&(t.querySelector("span").innerHTML=n),t.setAttribute("onclick","Widget."+e+"("+o+",'"+Object(l.a)(i)+"',"+r+", "+a+")"),t.get("i").classList.toggle("icon--removecollection","delIcon"==e))):window.toggleDetailBtnInterval=setInterval(C,1e3)}w.properties=["id","name","author","color","premium","sort","imageUrl"],w.set=function(e,n,o,i){if(!e)return!1;if(!e)throw"Invalid icon id (Icon.set)";if(!o)throw"Invalid bookmark_id (Icon.set)";var t,r=["color","name","sort","id","premium","imageUrl"];for(t in n)-1==r.indexOf(t)&&delete n[t];if(!window.db.tableExists(o))throw"Table "+o+" doesn't exists (Icon.set)";if(!Object.keys(n).length)throw n;var a=k.h();window.db.update("list",{bookmark_id:o},function(e){return e.updated=a,e}),window.db.update(o,{id:e},function(t){for(var e in n)t[e]=n[e];return n={},w.properties.forEach(function(e){n[e]=t[e]}),n.bookmark_id=o,n.updated=a,i||E.emit("put_icon",n),t}),window.db.commit()},w.refreshSVG=function(e){var t=Object(k.a)(".collection[data-bookmark='"+e.bookmark_id+"'] .icon--item[data-id='"+e.original+"']"),n=(t.dataset.color=e.color,v.imageUrl);t.get("svg,img").outerHTML='<img src="{0}" data-premium="4"></img>'.format(n),"XXXXXX"!=t.dataset.color?(q.getSVGCode({id:e.original,bookmark:e.bookmark_id,src:n,premium:4,color:e.color}),w.set(e.original,{id:e.original,color:e.color},e.bookmark_id,!0),t.dataset.id=e.original):(q.getSVGCode({id:e.id,bookmark:e.bookmark_id,src:n,premium:4,color:e.color}),w.set(e.original,{id:e.id,premium:4,color:e.color},e.bookmark_id,!0),t.dataset.id=e.id),C()},w.toggle=function(e){C();var t,n,o,e=document.querySelectorAll(".icons .icon--item[data-id='"+e+"']:not(.collectionIcon)");e.length&&[].forEach.call(e,function(e){e.classList.toggle("selected"),t=e.get(".overlay .add-remove"),n=["add","remove"],o=e.get(".tooltip .content span"),e.classList.contains("selected")&&n.reverse(),t.classList[n[0]]("icon--addcollection"),t.classList[n[1]]("icon--removecollection"),"remove"===n[0]&&(o.textContent="Remove from collection"),"add"===n[0]&&(o.textContent="Add to collection")})},w.rename=function(e){var t,n,o=(e=e instanceof Element?e:e.currentTarget).value.length?k.n(e.value):e.dataset.original;o!=e.dataset.original&&(t=parseInt(e.parent(".icon--item").dataset.id,10),n=Object(k.a)(".collection[data-order='0']").dataset.bookmark,w.set(t,{name:o},n),e.dataset.original=o,e.value=o,ga("send","event","Collection","Rename Icon"))},w.cleanSvgIcon=function(e){for(var t=document.createElement("div"),n=(t.innerHTML=e,t.getElementsByTagName("*")),o=-1,i=n.length;++o<i;)void 0===n[o]&&n[o].hasAttribute("fill")&&"none"==n[o].getAttribute("fill")&&(!n[o].hasAttribute("stroke")||n[o].hasAttribute("stroke")&&"none"==n[o].getAttribute("stroke"))&&n[o].parentNode.removeChild(n[o]);return t.innerHTML},w.equal_colors=function(e){if(Array.isArray(e)&&1!=e.length&&0!=e.length)for(var t=0;t<e.length;t++)if(0<t&&e[t]!=e[t-1])return e;return null},w.checkSvgColor=function(e){e=e.match(/#(?:[a-f\d]{3}){1,2}\b|rgb\((?:(?:\s*0*(?:25[0-5]|2[0-4]\d|1?\d?\d)\s*,){2}\s*0*(?:25[0-5]|2[0-4]\d|1?\d?\d)|\s*0*(?:100(?:\.0+)?|\d?\d(?:\.\d+)?)%(?:\s*,\s*0*(?:100(?:\.0+)?|\d?\d(?:\.\d+)?)%){2})\s*\)|hsl\(\s*0*(?:360|3[0-5]\d|[12]?\d?\d)\s*(?:,\s*0*(?:100(?:\.0+)?|\d?\d(?:\.\d+)?)%\s*){2}\)|(?:rgba\((?:(?:\s*0*(?:25[0-5]|2[0-4]\d|1?\d?\d)\s*,){3}|(?:\s*0*(?:100(?:\.0+)?|\d?\d(?:\.\d+)?)%\s*,){3})|hsla\(\s*0*(?:360|3[0-5]\d|[12]?\d?\d)\s*(?:,\s*0*(?:100(?:\.0+)?|\d?\d(?:\.\d+)?)%\s*){2},)\s*0*(?:1|0(?:\.\d+)?)\s*\)/gi);return null!=w.equal_colors(e)?1:0},w.checkXmlFormat=function(e){var t=new DOMParser;try{var n=t.parseFromString(e,"text/xml")}catch(e){return!1}return"svg"==(/script/i.test(e)?"ERROR while parsing":"parsererror"==n.documentElement.nodeName?"error while parsing":n.documentElement.nodeName)},w.checkUploadSvg=function(e){var t=new FileReader,n=sanitize_filename(e.name),o=new File([e],n,{type:e.type});if(15e4<e.size)return ga("send","event","Collection","Upload Icon","Error: Exceeded size."),k.c.danger("ERROR",messages.limit.max_size+" (Max. 150Kb.)",!1),!1;t.filename=n,t.filetype=e.type,t.file=o,t.onloadend=function(e){window.webkitURL||window.URL||window;if("image/svg+xml"==e.target.filetype){if(!w.checkXmlFormat(e.target.result))return ga("send","event","Collection","Upload Icon","Error: Malformed SVG"),k.c.danger("ERROR",messages.collection.svg_incorrect,!1),!1;var t=w.checkSvgColor(e.target.result),e=(e.target.filetype,E.getActive()),e=window.db.query(e.bookmark_id).length+1;E.upload_icon(this.file,t,e)}else ga("send","event","Collection","Upload Icon","Error: File not SVG"),k.c.danger("ERROR",messages.collection.only_svg,!1)},t.readAsText(e),delete window.reader},w.moveDragStart=function(e){var t=e.originalEvent.dataTransfer;t.effectAllowed="move",t.dropEffect="move",(q.dragged_icon="LI"==e.target.nodeName?e.target:e.target.closest("li.icon--item")).classList.add("dragHover"),q.dragged_position=parseInt(q.dragged_icon.dataset.sort,10)},w.moveDragEnter=function(e){var t="LI"==e.target.nodeName?e.target:e.target.parentNode.parentNode;if(t.dataset.id==q.dragged_icon.dataset.id)return!1;t=q.dragged_icon.dataset.sort==t.dataset.sort+1||q.dragged_icon.dataset.sort<=t.dataset.sort?e.currentTarget:e.currentTarget.nextElementSibling,q.moveIcon(q.dragged_icon,t),q.scroll(e.clientX,e.clientY)},w.moveDragLeave=function(e){},w.moveDragEnd=function(e){e.preventDefault(),e.stopPropagation(),w.moveDrop(e)},w.moveDrop=function(e){e.preventDefault();var t,e=E.getActive(),n=document.querySelector('.collection[data-bookmark="'+e.bookmark_id+'"]');q.reorderIcons(n,!1),q.dragged_icon.classList.contains("dragHover")&&(q.dragged_icon.classList.remove("dragHover"),t=parseInt(q.dragged_icon.dataset.id,10),n=parseInt(n.querySelector('li[data-id="'+t+'"]').dataset.sort,10),w.updateReorder(e.bookmark_id,t,q.dragged_position,n))},w.updateReorder=function(e,t,n,o){E.emit("reorder_item",{bookmark_id:e,icon_id:t,old_order:n,new_order:o})},E.fetch=function(e){var t,n;return!0===e?(e=!1,!!(n=document.getElementById("btn-fetch-collection"))&&(Array.isArray(collection_icons)&&(collection_icons.every(function(e){return 0!=e.premium})&&(e=!0),E.limit.collections)&&window.db.rowCount("list")>=E.limit.collections&&(e=!0),void(n.disabled=e))):"undefined"!=typeof collection_icons&&(!Array.isArray(collection_icons)||!window.UserSession.userInfo.logged||E.limit.collections&&window.db.rowCount("list")>=E.limit.collections?(console.warn("No se puede realizar fetch",!Array.isArray(collection_icons),!window.UserSession.userInfo.logged,E.limit.collections&&window.db.rowCount("list")>=E.limit.collections),!1):(t={personal:!1,premium:!1},(n={color:"000000"}).name=document.getElementsByTagName("h1")[0].textContent,n.source="fetch",n.icons=collection_icons.filter(function(e){return 4==e.premium&&e.author!=window.UserSession.userInfo.session.id?!(t.personal=!0):!(1==e.premium&&!window.UserSession.userInfo.session.premium&&(t.premium=!0))}),t.premium&&k.c.warning("Ooops!",messages.collection.fetch_premium),t.personal&&k.c.warning("Ooops!",messages.collection.fetch_personal),void new E(n,!1,!0)))},E.init=function(){var e,t;window.db||(E.limit={},e={icons:{value:10},collections:{value:1}},window.UserSession.userInfo.logged?(t=Object(k.a)(".dropdown-upgrade.register"),document.querySelector(".collections-holder")&&(document.querySelector(".collections-holder").classList.add("logged"),e={icons:{value:256},collections:{value:3}})):t=Object(k.a)(".dropdown-upgrade.upgrade"),t&&t.parentNode.removeChild(t),window.UserSession.userInfo.session.premium&&(e.collections.value=0),Object.defineProperties(E.limit,e),Object.freeze(E),t=window.UserSession.userInfo.session.id||0,window.db=new localStorageDB(t),window.db.tableExists("list")?window.db.columnExists("list","status")||window.db.alterTable("list","status",1):window.db.createTable("list",["name","bookmark_id","created","updated","active","source","order","color","status"]),window.db.queryAll("list").forEach(function(e){window.db.columnExists(e.bookmark_id,"premium")||window.db.alterTable(e.bookmark_id,"premium",0),window.db.columnExists(e.bookmark_id,"sort")||window.db.alterTable(e.bookmark_id,"sort",0)}),window.db.tableExists("tour_demo_collection")&&(window.db.dropTable("tour_demo_collection"),window.db.deleteRows("list",{bookmark_id:"tour_demo_collection"})),window.db.commit(),localStorage.getItem("widget_state_user")!=window.UserSession.userInfo.session.id&&null!==Object(k.a)("#collections-holder")&&(Object(k.a)("#collections-holder").innerHTML=""),null!==document.getElementById("collections-holder")&&document.getElementById("collections-holder").childElementCount&&q.update(!0),E.push(),E.fetch(!0))},E.pull=function(){E.emit("pull")},E.openEditMode=function(){E._toggleEditMode("add")},E.closeEditMode=function(){E._toggleEditMode("remove")},E._toggleEditMode=function(e){var t=Object(k.a)('.collection[data-order="0"]');t.get(".collection-content").classList[e]("edit-mode"),t.get(".header-sort").classList[e]("hidden"),t.get(".header-edit").classList[e]("visible"),t.get(".download-wrapper").classList[e]("hidden"),L()},E.openSortMode=function(){ga("send","event","Collection","Sort"),E._toggleSortMode("add"),E.FirstIconOrder("add"),document.querySelectorAll("li.icon-upload").forEach(function(e){e.dataset.tooltip=messages.collection.upload_disabled})},E.closeSortMode=function(){E._toggleSortMode("remove"),E.FirstIconOrder("remove"),document.querySelectorAll("li.icon-upload").forEach(function(e){e.dataset.tooltip=messages.collection.upload_enabled})},E._toggleSortMode=function(e){var t=Object(k.a)('.collection[data-order="0"]');t.get(".collection-content").classList[e]("sort-mode"),t.get(".header-sort").classList[e]("visible"),L()},E.toggleShareLayer=function(e){Object(k.a)('.collection[data-order="0"]').get(".collection-share").classList.toggle("visible"),L()},E.toggleBackupLayer=function(e){Object(k.a)('.collection[data-order="0"]').get(".collection-backup").classList.toggle("visible"),L()},E.merge=function(){var n=new localStorageDB(0);window.UserSession.userInfo.session.premium&&n.queryAll("list").forEach(function(e){var t;e.icons=n.queryAll(e.bookmark_id),e.icons.length&&(t=k.h(),e.created||(e.created=t),e.updated||(e.updated=t),new E(e,!1,!0,!0))}),n.drop()},E.set_id=function(t){window.db.renameTable(t.old_id,t.bookmark_id),window.db.update("list",{bookmark_id:t.old_id},function(e){return e.bookmark_id=t.bookmark_id,e.source="local",e}),window.db.commit();window.db.rowCount(t.bookmark_id)&&(window.db.update(t.bookmark_id,function(e){return!0},function(e){return e.bookmark_id=t.bookmark_id,e}),window.db.commit()),q.limitsCollection(t.bookmark_id);var e=Object(k.a)(".collection[data-bookmark='"+t.old_id+"']"),n=(e&&(e.dataset.bookmark=t.bookmark_id),e.querySelector(".header-options button.flaticon-bin")),n=(n&&(n.dataset.bookmark=t.bookmark_id),e.querySelector(".collection-share input")),n=(n&&((e=n.value.split("/")).pop(),e.push(t.bookmark_id),n.value=e.join("/")),Object(k.a)(".box[data-bookmark='"+t.old_id+"']")),e=(n&&(n.dataset.bookmark=t.bookmark_id),Object(k.a)(".max-collections__item[data-bookmark='"+t.old_id+"']"));e&&e.setAttribute("data-bookmark",t.bookmark_id)},E.emit=function(e,t,n=null){if("tour_demo_collection"!=(t=t instanceof Object?t:{}).bookmark_id)if("put_icon"===e){var o=BASE_URL+"collections/"+e,i=(new Date).getTime();if(t.o=ACCOUNTS_API_KEY,t.kfc=i,void 0===o)return gr.log("[ERROR] REQUEST URL no definida");o=(o="/"!=o.substr(0,1)&&"http"!=o.substr(0,4)?ACCOUNTS_URL+"request/"+o:o)+("?o="+ACCOUNTS_API_KEY)+("&kfc="+i),t=JSON.stringify(t),Object(a.a)(o,{method:"POST",headers:{"Content-Type":"application/json"},data:t}).then(e=>{v=e.data,n&&n()})}else if("push"===e){o=BASE_URL+"collections/"+e,i=(new Date).getTime();if(t.o=ACCOUNTS_API_KEY,t.kfc=i,void 0===o)return gr.log("[ERROR] REQUEST URL no definida");o=(o="/"!=o.substr(0,1)&&"http"!=o.substr(0,4)?ACCOUNTS_URL+"request/"+o:o)+("?o="+ACCOUNTS_API_KEY)+("&kfc="+i),t=JSON.stringify(t),Object(a.a)(o,{method:"POST",headers:{"Content-Type":"application/json"},data:t}).then(e=>{n&&n(e.data.bookmarks),I(e.data),q.update()})}else{o=BASE_URL+"collections/"+e,i=(new Date).getTime();if(t.o=ACCOUNTS_API_KEY,t.kfc=i,void 0===o)return gr.log("[ERROR] REQUEST URL no definida");o=(o="/"!=o.substr(0,1)&&"http"!=o.substr(0,4)?ACCOUNTS_URL+"request/"+o:o)+("?o="+ACCOUNTS_API_KEY)+("&kfc="+i),t=JSON.stringify(t),Object(a.a)(o,{method:"POST",headers:{"Content-Type":"application/json"},data:t}).then(e=>{e.data&&I(e.data),q.update()}),n&&"create"==e&&n(JSON.parse(t).bookmark_id)}},E.limitReached=function(){var t=Object(k.a)(".max-collections__holder"),n=Handlebars.tag("collection-limit-box"),e=window.db.queryAll("list",{query:{status:1}});(E.limit.collections?e.length-E.limit.collections:0)<1||(Object(k.a)("#max-collections").classList.add("visible"),t.innerHTML="",e.forEach(function(e){e.icons=window.db.queryAll(e.bookmark_id,{limit:10,sort:[["created","DESC"]]}),e.count=window.db.rowCount(e.bookmark_id),t.insertAdjacentHTML("beforeend",n(e))}),document.querySelector(".max-collections__second-step p strong").innerHTML="<strong>"+e.length+"</strong>")},E.set=function(o,i){var e,r=Object(k.a)(".collection[data-bookmark='"+o+"']"),a=i.force,c=i.old_color;for(e in i)-1==["name","bookmark_id","source","color"].indexOf(e)&&delete i[e];Object.keys(i).length&&(i.updated=k.h(),window.db.update("list",{bookmark_id:o},function(e){"name"in i&&(r.get(".collection-name").innerHTML=i.name),"bookmark_id"in i&&(r.dataset.bookmark=i.bookmark_id);var t,n={bookmark_id:o,force:a,old_color:c};for(t in i)e[t]=i[t],n[t]=i[t];return E.emit("set",n),e}),window.db.commit())},E.editName=function(){var e=Object(k.a)(".collections [data-order='0'] .collection-header .edit-name");e.classList.add("active"),e.get("input").select()},E.list=function(){var e=Object(k.a)("#collections-holder");if([].forEach.call(document.find("#collections .collection"),function(e){0==e.getAttribute("data-order")&&e.classList.contains("expanded")?(e.classList.remove("expanded"),ga("send","event","Collection","List","Hide")):(0==e.getAttribute("data-order")&&e.classList.add("expanded"),ga("send","event","Collection","List","Show"))}),e.classList.toggle("overflow"),e.classList.toggle("scrollable"),e.matches(".scrollable"))for(const n of e.children)if(n.matches(".locked")){var t=document.createElement("div");t.innerHTML=`
                    <div class="collection-locked">
                        <div class="collection-locked-box">
                            <i class="icon icon--exclamation"></i>
                        </div>
                        <div class="collection-locked-box">
                            <p class="collection-locked-box--title mg-none">${messages.collection.locked_title}</p>
                            <p class="collection-locked-box--text mg-none">${messages.collection.locked_text}</p>
                            <a href="${messages.collection.locked_url}" class="bj-button bj-button--sm bj-button--yellow track" data-track-arguments="all, event, collection, go-to-premium, collection-locked">${messages.collection.locked_button}</a>
                        </div>
                    </div>
                `,t.classList.add("collection-locked-outside"),e.insertAdjacentElement("afterbegin",t);break}e.matches(".overflow")&&document.querySelector(".collection-locked-outside")&&document.querySelector(".collection-locked-outside").remove()},E.expandCollapse=function(){var e=Object(k.a)("#collections"),t=Object(k.a)("#viewport");e.classList.toggle("expanded"),t.classList.toggle("collections-expanded")},E.setActive=function(i,r){i=i||E.getActive().bookmark_id;var e,t=window.db.queryAll("list",{sort:[["order","ASC"]]}),a=[i],c=(r||((e=Object(k.a)("#collections-holder"))&&(e.scrollTop=0,e.classList.add("overflow"),e.classList.remove("scrollable")),e&&e.matches(".overflow")&&document.querySelector(".collection-locked-outside")&&document.querySelector(".collection-locked-outside").remove()),1<t.length?2<t.length?"collection-height-2":"collection-height-1":"");t.forEach(function(t){t.bookmark_id!=i&&a.push(t.bookmark_id);var e=Object(k.a)('.collection[data-bookmark="'+t.bookmark_id+'"]');if(e){if(1<e.length)for(var n=1,o=e.length;n<o.length;n++)e[n].parentNode.removeChild(n);t.order=a.indexOf(t.bookmark_id),e.dataset.order=t.order,t.bookmark_id==i&&(t.active=1,e.classList.remove("collection-height-1","collection-height-2"),r||e.classList.add("expanded"),c.length)&&e.classList.add(c),window.db.update("list",{bookmark_id:t.bookmark_id},function(e){return e.order=t.order,e.active=t.active,e}),window.db.commit()}}),q.limitsCollection(i),q.update(null,r)},q.limitsCollection=function(e){if(!e)return!1;var t,n=Object(k.a)("#collections-toggle"),o=window.db.rowCount(e),e=Object(k.a)(".collection[data-bookmark='"+e+"']");e&&(t=e.querySelector(".max-icons-collection"),o>=E.limit.icons?(window.UserSession.userInfo.session.id?t&&(t.style.display="block",k.c.danger("Ooop!",messages.limit.collection)):k.c.danger("Ooop!",messages.limit.guest),n.classList.add("limit-reached"),e.classList.add("limit-reached")):(t&&(t.style.display="none"),(o=e.querySelector(".icons-collection-noregister"))&&(e.classList.remove("nologged-limit-reached"),e.querySelector(".collection-content").classList.remove("nologged-limit-reached"),o.style.display="none"),n.classList.remove("limit-reached"),e.classList.remove("limit-reached")))},E.getActive=function(){if(window.db){var e;if(window.db.rowCount("list"))return((e=window.db.queryAll("list",{query:{active:1}})).length?e:window.db.queryAll("list"))[0];throw"No collections stored"}},E.clear=function(e){window.db.truncate(e),q.clear(),E.emit("clear",{bookmark_id:e});e=document.get(".collection[data-order='0'] .collection-header .edit-name input");e&&(e.value=messages.collection.default_name,e.classList.remove("limit-reached"),E.rename()),q.updateToggle(),q.markSelectedIcons(),ga("send","event","Collection","Clear")},E.duplicate=e=>{ga("send","event","Collection","Duplicate");var e=e.target.closest("section[data-bookmark]").dataset.bookmark,e=E.getCollectionData(e),t={},n=k.h(),o=!1;t.name=e.name+" 2",t.status=1,t.color=e.color,t.created=n,t.updated=n,t.source="local",t.icons=window.db.queryAll(e.bookmark_id),t.icons.length&&t.icons.forEach(function(e){4===e.premium&&(o=!0)}),o?E.duplicate_files(t):new E(t,!1,!0)},E.duplicate_files=function(e){var t=new FormData;t.append("collection",JSON.stringify(e)),$.ajax({url:APP_URL+"Collections/duplicate",type:"POST",data:t,cache:!1,processData:!1,contentType:!1,success:function(e){new E(e.data.data,!1,!0,!0)}})},E.del=function(e,t){e instanceof Object&&(t=!0,e=e.id),e=e||Object(k.a)(".collection[data-order='0']").dataset.bookmark;var n=window.db.queryAll("list",{query:{bookmark_id:e}});if(!n.length)return window.db.tableExists(e)&&window.db.dropTable(e),window.db.commit(),!1;if(n=n[0],1==window.db.rowCount("list")&&"tour_demo_collection"!=n.bookmark_id)E.clear(n.bookmark_id);else{window.db.deleteRows("list",{bookmark_id:n.bookmark_id}),window.db.commit(),window.db.tableExists(n.bookmark_id)&&window.db.dropTable(n.bookmark_id),window.db.update("list",function(e){return e.order>n.order},function(e){e.order=parseInt(e.order,10)-1}),window.db.commit();e=Object(k.a)(".collection[data-bookmark='"+n.bookmark_id+"']");if(!e)return!1;e.parentElement.removeChild(e);e=E.limit.collections&&window.db.rowCount("list")>=E.limit.collections;document.querySelector("#new_collection_btn").disabled=e,window.db.rowCount("list")||E.new(),t||(E.emit("del",{bookmark_id:n.bookmark_id}),ga("send","event","Collection","Delete")),E.setActive(null,1<window.db.rowCount("list"))}},E.new=function(e){E.limit.collections&&window.db.rowCount("list")>=E.limit.collections||((e=void 0!==e&&e instanceof Object?e:{}).name=void 0!==e.name&&e.name.length?e.name:messages.collection.default_name,new E(e),E.getActive()&&((e=document.querySelector('section.collection[data-bookmark="'+E.getActive().bookmark_id+'"]')).querySelector("div.edit-name").classList.add("active"),e.querySelector("div.edit-name input.collection-name-input").select()))},E.push=function(e){e=window.db.queryAll("list",e&&"number"==typeof e?{query:{bookmark_id:e}}:{sort:[["order","DESC"]]});e.forEach(function(t){["ID"].forEach(function(e){delete t[e]}),t.icons=window.db.queryAll(t.bookmark_id,{sort:[["sort","DESC"]]})});E.emit("push",{data:e},function(e){let n=null;void 0!==e&&(0<window.db.showTables().length&&(window.db.showTables().forEach(e=>{window.db.dropTable(e)}),window.db.createTable("list",["name","bookmark_id","created","updated","active","source","order","color","status"]),window.db.commit()),e.forEach(function(e){var t=e.data.icons||null;t&&0<t.length?window.db.tableExists(e.data.bookmark_id)||(window.db.createTableWithData(e.data.bookmark_id,t),window.db.insertOrUpdate("list",{bookmark_id:e.data.bookmark_id},e.data),window.db.commit()):(window.db.tableExists(e.data.bookmark_id)||(null===n&&window.db.rowCount("list")&&(n=E.getActive().bookmark_id),window.db.createTable(e.data.bookmark_id,w.properties)),window.db.insertOrUpdate("list",{bookmark_id:e.data.bookmark_id},e.data),window.db.columnExists(e.data.bookmark_id,"imageUrl")||window.db.alterTable(e.data.bookmark_id,"imageUrl",""),window.db.commit())})),n&&E.setActive(n)})},E.enqueue=function(t){var n=Object.keys(t);if(1<n.length){var o,i=0;for(o in t)if(++i,"function"==typeof window[t[o].namespace][t[o].callback]){if(t[o].data)try{t[o].data.prevent=i!=n.length}catch(e){t[o].prevent=i!=n.length}window[t[o].namespace][t[o].callback](t[o].data)}}localStorage.getItem("fi_0")&&E.merge()},E.load=function(t){(t=Array.isArray(t)||"object"!=typeof t?t:Object.keys(t).map(function(e){return t[e]})).forEach(function(e){if(Object(k.a)(".collection[data-bookmark='"+e.bookmark_id+"']"))return!1;e.source="remote",window.db.tableExists(e.bookmark_id)&&window.db.dropTable(e.bookmark_id),e.icons.length?window.db.createTableWithData(e.bookmark_id,e.icons):window.db.createTable(e.bookmark_id,w.properties),window.db.insertOrUpdate("list",{bookmark_id:e.bookmark_id},e)}),window.firstColorChange=!0},E.rename=function(e){var t=(e=e||Object(k.a)(".collection[data-order='0'] .collection-header .edit-name input")).parent(".collection"),n=t.get(".collection-header .edit-name"),o=(o=n.get("input").value).length?o:messages.collection.default_name;n.classList.remove("active"),e.dataset.original!=o&&(t.get(".collection-name").innerHTML=o,e.dataset.original=o,E.set(t.dataset.bookmark,{name:o}),ga("send","event","Collection","Rename"))},E.getCollectionData=function(e){var t=window.db.queryAll("list",{query:{bookmark_id:e}});if(t.length&&((t=t[0]).icons=window.db.queryAll(e).map(function(e){return{id:e.id,team:e.author,name:e.name,color:"#"+e.color,premium:e.premium,sort:e.sort}}),t.icons.length))return t},E.download=function(e,t,n){var o=document.querySelector('.collection[data-bookmark="'+e+'"]'),o=(q.reorderIcons(o,!1),E.getCollectionData(e)),e=("iconfont"==t&&window.db.queryAll(e,{query:{color:"XXXXXX"}}).length&&k.c.warning(messages.collection.aware,messages.collection.iconfont_colors),window.db.queryAll(e,{query:{premium:4}}).length&&"iconfont"==t&&k.c.warning(messages.collection.aware,messages.collection.download_personal),n=n||512,FLATICON_DOWNLOAD_URL+"download-collection");$('[name="download-collection-form"].active-form').attr("action",e),document.querySelector('.active-form [name="downC_format"]').value=t||"font",document.querySelector('.active-form [name="downC_size"]').value=n||512,document.querySelector('.active-form [name="downC_user_id"]').value=window.UserSession.userInfo.session.id||0,document.querySelector('.active-form [name="downC_bookmark_id"]').value=o.bookmark_id,document.querySelector('.active-form [name="downC_bookmark_name"]').value=o.name,document.querySelector('.active-form [name="downC_icons"]').value=JSON.stringify(o.icons),document.querySelector('.active-form [name="downC_backup"]').value=JSON.stringify(o),Object(k.a)(".modal-collection .collection_name").innerHTML=o.name,s.a.updateUserStats(3e3),q.downloading(),window.UserSession.userInfo.session.premium?i.e.Essentials&&i.e.Essentials.prechurnInfo.unpaid?(document.querySelector("#collections").classList.remove("loading"),i.e.Essentials.handleDownloadClick()):$('[name="download-collection-form"].active-form').trigger("submit"):u.check_modal_download("collection",null),EventTracker.send("all","event","download","collection",t.toUpperCase(),{metric2:o.icons.length})},E.downloadBackup=function(e){e.preventDefault();var e=E.getCollectionData(E.getActive().bookmark_id),t={ID:e.ID,active:e.active,bookmark_id:e.bookmark_id,color:e.color,created:e.created,name:e.name,order:e.order,source:e.source,status:e.status,updated:e.updated},n=(e.ID,e.bookmark_id,e.icons);0<n.filter(e=>999999999<e.id).length&&(n=n.filter(e=>e.id<999999999),k.c.warning(messages.collection.friendly_reminder,messages.collection.no_custom_icons_in_backup));t=encodeURIComponent(btoa(JSON.stringify({colId:t,colBookmarkId:n}))),n=e.name.split(" ").join("_")+"_backup.txt";window.navigator.msSaveOrOpenBlob&&window.Blob?(e=new Blob([t],{type:"text/plain"}),navigator.msSaveOrOpenBlob(e,n)):((e=document.createElement("a")).setAttribute("download",n),e.setAttribute("href","data:text/plain;charset=utf-8,"+t),e.style.display="none",document.body.appendChild(e),e.click(),document.body.removeChild(e),document.querySelector("div.collection-backup.visible").classList.remove("visible"))},E.ninja=function(e){q.delIcon(e.icon),k.c.danger("Ninja!",e.message)},E.share=function(e,t){share.popup({network:e,url:t})},E.upload_icon=function(e,t,n,o,i,r,a){if(!e)return!1;var c=e.id,l=(null==e.id&&(c=Date.now().toString()),new FormData);l.append("iconCollection",e),l.append("isColor",t),l.append("sort",n),l.append("bookmark_id",E.getActive().bookmark_id),l.append("iconId",c),l.append("update",!0===a),void 0!==r&&l.append("name",r),void 0!==i&&l.append("color",i),void 0!==o&&l.append("id",o),$.ajax({url:FLATICON_UPLOAD_ICONS_URL+"Collections/upload_icon",type:"POST",data:l,cache:!1,processData:!1,contentType:!1,xhrFields:{withCredentials:!0},success:function(e){ga("send","event","Collection","Upload Icon","No Error"),I(e.data)}})},E.delete_files=function(e){if(!window.UserSession.userInfo.session.id)return!1;var t=new FormData;t.append("icons",JSON.stringify(e)),$.ajax({url:APP_URL+"Collections/delete_files",type:"POST",data:t,cache:!1,processData:!1,contentType:!1,success:function(e){}})},E.dragOver=function(e){return e.preventDefault(),"IE"!=k.f()&&!document.querySelectorAll(".collection .sort-mode, .collections .edit-mode").length&&(e=E.getActive(),void(document.querySelector('.collection[data-bookmark="'+e.bookmark_id+'"] .overlay-drop').style.display="block"))},E.dragEnd=function(e){return e.preventDefault(),"IE"!=k.f()&&!document.querySelectorAll(".collection .sort-mode, .collections .edit-mode").length&&(e=E.getActive(),void(document.querySelector('.collection[data-bookmark="'+e.bookmark_id+'"] .overlay-drop').style.display="none"))},E.drop=function(e){if(e.stopPropagation(),e.preventDefault(),"IE"!=k.f()&&!document.querySelectorAll(".collection .sort-mode, .collections .edit-mode").length){var t=E.getActive();if(document.querySelector('.collection[data-bookmark="'+t.bookmark_id+'"] .overlay-drop').style.display="none",document.querySelector(".overlay-drop").classList.remove("show"),this.checkUploadLimits(e)){e.dataTransfer.dropEffect="copy";var n=e.dataTransfer.files;if(n.length){for(var o=0;o<n.length;o++)n[o].id=Date.now().toString()+o,w.checkUploadSvg(n[o]);document.getElementById("fileCollection-"+t.bookmark_id).value=""}}}return!1},E.checkUploadLimits=function(e){var t=window.UserSession.userInfo.session.premium?256:3,n=E.getActive(),o=window.db.queryAll(n.bookmark_id,{query:{premium:4}}).length,t=t-((void 0!==e.dataTransfer?e.dataTransfer:e.target).files.length+o),e=document.querySelector('.collection[data-bookmark="'+n.bookmark_id+'"]');return window.UserSession.userInfo.session.id?!(t<0&&(e.querySelector(".overlay-drop").style.display="block",e.querySelector(".overlay-drop").classList.add("upgrade"),1)):(e.querySelector(".overlay-drop").style.display="block",e.querySelector(".overlay-drop").classList.add("register"),!1)},E.updateReorder=function(e,t){E.emit("reorder",{bookmark_id:e,icons:t})},E.FirstIconOrder=function(e){var t=E.getActive();"add"==e?document.querySelector('.collection[data-bookmark="'+t.bookmark_id+'"] ul.collection_icons_list .icon-fill').insertAdjacentHTML("beforebegin",'<li class="collectionIcon first-icon" data-id="0" data-sort="0"></li>'):(e=document.querySelector('.collection[data-bookmark="'+t.bookmark_id+'"] ul.collection_icons_list .first-icon'))&&e.parentNode.removeChild(e)},E.restore_backup=function(e){q.restoring=!0;for(var t,n=0,o=0,i=[],r=[],a=window.db.query(E.getActive().bookmark_id),c=a.length-1;0<=c;c--)r.push(a[c].id);for(u in e)Array.isArray(e[u])&&(i=e[u]);if(window.db.rowCount(E.getActive().bookmark_id)>=E.limit.icons)k.c.danger("Ooops!",messages.limit.collection);else{if(window.db.rowCount(E.getActive().bookmark_id)+i.length>E.limit.icons){for(var l=E.limit.icons-window.db.rowCount(E.getActive().bookmark_id),s=!0,u=i.length-1;0<=u;u--){if(!(n<=l)){s=!1;break}if(!(-1===r.indexOf(i[u].id)&&n<l)){s=!1;break}n++}s?i.forEach(function(e){e.id<999999999?q.addIcon(e.id,k.n(e.name),null,e.color.replace("#",""),e.premium,e.color.replace("#","")):k.c.warning("Ooops!",messages.collection.fetch_personal)}):k.c.warning("Ooops!",messages.limit.backup_max_size)}else i.forEach(function(e){e.id<999999999?-1===r.indexOf(e.id)?(n++,q.addIcon(e.id,k.n(e.name),null,e.color.replace("#",""),e.premium,e.color.replace("#",""))):o++:k.c.warning("Ooops!",messages.collection.fetch_personal)});o!=i.length&&(t=messages.collection.success_restore.replace("{0}",n).replace("{1}",i.length),k.c.success("Great!",t)),0<o&&(t=messages.collection.icons_skiped.replace("{0}",o).replace("{1}",i.length),k.c.success("Ooops!",t))}q.restoring=!1,q.updateButtons(),document.querySelector("div.collection-backup.visible").classList.remove("visible")},q._toggleEditPanel=function(e){!0===e?($(".edit-icon-content .right .active").removeClass("active"),$(".edit-icon-content .right .download-settings").addClass("active"),$(".edit-icon-content").removeClass("edit-color").removeClass("edit-settings").addClass("download-settings")):$(".edit-icon-content").hasClass("download-settings")?($(".edit-icon-content").removeClass("download-settings"),$(".edit-icon-content .right .download-settings").removeClass("active"),this.classList.add("active"),$(".edit-icon-content .right ."+this.dataset.panel).addClass("active"),$(".edit-icon-content").addClass(this.dataset.panel)):(this.classList.contains("active")||($(".edit-icon-content .right .customize").removeClass("active"),$(".edit-icon-content").toggleClass("edit-color").toggleClass("edit-settings"),$(".edit-icon-content .right header button").toggleClass("active"),$(".edit-icon-content .right div:not(.download-settings)").toggleClass("active")),$(".edit-icon-content .right .download-settings").removeClass("active"))},q._openEditModal=function(e){e?document.querySelector(".only_registered .alert_no_user")&&(document.querySelector(".only_registered .alert_no_user").classList.remove("zoomOut"),window.UserSession.userInfo.logged?document.querySelector(".only_registered").classList.add("hidden"):(document.querySelector(".only_registered").classList.remove("hidden"),document.querySelector(".only_registered .alert_no_user").style="")):(q.reset_widget(),document.body.classList.remove("overflow"),document.querySelectorAll(".icon--item.collectionIcon .edit input[type=radio]:checked").forEach(function(e){e.checked=!1}),window.Editor.close())},q.restoring=!1,q.changeIconColor=function(t,e,n,o,i,r){var a,c=$(e).parents(".icon--item")[0],l=$(e).parents(".collection")[0];c&&([].forEach.call(c.querySelectorAll("path, circle, ellipse, polygon, line, rect, polyline"),function(e){if(e.removeAttribute("style"),e.hasAttribute("fill")&&"none"==e.getAttribute("fill")&&(!e.hasAttribute("stroke")||e.hasAttribute("stroke")&&"none"==e.getAttribute("stroke")))return e.parentNode.removeChild(e),!0;e.hasAttribute("stroke")&&"none"!=e.getAttribute("stroke")?e.setAttribute("stroke","#"+t):(!e.hasAttribute("fill")||-1!=t.indexOf("#")||e.hasAttribute("fill")&&c.dataset.color&&6==c.dataset.color.length&&"XXXXXX"!=c.dataset.color)&&e.setAttribute("fill","#"+t.replace("#",""))}),i?c.classList.add("whitebg"):c.classList.remove("whitebg"),q.markSelectedColor(t,c),c.dataset.color!=t)&&"XXXXXX"!=c.dataset.color&&"2"!=c.dataset.color&&(c.dataset.color=t,n||(a=["icoChangeColor",c.dataset.id,l.dataset.bookmark].join("_"),"tour_demo_collection"!=l.dataset.bookmark&&(clearTimeout(window[a]),window[a]=setTimeout(function(){w.set(c.dataset.id,{color:t},l.dataset.bookmark,o),ga("send","event","Collection","Change Icon Color",t,{dimension11:t}),delete window[a]},500))))},q.isLight=function(e){return 225e3<=299*parseInt(e.substr(0,2),16)+587*parseInt(e.substr(2,2),16)+114*parseInt(e.substr(4,2),16)},q.changeCollectionColor=function(t,e){var n,o=Object(k.a)(".collection[data-order='0']"),i=o.dataset.color!=t,r=o.dataset.color;i&&(o.dataset.color=t,q.markSelectedColor(t,o),(i=o.querySelectorAll('.icon--item:not([data-color="XXXXXX"]) svg'))&&(n=q.isLight(t),[].forEach.call(i,function(e){q.changeIconColor(t,e,!1,!0,n,!0)})),"tour_demo_collection"!=o.dataset.bookmark)&&(clearTimeout(window.changeCollectionColorInterval),window.changeCollectionColorInterval=setTimeout(function(){window.firstColorChange||(E.set(o.dataset.bookmark,{color:t,force:!0,old_color:r}),ga("send","event","Collection","Change Color",t,{dimension11:t})),window.firstColorChange&&delete window.firstColorChange},500))},q.updateButtons=function(){var t,e=window.db.queryAll("list",{query:{status:1}}).length,n=(window.db.tableExists("tour_demo_collection")&&e--,e>E.limit.collections&&E.limitReached(),E.getActive()),o=window.db.rowCount(n.bookmark_id),n=Object(k.a)(".collection[data-bookmark='"+n.bookmark_id+"']"),i=n.querySelector(".menu-options ul.collection-options"),o=(i&&(0<o?(i.querySelector(".flaticon-collection_sort").removeAttribute("disabled"),i.querySelector(".flaticon-edit_collection_icons").removeAttribute("disabled"),n.querySelector(".collection-backup-download").classList.remove("disabled")):(i.querySelector(".flaticon-collection_sort").setAttribute("disabled","disabled"),i.querySelector(".flaticon-edit_collection_icons").setAttribute("disabled","disabled"),n.querySelector(".collection-backup-download").classList.add("disabled"))),document.querySelectorAll(".collection-options .flaticon-duplicate")),i=(window.UserSession.userInfo.session.premium||(t=e>=E.limit.collections,o&&[].forEach.call(o,function(e){e.disabled=t})),window.UserSession.userInfo.logged||[].forEach.call(document.querySelectorAll(".collection .flaticon-share"),function(e){e.parentNode.dataset.tooltip=messages.collection.share_disabled,e.disabled=!0}),o.forEach(e=>e.addEventListener("click",E.duplicate)),1<e?Object(k.a)("#list_collections_btn").removeAttribute("disabled"):Object(k.a)("#list_collections_btn").setAttribute("disabled","disabled"),E.limit.collections&&window.db.queryAll("list").length>=E.limit.collections);document.querySelector("#new_collection_btn").disabled=i,E.fetch(!0)},q.updateToggle=function(){var e,t,n,o,i,r,a,c,l=Object(k.a)("#collections-toggle"),s=E.getActive();s&&(e=window.db.rowCount(s.bookmark_id),(c=Object(k.a)(".collection[data-bookmark='"+s.bookmark_id+"']"))&&(window.UserSession.userInfo.logged||(0==e?c.querySelector(".collection-content .collection-options").classList.add("no-icons"):c.querySelector(".collection-content .collection-options").classList.remove("no-icons")),c.querySelector(".badge.badge-gray").innerHTML=e,t=window.db.queryAll(s.bookmark_id,{query:{color:"XXXXXX"}}).length==e,n=window.db.queryAll(s.bookmark_id,{query:{premium:4}}).length==e,s.status&&(c.querySelector(".collection-content .download-holder button").disabled=!e,(i=c.querySelector(".collection-options .color_btn_holder"))&&(i.dataset.tooltip=!e||t?messages.collection.color_disabled:messages.filters.color),(i=c.querySelector(".collection-download .download-files .download button[data-format='iconfont']")).disabled=t,i.parentNode.dataset.tooltip=t?messages.collection.iconfont_disabled:messages.collection.iconfont_tooltip,o=c.querySelector(".collection-download .download-files .download button[data-format='psd']"),c.querySelector(".collection-download .download-files .download button[data-format='eps']"),c.querySelector('.collection-download .download-files .download a[data-format="png"]'),i=c.querySelector('.collection-download .download-files .download button[data-format="iconfont"]'),(o.disabled=n)?i.classList.add("disabled"):i.classList.remove("disabled")),null!==l&&(r=l.querySelector(".badge"),e?(r.classList.remove("hidden"),document.getElementById("collections-toggle").classList.remove("hide"),r.innerHTML=e):("home"==window.view.section&&document.querySelector("#collections-toggle span.badge").classList.contains("hidden")&&document.querySelector("section#hero")&&!document.querySelector("#header").classList.contains("fixed")?document.getElementById("collections-toggle").classList.add("hide"):"home"==window.view.section&&document.querySelector("#collections-toggle span.badge").classList.contains("hidden")&&!document.querySelector("section#hero")&&document.getElementById("collections-toggle").classList.remove("hide"),r.innerHTML=0),r.classList.add("animate"),a=setTimeout(function(){clearTimeout(a),r.classList.remove("animate"),q.updateIconsColorSvg(),l.classList.remove("loading"),Object(k.a)("#collections").classList.remove("loading")},500)),null!==(c=document.querySelector(".empty-collection-gtm"))&&c.remove(),window.db.rowCount(s.bookmark_id)||q.clear()),q.updateColoringCollectionButton(t,s.bookmark_id))},q.updateColoringCollectionButton=function(e,t){if(!document.querySelector('section[data-bookmark="'+t+'"] .toggle-paint'))return!1;e?document.querySelector('section[data-bookmark="'+t+'"] .toggle-paint').setAttribute("disabled",!0):document.querySelector('section[data-bookmark="'+t+'"] .toggle-paint').removeAttribute("disabled")},q.renderIcons=function(n,o){if(window.loading_svg){if(window.loading_svg.hasOwnProperty(o.dataset.bookmark))return!1}else window.loading_svg={},window.loading_svg[o.dataset.bookmark]=!0;Object(k.a)("#collections-toggle")&&Object(k.a)("#collections-toggle").classList.add("loading");var i=o.get(".icons");if(!(1<i.childElementCount)){var r=!1,a=!1,c=[],l=!1;if(n.forEach(function(e){var t=o.get('.icons .collectionIcon[data-id="'+e.id+'"]');e.sort<=n.length&&0!=e.sort&&null!=e.sort&&-1==c.indexOf(parseInt(e.sort,10))?c.push(parseInt(e.sort,10)):l=!0,t||(r||(r=Handlebars.tag("collection-icon"),e.bookmark_id=o.dataset.bookmark),a=!0,4!=e.premium&&(e.not_personal=!0),e.imageUrl=e.imageUrl||e.png||null,i.querySelector(".icon-upload").insertAdjacentHTML("afterend",r(e)),(t=document.querySelector('.icons .collectionIcon[data-id="'+e.id+'"]')).dataset.src=e.imageUrl,t.querySelector("img")&&(t.querySelector("img").src=e.imageUrl))}),l&&q.reorderIcons(o,!0),n.length){for(var e="",t=30;--t;)e+='<li class="icon-fill icon--item"></li>';i.insertAdjacentHTML("beforeend",e)}a&&[].forEach.call(Object(k.a)(".collectionIconImage"),function(e){q.renderSVG(e)});var s=n.length;o.status&&(o.get("button.collection_color_button").disabled=!s,o.get("button.flaticon-edit_collection_icons").disabled=!s,o.get(".badge.badge-gray").innerHTML=s,o.classList.toggle("limit-reached",s>=E.limit.icons)),q.markSelectedColor(o.color,o)}},q.renderCollection=function(e){var t,n=window.db.rowCount("list"),o=Object(k.a)(".collection[data-bookmark='"+e.bookmark_id+"']");o||(t=Handlebars.tag("collection"),document.getElementById("collections-holder").insertAdjacentHTML("beforeend",t(e)),o=Object(k.a)(".collection[data-bookmark='"+e.bookmark_id+"']")),e.order?o.classList.remove("expanded","collection-height-2","collection-height-1"):((t=1<n?2<n.length?"collection-height-2":"collection-height-1":"").length&&o.classList.add(t),o.classList.add("expanded"),e.icons.length&&q.renderIcons(e.icons,o)),o.get(".badge.badge-gray").innerHTML=e.icons.length},q.updateIconsColorSvg=function(){Array.prototype.slice.call(document.querySelectorAll('.icon--item.collectionIcon:not([data-color="XXXXXX"])')).forEach(function(e){var t=q.isLight(e.dataset.color),n=e.getElementsByTagName("svg");q.changeIconColor(e.dataset.color,n,!1,!0,t,!0)})},q.update=function(i,r){var e,a;null!==document.querySelector(".collection-section-header .collections-number")&&((e=window.db.rowCount("list"))?(Object(k.a)(".collection-section-header .collections-number").innerHTML=e,a=["-webkit-box-ordinal-group","-moz-box-ordinal-group","box-ordinal-group","-webkit-order","-moz-order","order","-ms-flex-order",""],window.db.queryAll("list",{sort:[["order","ASC"]]}).forEach(function(e,t,n){!i&&(e.order!=t||t&&e.active)&&(window.db.update("list",{bookmark_id:e.bookmark_id},function(e){return e.order=t,e.active=t?0:1,e}),window.db.commit(),e.order=t);var o=Object(k.a)(".collection[data-bookmark='"+e.bookmark_id+"']");e.icons=window.db.queryAll(e.bookmark_id,{sort:[["sort","ASC"]]}),o||(window.firstColorChange=!0,q.renderCollection(e),o=Object(k.a)(".collection[data-bookmark='"+e.bookmark_id+"']")),(o=Object(k.a)(".collection[data-bookmark='"+e.bookmark_id+"']")).style.cssText=a.join(":"+t+";"),(o.dataset.order=t)?o.classList.remove("expanded"):(n=1<n.length?2<n.length?"collection-height-2":"collection-height-1":"collection-height",r||o.classList.add("expanded"),n.length&&o.classList.contains(n)&&o.classList.add(n),e.icons.length&&q.renderIcons(e.icons,o))}),window.launching=null,q.markSelectedIcons(),q.updateToggle(),q.updateButtons()):E.new())},q.setLimits=function(e){if(!e)return!1;var t=Object(k.a)(".collection[data-bookmark='"+e.bookmark_id+"']");t.get(".max-icons-collection").style.display="none",t.get(".icons-collection-noregister").style.display="none",e.icons.length&&t.querySelector(".flaticon-edit_collection_icons").removeAttribute("disabled"),e.icons.length>=E.limit.icons?window.UserSession.userInfo.session.id?window.UserSession.userInfo.session.premium?t.classList.add("limit-reached"):(t.get(".max-icons-collection").style.display="block",k.c.danger("Ooop!",messages.limit.registered)):(t.get(".icons-collection-noregister").style.display="block",k.c.danger("Ooop!",messages.limit.guest)):t.classList.remove("limit-reached")},q.markSelectedColor=function(t,e){var n=e.classList.contains("icon")?".color-selector button":".collection-options .color-selector button",e=e.find(n);e&&[].forEach.call(e,function(e){e.dataset.color==t?e.classList.add("selected"):e.classList.remove("selected")})},q.show=function(){Object(k.a)("#collections").classList.add("visible"),Object(k.a)("#viewport").classList.add("collections-visible"),localStorage.widget_active=1},q.toggle=function(){var e=Object(k.a)("#collections"),t=Number(e.classList.toggle("visible")),n=t?"add":"remove",e=(Object(k.a)("#viewport").classList[n]("collections-visible"),d.checkHybriDevices(),e.classList[n]("visible"),t?window.cookie.setItem("co","1"):window.cookie.setItem("co","0"),localStorage.widget_active=t,document.createEvent("HTMLEvents"));e.initEvent("resize",!0,!1),document.dispatchEvent(e),t&&Object(c.a)("collections"),ga("send","event","Collection","Toggle",t?"Show":"Hide")},q.createIconsCPicker=function(e,t){var n;(e instanceof Element?(n=e.parent(".collectionIcon").get(".icon-cpicker"),$(n)):$(void 0!==e?".collection[data-bookmark='"+t+"'] .icon[data-id='"+e+"'] .icon-cpicker":".collection .icon--item .icon-cpicker")).each(function(){var e=this.parent(".icon--item").dataset.color.toUpperCase(),t=$(this);t.data().hasOwnProperty("colpickId")||(this.innerHTML="",t.colpick({flat:!0,layout:"hex",submit:0,color:e,onChange:function(e,t,n,o){q.changeIconColor(t.toUpperCase(),o,!1,!1,q.isLight(t))}})),q.changeIconColor(e,this,!0,!0,q.isLight(e))})},q.createCollectionCPicker=function(){var t;$(".collection[data-order='0'] .col-cpicker").each(function(){t=this.parent(".collection").dataset.color.toUpperCase();var e=$(this);e.data().hasOwnProperty("colpickId")||(this.innerHTML="",window.firstColorChange=!0,e.colpick({flat:!void 0,layout:"hex",submit:0,color:t,onChange:function(e,t,n,o){q.changeCollectionColor(t.toUpperCase(),o)}}),e.colpickSetColor(t),delete window.firstColorChange)})},q.markSelectedIcons=function(e){if(!e){var t=E.getActive();if(!t)return;e=t.bookmark_id}t=Object(k.a)(".viewport .icon--item:not(.collectionIcon):not(.icon-upload):not(.icon-fill)");t&&[].slice.call(t).forEach(function(e){e.classList.remove("selected");e=e.get(".overlay .add-remove");null!==e&&(e.classList.add("icon--addcollection"),e.classList.remove("icon--removecollection"))}),window.db.queryAll(e).forEach(function(e){w.toggle(e.id)})},q.addIcon=function(n,e,t,o,i,r,a){if(void 0===n)return!1;if(!parseInt(n)&&!parseInt(n.id))return!1;var c=window.location.search,c=new URLSearchParams(c);if((null!==c.get("word")||null!==c.get("term"))&&(n instanceof Object?y.a.trackDownload(n.id,null,"add_collection"):y.a.trackDownload(n,null,"add_collection")),1==(i=1==n.premium?1:parseInt(i,10))&&!window.UserSession.userInfo.session.premium){c=a;let e=document.querySelector(".detail__icon__holder img");e=e&&e.getAttribute("src"),_.a.callFunnelPremium(n);a=document.querySelector("#modal-funnel-premium-add-icon");let t=new Image;a.querySelector(".row .img img")&&(t=a.querySelector(".row .img img"));var l=a.querySelector(".row .img");t.src=c||e,l.insertAdjacentElement("beforeend",t),modal.show(a.id),a.querySelector(".modal__container").classList.add("slide-in");document.querySelector("#viewport").style.filter="none";c=document.querySelector("body");return c.classList.contains("unscrollable")||(c.style.overflow="visible"),!1}var s=E.getActive();if(!s.status){for(const g of document.querySelectorAll(".collection-locked-inside")){var u=g.closest(".collection");if(s.bookmark_id==u.dataset.bookmark){g.style.display="block";break}}return!1}var d,m,p,f,h=Object(k.a)(".collection[data-bookmark='"+s.bookmark_id+"']"),l=(h.classList.remove("empty"),h.get(".collection-content .premium-advise"));l&&(l.style.display="none"),!window.launching&&window.db.rowCount(s.bookmark_id)>=E.limit.icons?(window.UserSession.userInfo.session.id?(h.get(".max-icons-collection").style.display="block",window.UserSession.userInfo.session.premium?k.c.danger("Ooop!",messages.limit.collection):k.c.danger("Ooop!",messages.limit.registered)):(h.classList.add("nologged-limit-reached"),h.querySelector(".collection-content").classList.add("nologged-limit-reached"),h.get(".icons-collection-noregister").style.display="block",k.c.danger("Ooop!",messages.limit.guest)),(d=Object(k.a)("#collections-toggle .badge")).classList.add("animate"),m=setTimeout(function(){clearTimeout(m),d.classList.remove("animate")},300)):((a=1)<arguments.length&&(s=E.getActive(),a=parseInt(window.db.queryAll(s.bookmark_id).length,10)+1,n={id:parseInt(n,10),name:k.n(e),color:"2"==o?"XXXXXX":r||(null!=s.color?s.color:"000000"),premium:i||0,sort:a},Object(k.a)("section #detail .customize.active"))&&"1"==o&&(void 0!==localStorage.color?n.color=localStorage.color.replace("#",""):(c=Object(k.a)("section #detail #detail_picker .colpick_hex_field input"),n.color=c?c.value:s.color)),h.classList.contains("expanded")||window.launching||h.classList.add("expanded"),window.UserSession.userInfo.session.premium&&(l=messages.external_icon.title,e=messages.external_icon.message,r=!1,void 0!==document.getElementById("detail")&&null!=document.getElementById("detail")&&Object(k.a)("#download-form #icon_id").value==n.id&&(r=!0,0==Object(k.a)("#download-form #selection").value)&&k.c.warning(l,e,0),i=document.querySelector('ul.icons .icon--item[data-id="'+n.id+'"]'),r||null===i||0!=i.dataset.premium||0!=i.dataset.selection||q.restoring||k.c.warning(l,e,0)),window.db.queryAll(s.bookmark_id,{query:{id:n.id}}).length||(p=k.h(),t=n.author||0,new w(n.id,k.n(n.name),t,n.color,s.bookmark_id,n.premium,n.sort),q.updateToggle(),q.updateButtons(),w.toggle(n.id),f={},w.properties.forEach(function(e){f[e]=n[e]}),f.bookmark_id=s.bookmark_id,window.db.update("list",{bookmark_id:s.bookmark_id},function(e){return e.updated=p,e}),window.db.commit(),f.updated=p,f.created=p,E.emit("put_icon",f,function(){var e;n.imageUrl=v.imageUrl,f.imageUrl=v.imageUrl,f.color=b(f.color)?f.color:"XXXXXX",n.src=v.imageUrl,window.db.insertOrUpdate(f.bookmark_id,{id:f.id},f),window.db.commit(),EventTracker.send("all","event","collection","add-icon",n.id),4==n.premium||"undefined"!=typeof src?(e=document.createElement("img"),"undefined"!=typeof src?(e.id=n.id,e.dataset.premium=n.premium):(e.id=n.icon,e.dataset.premium=4),e.dataset.src=n.imageUrl,e=e,Object(k.a)(".collection[data-order='0'] .collection_icons_list.icons .icon-upload").insertAdjacentHTML("afterend",Handlebars.tag("collection-icon")(n))):(n.not_personal=!0,h.get(".icon--item.collectionIcon[data-id='"+n.id+"']")||(Object(k.a)(".collection[data-order='0'] .collection_icons_list.icons .icon-upload")||E.setActive(),Object(k.a)(".collection[data-order='0'] .collection_icons_list.icons .icon-upload").insertAdjacentHTML("afterend",Handlebars.tag("collection-icon")(n)),e=Object(k.a)(".collection[data-order='0'] .icons .collectionIcon[data-id='"+n.id+"'] img"))),e&&q.renderSVG(e)})))},q.delIcon=function(e){var t,n,o,i=k.h(),r=Object(k.a)(".collection[data-order='0'] .collectionIcon.selected[data-id='"+e+"']");if(r&&(t=r.parent(".collection").dataset.bookmark,n=r.parentElement,o=r.dataset.premium,r.dataset.name,r.dataset.color,r.dataset.src,n.removeChild(r),n.children.length||(n.innerHTML=""),E.emit("del_icon",{bookmark_id:t,id:e,updated:i,premium:o})),!t||!window.db.tableExists(t))return!1;window.db.deleteRows(t,{id:e}),window.db.update("list",{bookmark_id:t},function(e){return e.updated=i,e}),window.db.commit(),w.toggle(e),q.updateToggle(),q.limitsCollection(t),ga("send","event","Collection","Remove Icon",e),q.updateButtons()},q.replaceSvg=function(e){var t,n=window.requestedSVG.indexOf(e.id),n=(-1<n&&window.requestedSVG.splice(n,1),Object(k.a)(".collection[data-bookmark='"+e.bookmark+"'] .icon--item[data-id='"+e.id+"']"));if(!n){if(!(t=Object(k.a)(".collection .icon--item[data-id='"+e.id+"'] img")))return;n=Object(k.a)(".collection .icon--item[data-id='"+e.id+"']")}(t=t||n.get("img"))&&e.svg&&((n=e.svg.getElementsByTagName("svg")[0]).setAttribute("width",48),n.setAttribute("height",48),n="undefined"!=typeof ie?function e(t,n){n=n||document;var o=n.createElementNS(t.namespaceURI,t.nodeName);for(var i=0,r=t.attributes.length;i<r;++i){var a=t.attributes[i];/^xmlns\b/.test(a.nodeName)||o.setAttributeNS(a.namespaceURI,a.nodeName,a.nodeValue)}for(i=0,r=t.childNodes.length;i<r;++i){var c=t.childNodes[i];o.insertBefore(1==c.nodeType?e(c,n):n.createTextNode(c.nodeValue),null)}return o}(n):n)&&t&&(t.parentElement.replaceChild(n,t),q.createIconsCPicker(e.id,e.bookmark))},q.renderSVG=function(e){if(null===e)return!1;e.removeAttribute("onload");var t=e.parent(".collection");if(void 0===t)return!1;if(!E.getActive().status)return e.src=e.dataset.src,!1;var n=t.querySelectorAll(".collection_icons_list.icons li.icon--item");if(0<n.length&&n.length<=2){for(var o="",i=30;i--;)o+='<li class="icon-fill icon--item"></li>';t.querySelector(".collection_icons_list.icons").insertAdjacentHTML("beforeend",o)}n=e.parent(".icon--item"),t=e.dataset.src;e.classList.remove("collectionIconImage"),e.src=t,e.removeAttribute("data-src"),n.dataset.src=t},q.getSVGCode=function(e){var t;e.id=parseInt(e.id,10)||0,window.requestedSVG||(window.requestedSVG=[]),-1===window.requestedSVG.indexOf(e.id)&&(window.requestedSVG.push(e.id),t=new XMLHttpRequest,e.bookmark)&&e.id&&e.src&&(t.onreadystatechange=function(){4==t.readyState&&200==t.status&&q.replaceSvg({svg:t.responseXML,id:e.id,bookmark:e.bookmark}),t.status},document.createElement("a").href=e.src.replace("/static",""),e.premium,t.open("GET",e.src,!0),t.send())},q.clear=function(){document.querySelectorAll(".collection[data-order='0']").length&&(document.querySelectorAll(".collection[data-order='0'] ul.icons li.icon--item").forEach(function(e){e.classList.contains("icon-upload")||e.parentElement.removeChild(e)}),Object(k.a)(".collection[data-order='0']").classList.add("empty"))},q.scroll=function(e,t){var n="ul.collection_icons_list",o=$(n),n=$(n).offset().top,i=o.scrollTop(),r=o.outerHeight()||o.height();r-80+n<t?setTimeout(function(){o.scrollTop(i+80)},100):0<i&&t<80+n&&setTimeout(function(){o.scrollTop(i-80)},100)},q.reorderIcons=function(t,e){var n=[],o=document.querySelectorAll('.collection[data-bookmark="'+t.dataset.bookmark+'"] ul.collection_icons_list li.collectionIcon.icon--item'),i=o.length;o.forEach(function(e){n.push({id:e.dataset.id,sort:i}),e.dataset.sort=i,w.set(e.dataset.id,{sort:i},t.dataset.bookmark,!0),i--}),e&&E.updateReorder(t.dataset.bookmark,n)},q.removeEmptyIcons_old=function(){document.querySelectorAll("ul.collection_icons_list .empty-icon").forEach(function(e){e.parentNode.removeChild(e)}),document.querySelectorAll("ul.collection_icons_list .dragHover").forEach(function(e){e.classList.remove("dragHover")})},q.addEmptyIcon_old=function(e,t){if(e.dataset.id==t.dataset.id)return!1;var n;q.removeEmptyIcons(),e.classList.add("empty-icon"),"LI"==e.nodeName&&document.querySelectorAll('.collection_icons_list .collectionIcon[data-id="'+t.dataset.id+'"]').length&&(n=E.getActive(),document.querySelector('.collection[data-bookmark="'+n.bookmark_id+'"] ul.collection_icons_list').insertBefore(e,t))},q.moveIcon=function(e,t){if(e.dataset.id==t.dataset.id)return!1;var n;"LI"==e.nodeName&&document.querySelectorAll('.collection_icons_list .collectionIcon[data-id="'+t.dataset.id+'"]').length&&(n=E.getActive(),document.querySelector('.collection[data-bookmark="'+n.bookmark_id+'"] ul.collection_icons_list').insertBefore(e,t),e.dataset.sort=parseInt(t.dataset.sort,10)+1)},q.downloading=function(){var e=new Date,e=(e.setTime(e.getTime()+3e4),"; expires="+e.toGMTString());document.cookie="download_collection=1"+e+"; path=/",document.getElementById("collections").classList.add("loading"),document.querySelector(".collection.expanded .download-holder button").classList.add("disabled"),o=setInterval(x,500)},q.reset_widget=function(e){document.querySelector(".detail__editor__body .free_user_warning").classList.add("hidden"),document.querySelector(".detail__editor__canvas .collection_limit").classList.add("hidden"),document.querySelector(".edit-icons-user-actions #download_button").classList.remove("hidden"),document.querySelector(".detail__editor__canvas .collection_locked").classList.add("hidden")},Handlebars.registerHelper("maxCollectionIcons",function(){return E.limit.icons}),Handlebars.registerHelper("iconLocked",function(){return 1!=this.premium||window.UserSession.userInfo.session.premium?4==this.premium?" personal-icon":"":" locked"}),Handlebars.registerHelper("collectionLimitIcons",function(){var t,n="";return this.icons.forEach(function(e){t=e.imageUrl,n+='<li><img src="'+t+'" name="'+e.name+'"></li>'}),n}),Handlebars.registerHelper("loadImg",function(e,t){return"src"in this?this.src:(this.premium,v.imageUrl)}),Handlebars.registerHelper("dataSearch",function(){var e=Object(k.a)("#words");if(e)return["?term=",e=e.value,"&page=",page,"&position=",this.position].join("")}),Handlebars.registerHelper("shareUrl",function(){return btoa(this.bookmark_id)}),Handlebars.registerHelper("setHeight",function(){if(window.db)return 1<window.db.rowCount("list")?2<window.db.rowCount("list")?"collection-height-2":"collection-height-1":""}),null==window.btoa&&(window.btoa=function(e){for(var t,n,o=String(e),i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r=0,a="";o.charAt(0|r)||(i="=",r%1);a+=i.charAt(63&t>>8-r%1*8)){if(255<(n=o.charCodeAt(r+=.75)))throw new InvalidCharacterError("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");t=t<<8|n}return a});document.querySelectorAll(".collection_icons_list .popover-button").forEach(function(e){var n=e.closest(".collection_icons_list"),o=e.nextElementSibling;e.addEventListener("click",function(e){o&&n&&setTimeout(function(){var e=n.getBoundingClientRect(),t=o.getBoundingClientRect();t.left<=e.left&&(e=e.left-t.left+"24",o.style.transform="translateX("+e+"px)")},200)})});const T=[...document.querySelectorAll("input[name='collections__tour__option']")],O=t=>{T.map(e=>{e!=t.target&&e.checked&&(e.checked=!1)})};T.map(e=>e.addEventListener("click",O))},280:function(e,t,n){"use strict";n.r(t);var o=n(43),a=n(17),i=n(28),c=n(61),l=n(30);$(function(){$(window).on("load",function(){setTimeout(function(){$(window).on("popstate",function(e){Object(o.b)()||Object(o.d)()&&!Object(o.c)()&&(e.stopPropagation(),Detail.close(),l.a.close())})},0)}),$(document).on("keydown",function(e){var t=document.querySelectorAll(".collection .collection-content.edit-mode .icons .collectionIcon .edit .collection-icon-rename, .collection .collection-header .edit-name.active .collection-name-input, .detail__editor input"),t=[].some.call(t,function(e){return e==document.activeElement});if(!t&&(document.querySelector("#detail-overlay.loading")?(27==e.keyCode&&(Detail.close(),l.a.pushState({page:"pagination"},document.title,l.a.prev_url),Object(a.store_url)(l.a.prev_url)),39==e.keyCode&&l.a.getNextElement(l.a.id),37==e.keyCode&&l.a.getPrevElement(l.a.id),13==e.keyCode&&(window.location.href=window.location.href)):document.getElementById("pagination-page")&&"undefined"!=typeof axScript&&(39==e.keyCode&&c.INFINITY.infinityLoaderBtn(axScript,"next"),37==e.keyCode)&&c.INFINITY.infinityLoaderBtn(axScript,"prev"),document.getElementById("download-form"))){var t=parseInt(document.getElementById("icon_id").value,10),n=document.getElementById("keyword").value,o=parseInt(document.getElementById("team").value,10),i=parseInt(document.getElementById("colored").value,10);if(window.db instanceof Object){var r=Collection.getActive();if(r){r=window.db.queryAll(r.bookmark_id,{query:{id:t}}).length;if(107==e.keyCode||187==e.keyCode||171==e.keyCode){if(r)return;Widget.addIcon(t,n,o,i)}109!=e.keyCode&&189!=e.keyCode&&173!=e.keyCode||r&&Widget.delIcon(t,n,o)}}}}),"function"==typeof i.f&&Object(i.f)()}),window.History},281:function(e,t,i){"use strict";i.r(t),function(e){var n,u=i(14),d=i(156);function m(e,t){var n,o=this,i=(this.input=p(e),this.input.setAttribute("autocomplete","off"),this),r={minChars:2,maxItems:10,autoFirst:!1,filter:m.FILTER_CONTAINS,sort:m.SORT_BYLENGTH,item:m.ITEM,replace:m.REPLACE},a=t=t||{};for(n in r){var c=r[n],l=i.input.getAttribute("data-"+n.toLowerCase());"number"==typeof c?i[n]=parseInt(l):!1===c?i[n]=null!==l:c instanceof Function?i[n]=null:i[n]=l,i[n]||0===i[n]||(i[n]=n in a?a[n]:c)}this.index=-1;var s=document.activeElement===e||e.hasAttribute("data-autofocus");this.container=p.create("div",{className:"awesomplete",around:e}),!Object(u.b)()&&s&&(Object(d.a)(e),e.focus()),this.ul=p.create("ul",{hidden:"hidden",inside:this.container}),this.status=p.create("span",{hidden:"hidden",role:"status","aria-live":"assertive","aria-relevant":"additions",inside:this.container}),p.bind(this.input,{input:this.evaluate.bind(this),blur:this.close.bind(this),keydown:function(e){var t=e.keyCode;o.opened&&(13===t&&o.selected?(e.preventDefault(),o.select()):27===t?o.close():38!==t&&40!==t||(e.preventDefault(),o[38===t?"previous":"next"]()))}}),p.bind(this.input.form,{submit:this.close.bind(this)}),p.bind(this.ul,{mousedown:function(e){var t=e.target;if(t!==this){for(;t&&!/li/i.test(t.nodeName);)t=t.parentNode;t&&0===e.button&&o.select(t,e.target)}}}),this.input.hasAttribute("list")?(this.list="#"+this.input.getAttribute("list"),this.input.removeAttribute("list")):this.list=this.input.getAttribute("data-list")||t.list||[],m.all.push(this)}function p(e,t){return"string"==typeof e?(t||document).querySelector(e):e||null}function t(e,t){return n.call((t||document).querySelectorAll(e))}function o(){t("input.awesomplete").forEach(function(e){new m(e)})}m.prototype={set list(e){Array.isArray(e)?this._list=e:"string"==typeof e&&-1<e.indexOf(",")?this._list=e.split(/\s*,\s*/):(e=p(e))&&e.children&&(this._list=n.apply(e.children).map(function(e){return e.textContent.trim()})),document.activeElement===this.input&&this.evaluate()},get selected(){return-1<this.index},get opened(){return!this.ul.hasAttribute("hidden")},close:function(){this.ul.setAttribute("hidden",""),this.index=-1,p.fire(this.input,"awesomplete-close")},open:function(){this.ul.removeAttribute("hidden"),this.autoFirst&&-1===this.index&&this.goto(0),p.fire(this.input,"awesomplete-open")},next:function(){var e=this.ul.children.length;this.goto(this.index<e-1?this.index+1:-1)},previous:function(){var e=this.ul.children.length;this.goto(this.selected?this.index-1:e-1)},goto:function(e){var t=this.ul.children;this.selected&&t[this.index].setAttribute("aria-selected","false"),-1<(this.index=e)&&0<t.length&&(t[e].setAttribute("aria-selected","true"),this.status.textContent=t[e].textContent),p.fire(this.input,"awesomplete-highlight")},select:function(e,t){(e=e||this.ul.children[this.index]).parentElement.classList.contains("autocomplete-icons")&&(t=e=e.parentElement.parent("li")),e&&p.fire(this.input,"awesomplete-select",{text:e.textContent,data:this.suggestions[p.siblingIndex(e)],originalTarget:t||e})&&(this.replace(e.textContent),this.close(),p.fire(this.input,"awesomplete-selectcomplete"))},evaluate:function(){var t=this,n=this.input.value;!(n.length>=this.minChars&&0<this._list.length)||(this.index=-1,this.ul.innerHTML="",this.suggestions=this._list.filter(function(e){return t.filter(e,n)}).slice(0,this.maxItems),this.suggestions.forEach(function(e){t.ul.appendChild(t.item(e,n))}),0===this.ul.children.length)?this.close():this.open()}},m.all=[],m.FILTER_CONTAINS=function(e,t){return RegExp(p.regExpEscape(t.trim()),"i").test(e)},m.FILTER_STARTSWITH=function(e,t){return RegExp("^"+p.regExpEscape(t),"i").test(e)},m.SORT_BYLENGTH=function(e,t){return e.length!==t.length?e.length-t.length:e<t?-1:1},m.ITEM=function(e,t){e=""===t?e:e.replace(RegExp(p.regExpEscape(t.toLowerCase().trim()),"gi"),"<mark>$&</mark>");return p.create("li",{innerHTML:e,"aria-selected":"false"})},m.REPLACE=function(e){this.input.value=e.toLowerCase()},n=Array.prototype.slice,p.create=function(e,t){var n,o=document.createElement(e);for(n in t){var i,r=t[n];"inside"===n?p(r).appendChild(o):"around"===n?((i=p(r)).parentNode.insertBefore(o,i),o.appendChild(i)):n in o?o[n]=r:o.setAttribute(n,r)}return o},p.bind=function(t,e){if(t)for(var n in e){var o=e[n];n.split(/\s+/).forEach(function(e){t.addEventListener(e,o)})}},p.fire=function(e,t,n){var o,i=document.createEvent("HTMLEvents");for(o in i.initEvent(t,!0,!0),n)i[o]&&(i[o]=n[o]);return e.dispatchEvent(i)},p.regExpEscape=function(e){return e.replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&")},p.siblingIndex=function(e){for(var t=0;e=e.previousElementSibling;t++);return t},"undefined"!=typeof Document&&("loading"!==document.readyState?o():document.addEventListener("DOMContentLoaded",o)),m.$=p,m.$$=t,"undefined"!=typeof self&&(self.Awesomplete=m),e.exports&&(e.exports=m)}.call(this,i(282)(e))},282:function(e,t){e.exports=function(e){var t;return e.webpackPolyfill||((t=Object.create(e)).children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1),t}},283:function(e,t,n){"use strict";n.r(t);var o=n(0),i=n(19),r=(n(284),n(29));n(17),n(1);Element.prototype.hasOwnProperty("parent")||(Element.prototype.parent=function(e){var t=this.parents(e);return void 0===e&&t.reverse(),t&&t.length?t[0]:null});let a;$(function(){window.awesompletes=[];var c=null;[].forEach.call(document.querySelectorAll(".autocomplete"),function(o){o.classList.contains("home_search_input");var e=new Awesomplete(o,{minChars:2,item:function(e,t){var n,o={icons:0,items:[],tag_id:0,tag:""};for(n in window.autocompleteTags)if(window.autocompleteTags[n].tag==e){o=window.autocompleteTags[n];break}o.hasOwnProperty("packs")&&(o.icons=o.packs);var i='<div class="text-container">\t\t\t\t<div class="text">$$</div></div>',i=(i+="</ul>").replace("$$",e.toLowerCase().replace(new RegExp(t.toLowerCase(),"g"),"<mark>"+t.toLowerCase()+"</mark>"));return Awesomplete.$.create("li",{innerHTML:i,"aria-selected":"false","data-position":o.position})},sort:function(){}}),e=(window.awesompletes.push(e),!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform));e&&(e=document.querySelector(".home_search_input"))&&(e.classList.add("ios"),e=document.querySelector(".home_search_input .awesomplete"))&&e.addEventListener("click",()=>{document.querySelector(".home_search_input .autocomplete").focus()}),$(o).on("awesomplete-selectcomplete",function(e){o.value=o.value.trim().split("(")[0].trim();var t=o.parent("form"),n=Array.from(t.querySelectorAll(".awesomplete ul li")).map(e=>e).find(e=>e.textContent.replace(/[^a-zA-ZÀ-ÿ ]/g,"")===o.value);Object(r.d)(n.dataset.position,o.value,a),"undefined"!=typeof exec_search?exec_search():t.classList.contains("author_search")?t.submit():Object(r.b)()}).on("blur",function(e){e.value=""})}),$(".autocomplete").on("keyup",function(n){var o,i=this.classList.contains("home_search_input");if(-1==[27,13,37,38,39,40,106,191].indexOf(n.keyCode)){var n=encodeURIComponent(this.value).replace(/[']/g,escape),r=document.querySelector(".search-holder .type-selector input[name=type]:checked"),a=document.querySelector('.search-holder .type-selector input[id^="switch_search_by_packs"][name=search-group]:checked');let e=!1,t=(e=a&&!i?"packs"==a.getAttribute("data-type"):e)?APP_URL+"ajax/autocomplete_packs?term="+n:APP_URL+"ajax/autocomplete/"+n;r&&(i=e?"&":"?",t+=i+"type="+r.value),n&&1<n.length&&(c&&clearTimeout(c),o=t,c=setTimeout(()=>{$.ajax({url:encodeURI(o),type:"GET",success:function(e){l(e)}})},400))}});const l=e=>{for(var t in window.autocomplete=[],window.autocompleteTags=e)window.autocomplete.push(e[t].tag);window.awesompletes.forEach(function(e){e.list=window.autocomplete});var n=o.e.view.section!==i.b.home||o.e.UserSession.userInfo.logged?document.querySelector('.main_search_bar .awesomplete input[type="search"]'):document.querySelector('.home_search_input .awesomplete input[type="search"]');a=n.value}})},284:function(e,O,j){!function(C,A){var T;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */!function(){var Mr,Hr="Expected a function",ya="__lodash_hash_undefined__",_a="__lodash_placeholder__",zr=128,Fr=9007199254740991,ba=NaN,Xr=4294967295,wa=[["ary",zr],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],Gr="[object Arguments]",ka="[object Array]",Wr="[object Boolean]",Yr="[object Date]",Sa="[object Error]",Ea="[object Function]",La="[object GeneratorFunction]",Vr="[object Map]",Kr="[object Number]",Jr="[object Object]",Ia="[object Promise]",Zr="[object RegExp]",Qr="[object Set]",ea="[object String]",qa="[object Symbol]",ta="[object WeakMap]",na="[object ArrayBuffer]",oa="[object DataView]",xa="[object Float32Array]",Ca="[object Float64Array]",Aa="[object Int8Array]",Ta="[object Int16Array]",Oa="[object Int32Array]",ja="[object Uint8Array]",Pa="[object Uint8ClampedArray]",$a="[object Uint16Array]",Ra="[object Uint32Array]",Ba=/\b__p \+= '';/g,Ua=/\b(__p \+=) '' \+/g,Da=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Na=/&(?:amp|lt|gt|quot|#39);/g,Ma=/[&<>"']/g,Ha=RegExp(Na.source),za=RegExp(Ma.source),Fa=/<%-([\s\S]+?)%>/g,Xa=/<%([\s\S]+?)%>/g,Ga=/<%=([\s\S]+?)%>/g,Wa=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ya=/^\w*$/,Va=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ka=/[\\^$.*+?()[\]{}|]/g,Ja=RegExp(Ka.source),Za=/^\s+/,r=/\s/,Qa=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ec=/\{\n\/\* \[wrapped with (.+)\] \*/,tc=/,? & /,nc=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,oc=/[()=,{}\[\]\/\s]/,ic=/\\(\\)?/g,rc=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ac=/\w*$/,cc=/^[-+]0x[0-9a-f]+$/i,lc=/^0b[01]+$/i,sc=/^\[object .+?Constructor\]$/,uc=/^0o[0-7]+$/i,dc=/^(?:0|[1-9]\d*)$/,mc=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,pc=/($^)/,fc=/['\n\r\u2028\u2029\\]/g,a="\\ud800-\\udfff",c="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",e="\\u2700-\\u27bf",t="a-z\\xdf-\\xf6\\xf8-\\xff",n="A-Z\\xc0-\\xd6\\xd8-\\xde",l="\\ufe0e\\ufe0f",o="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",s="['’]",i="["+a+"]",u="["+o+"]",d="["+c+"]",m="["+e+"]",p="["+t+"]",o="[^"+a+o+"\\d+"+e+t+n+"]",e="\\ud83c[\\udffb-\\udfff]",t="[^"+a+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",h="[\\ud800-\\udbff][\\udc00-\\udfff]",n="["+n+"]",g="\\u200d",v="(?:"+p+"|"+o+")",o="(?:"+n+"|"+o+")",y="(?:['’](?:d|ll|m|re|s|t|ve))?",_="(?:['’](?:D|LL|M|RE|S|T|VE))?",b="(?:"+d+"|"+e+")"+"?",w="["+l+"]?",w=w+b+("(?:"+g+"(?:"+[t,f,h].join("|")+")"+w+b+")*"),b="(?:"+[m,f,h].join("|")+")"+w,m="(?:"+[t+d+"?",d,f,h,i].join("|")+")",hc=RegExp(s,"g"),gc=RegExp(d,"g"),k=RegExp(e+"(?="+e+")|"+m+w,"g"),vc=RegExp([n+"?"+p+"+"+y+"(?="+[u,n,"$"].join("|")+")",o+"+"+_+"(?="+[u,n+v,"$"].join("|")+")",n+"?"+v+"+"+y,n+"+"+_,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",b].join("|"),"g"),S=RegExp("["+g+a+c+l+"]"),yc=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,_c=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],bc=-1,ia={},ra=(ia[xa]=ia[Ca]=ia[Aa]=ia[Ta]=ia[Oa]=ia[ja]=ia[Pa]=ia[$a]=ia[Ra]=!0,ia[Gr]=ia[ka]=ia[na]=ia[Wr]=ia[oa]=ia[Yr]=ia[Sa]=ia[Ea]=ia[Vr]=ia[Kr]=ia[Jr]=ia[Zr]=ia[Qr]=ia[ea]=ia[ta]=!1,{}),E=(ra[Gr]=ra[ka]=ra[na]=ra[oa]=ra[Wr]=ra[Yr]=ra[xa]=ra[Ca]=ra[Aa]=ra[Ta]=ra[Oa]=ra[Vr]=ra[Kr]=ra[Jr]=ra[Zr]=ra[Qr]=ra[ea]=ra[qa]=ra[ja]=ra[Pa]=ra[$a]=ra[Ra]=!0,ra[Sa]=ra[Ea]=ra[ta]=!1,{"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"}),wc=parseFloat,kc=parseInt,t="object"==typeof C&&C&&C.Object===Object&&C,f="object"==typeof self&&self&&self.Object===Object&&self,aa=t||f||Function("return this")(),h=O&&!O.nodeType&&O,L=h&&"object"==typeof A&&A&&!A.nodeType&&A,Sc=L&&L.exports===h,I=Sc&&t.process,i=function(){try{var e=L&&L.require&&L.require("util").types;return e?e:I&&I.binding&&I.binding("util")}catch(e){}}(),Ec=i&&i.isArrayBuffer,Lc=i&&i.isDate,Ic=i&&i.isMap,qc=i&&i.isRegExp,xc=i&&i.isSet,Cc=i&&i.isTypedArray;function ca(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Ac(e,t,n,o){for(var i=-1,r=null==e?0:e.length;++i<r;){var a=e[i];t(o,a,n(a),e)}return o}function la(e,t){for(var n=-1,o=null==e?0:e.length;++n<o&&!1!==t(e[n],n,e););return e}function Tc(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Oc(e,t){for(var n=-1,o=null==e?0:e.length;++n<o;)if(!t(e[n],n,e))return!1;return!0}function sa(e,t){for(var n=-1,o=null==e?0:e.length,i=0,r=[];++n<o;){var a=e[n];t(a,n,e)&&(r[i++]=a)}return r}function jc(e,t){return!!(null==e?0:e.length)&&-1<ma(e,t,0)}function Pc(e,t,n){for(var o=-1,i=null==e?0:e.length;++o<i;)if(n(t,e[o]))return!0;return!1}function ua(e,t){for(var n=-1,o=null==e?0:e.length,i=Array(o);++n<o;)i[n]=t(e[n],n,e);return i}function da(e,t){for(var n=-1,o=t.length,i=e.length;++n<o;)e[i+n]=t[n];return e}function $c(e,t,n,o){var i=-1,r=null==e?0:e.length;for(o&&r&&(n=e[++i]);++i<r;)n=t(n,e[i],i,e);return n}function Rc(e,t,n,o){var i=null==e?0:e.length;for(o&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Bc(e,t){for(var n=-1,o=null==e?0:e.length;++n<o;)if(t(e[n],n,e))return!0;return!1}var q=zc("length");function Uc(e,o,t){var i;return t(e,function(e,t,n){if(o(e,t,n))return i=t,!1}),i}function Dc(e,t,n,o){for(var i=e.length,r=n+(o?1:-1);o?r--:++r<i;)if(t(e[r],r,e))return r;return-1}function ma(e,t,n){if(t!=t)return Dc(e,Mc,n);for(var o=e,i=t,r=n-1,a=o.length;++r<a;)if(o[r]===i)return r;return-1}function Nc(e,t,n,o){for(var i=n-1,r=e.length;++i<r;)if(o(e[i],t))return i;return-1}function Mc(e){return e!=e}function Hc(e,t){var n=null==e?0:e.length;return n?Xc(e,t)/n:ba}function zc(t){return function(e){return null==e?Mr:e[t]}}function x(t){return function(e){return null==t?Mr:t[e]}}function Fc(e,o,i,r,t){return t(e,function(e,t,n){i=r?(r=!1,e):o(i,e,t,n)}),i}function Xc(e,t){for(var n,o=-1,i=e.length;++o<i;){var r=t(e[o]);r!==Mr&&(n=n===Mr?r:n+r)}return n}function Gc(e,t){for(var n=-1,o=Array(e);++n<e;)o[n]=t(n);return o}function Wc(e){return e&&e.slice(0,il(e)+1).replace(Za,"")}function pa(t){return function(e){return t(e)}}function Yc(t,e){return ua(e,function(e){return t[e]})}function Vc(e,t){return e.has(t)}function Kc(e,t){for(var n=-1,o=e.length;++n<o&&-1<ma(t,e[n],0););return n}function Jc(e,t){for(var n=e.length;n--&&-1<ma(t,e[n],0););return n}var Zc=x({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Qc=x({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function el(e){return"\\"+E[e]}function fa(e){return S.test(e)}function tl(e){var n=-1,o=Array(e.size);return e.forEach(function(e,t){o[++n]=[t,e]}),o}function nl(t,n){return function(e){return t(n(e))}}function ha(e,t){for(var n=-1,o=e.length,i=0,r=[];++n<o;){var a=e[n];a!==t&&a!==_a||(e[n]=_a,r[i++]=n)}return r}function ol(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function ga(e){return(fa(e)?function(e){var t=k.lastIndex=0;for(;k.test(e);)++t;return t}:q)(e)}function va(e){return fa(e)?e.match(k)||[]:e.split("")}function il(e){for(var t=e.length;t--&&r.test(e.charAt(t)););return t}var rl=x({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var al=function i(e){var k=(e=null==e?aa:al.defaults(aa.Object(),e,al.pick(aa,_c))).Array,r=e.Date,O=e.Error,j=e.Function,P=e.Math,h=e.Object,$=e.RegExp,H=e.String,S=e.TypeError,z=k.prototype,F=j.prototype,X=h.prototype,G=e["__core-js_shared__"],W=F.toString,R=X.hasOwnProperty,Y=0,V=(F=/[^.]+$/.exec(G&&G.keys&&G.keys.IE_PROTO||""))?"Symbol(src)_1."+F:"",K=X.toString,J=W.call(h),Z=aa._,Q=$("^"+W.call(R).replace(Ka,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),F=Sc?e.Buffer:Mr,t=e.Symbol,ee=e.Uint8Array,te=F?F.allocUnsafe:Mr,ne=nl(h.getPrototypeOf,h),oe=h.create,ie=X.propertyIsEnumerable,re=z.splice,ae=t?t.isConcatSpreadable:Mr,ce=t?t.iterator:Mr,le=t?t.toStringTag:Mr,se=function(){try{var e=Zn(h,"defineProperty");return e({},"",{}),e}catch(e){}}(),ue=e.clearTimeout!==aa.clearTimeout&&e.clearTimeout,de=r&&r.now!==aa.Date.now&&r.now,me=e.setTimeout!==aa.setTimeout&&e.setTimeout,pe=P.ceil,fe=P.floor,he=h.getOwnPropertySymbols,F=F?F.isBuffer:Mr,ge=e.isFinite,ve=z.join,ye=nl(h.keys,h),E=P.max,L=P.min,_e=r.now,be=e.parseInt,we=P.random,ke=z.reverse,r=Zn(e,"DataView"),Se=Zn(e,"Map"),Ee=Zn(e,"Promise"),Le=Zn(e,"Set"),e=Zn(e,"WeakMap"),Ie=Zn(h,"create"),qe=e&&new e,xe={},Ce=Eo(r),Ae=Eo(Se),Te=Eo(Ee),Oe=Eo(Le),je=Eo(e),t=t?t.prototype:Mr,Pe=t?t.valueOf:Mr,$e=t?t.toString:Mr;function f(e){if(M(e)&&!N(e)&&!(e instanceof v)){if(e instanceof g)return e;if(R.call(e,"__wrapped__"))return Lo(e)}return new g(e)}var Re=function(e){if(!w(e))return{};if(oe)return oe(e);Be.prototype=e;e=new Be;return Be.prototype=Mr,e};function Be(){}function Ue(){}function g(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=Mr}function v(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Xr,this.__views__=[]}function De(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}function Ne(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}function Me(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}function He(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Me;++t<n;)this.add(e[t])}function B(e){e=this.__data__=new Ne(e);this.size=e.size}function ze(e,t){var n,o=N(e),i=!o&&yi(e),r=!o&&!i&&bi(e),a=!o&&!i&&!r&&Ti(e),c=o||i||r||a,l=c?Gc(e.length,H):[],s=l.length;for(n in e)!t&&!R.call(e,n)||c&&("length"==n||r&&("offset"==n||"parent"==n)||a&&("buffer"==n||"byteLength"==n||"byteOffset"==n)||io(n,s))||l.push(n);return l}function Fe(e){var t=e.length;return t?e[Ut(0,t-1)]:Mr}function Xe(e,t){return bo(I(e),et(t,0,e.length))}function Ge(e){return bo(I(e))}function We(e,t,n){(n===Mr||D(e[t],n))&&(n!==Mr||t in e)||Ze(e,t,n)}function Ye(e,t,n){var o=e[t];R.call(e,t)&&D(o,n)&&(n!==Mr||t in e)||Ze(e,t,n)}function Ve(e,t){for(var n=e.length;n--;)if(D(e[n][0],t))return n;return-1}function Ke(e,o,i,r){return it(e,function(e,t,n){o(r,e,i(e),n)}),r}function Je(e,t){return e&&gn(t,C(t),e)}function Ze(e,t,n){"__proto__"==t&&se?se(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Qe(e,t){for(var n=-1,o=t.length,i=k(o),r=null==e;++n<o;)i[n]=r?Mr:Xi(e,t[n]);return i}function et(e,t,n){return e=e==e&&(n!==Mr&&(e=e<=n?e:n),t!==Mr)?t<=e?e:t:e}function y(n,o,i,e,t,r){var a,c=1&o,l=2&o,s=4&o;if((a=i?t?i(n,e,t,r):i(n):a)===Mr){if(!w(n))return n;var u,e=N(n);if(e){if(a=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&R.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(n),!c)return I(n,a)}else{var d=U(n),m=d==Ea||d==La;if(bi(n))return un(n,c);if(d==Jr||d==Gr||m&&!t){if(a=l||m?{}:no(n),!c)return l?(p=m=n,p=(u=a)&&gn(p,A(p),u),gn(m,eo(m),p)):(m=Je(a,u=n),gn(u,Qn(u),m))}else{if(!ra[d])return t?n:{};a=function(e,t,n){var o=e.constructor;switch(t){case na:return dn(e);case Wr:case Yr:return new o(+e);case oa:return function(e,t){t=t?dn(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.byteLength)}(e,n);case xa:case Ca:case Aa:case Ta:case Oa:case ja:case Pa:case $a:case Ra:return mn(e,n);case Vr:return new o;case Kr:case ea:return new o(e);case Zr:return function(e){var t=new e.constructor(e.source,ac.exec(e));return t.lastIndex=e.lastIndex,t}(e);case Qr:return new o;case qa:return function(e){return Pe?h(Pe.call(e)):{}}(e)}}(n,d,c)}}var p=(r=r||new B).get(n);if(p)return p;r.set(n,a),Ci(n)?n.forEach(function(e){a.add(y(e,o,i,e,n,r))}):Li(n)&&n.forEach(function(e,t){a.set(t,y(e,o,i,t,n,r))});var f=e?Mr:(s?l?Gn:Xn:l?A:C)(n);la(f||n,function(e,t){f&&(e=n[t=e]),Ye(a,t,y(e,o,i,t,n,r))})}return a}function tt(e,t,n){var o=n.length;if(null==e)return!o;for(e=h(e);o--;){var i=n[o],r=t[i],a=e[i];if(a===Mr&&!(i in e)||!r(a))return!1}return!0}function nt(e,t,n){if("function"!=typeof e)throw new S(Hr);return go(function(){e.apply(Mr,n)},t)}function ot(e,t,n,o){var i=-1,r=jc,a=!0,c=e.length,l=[],s=t.length;if(c){n&&(t=ua(t,pa(n))),o?(r=Pc,a=!1):200<=t.length&&(r=Vc,a=!1,t=new He(t));e:for(;++i<c;){var u=e[i],d=null==n?u:n(u),u=o||0!==u?u:0;if(a&&d==d){for(var m=s;m--;)if(t[m]===d)continue e;l.push(u)}else r(t,d,o)||l.push(u)}}return l}f.templateSettings={escape:Fa,evaluate:Xa,interpolate:Ga,variable:"",imports:{_:f}},(f.prototype=Ue.prototype).constructor=f,(g.prototype=Re(Ue.prototype)).constructor=g,(v.prototype=Re(Ue.prototype)).constructor=v,De.prototype.clear=function(){this.__data__=Ie?Ie(null):{},this.size=0},De.prototype.delete=function(e){return e=this.has(e)&&delete this.__data__[e],this.size-=e?1:0,e},De.prototype.get=function(e){var t,n=this.__data__;return Ie?(t=n[e])===ya?Mr:t:R.call(n,e)?n[e]:Mr},De.prototype.has=function(e){var t=this.__data__;return Ie?t[e]!==Mr:R.call(t,e)},De.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Ie&&t===Mr?ya:t,this},Ne.prototype.clear=function(){this.__data__=[],this.size=0},Ne.prototype.delete=function(e){var t=this.__data__;return!((e=Ve(t,e))<0||(e==t.length-1?t.pop():re.call(t,e,1),--this.size,0))},Ne.prototype.get=function(e){var t=this.__data__;return(e=Ve(t,e))<0?Mr:t[e][1]},Ne.prototype.has=function(e){return-1<Ve(this.__data__,e)},Ne.prototype.set=function(e,t){var n=this.__data__,o=Ve(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this},Me.prototype.clear=function(){this.size=0,this.__data__={hash:new De,map:new(Se||Ne),string:new De}},Me.prototype.delete=function(e){return e=Kn(this,e).delete(e),this.size-=e?1:0,e},Me.prototype.get=function(e){return Kn(this,e).get(e)},Me.prototype.has=function(e){return Kn(this,e).has(e)},Me.prototype.set=function(e,t){var n=Kn(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this},He.prototype.add=He.prototype.push=function(e){return this.__data__.set(e,ya),this},He.prototype.has=function(e){return this.__data__.has(e)},B.prototype.clear=function(){this.__data__=new Ne,this.size=0},B.prototype.delete=function(e){var t=this.__data__,e=t.delete(e);return this.size=t.size,e},B.prototype.get=function(e){return this.__data__.get(e)},B.prototype.has=function(e){return this.__data__.has(e)},B.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Ne){var o=n.__data__;if(!Se||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new Me(o)}return n.set(e,t),this.size=n.size,this};var it=_n(dt),rt=_n(mt,!0);function at(e,o){var i=!0;return it(e,function(e,t,n){return i=!!o(e,t,n)}),i}function ct(e,t,n){for(var o=-1,i=e.length;++o<i;){var r,a,c=e[o],l=t(c);null!=l&&(r===Mr?l==l&&!_(l):n(l,r))&&(r=l,a=c)}return a}function lt(e,o){var i=[];return it(e,function(e,t,n){o(e,t,n)&&i.push(e)}),i}function l(e,t,n,o,i){var r=-1,a=e.length;for(n=n||oo,i=i||[];++r<a;){var c=e[r];0<t&&n(c)?1<t?l(c,t-1,n,o,i):da(i,c):o||(i[i.length]=c)}return i}var st=bn(),ut=bn(!0);function dt(e,t){return e&&st(e,t,C)}function mt(e,t){return e&&ut(e,t,C)}function pt(t,e){return sa(e,function(e){return ki(t[e])})}function ft(e,t){for(var n=0,o=(t=an(t,e)).length;null!=e&&n<o;)e=e[So(t[n++])];return n&&n==o?e:Mr}function ht(e,t,n){t=t(e);return N(e)?t:da(t,n(e))}function n(e){if(null==e)return e===Mr?"[object Undefined]":"[object Null]";if(le&&le in h(e)){var t=e,n=R.call(t,le),o=t[le];try{t[le]=Mr;var i=!0}catch(e){}var r=K.call(t);return i&&(n?t[le]=o:delete t[le]),r}return K.call(e)}function gt(e,t){return t<e}function vt(e,t){return null!=e&&R.call(e,t)}function yt(e,t){return null!=e&&t in h(e)}function _t(e,t,n){for(var o=n?Pc:jc,i=e[0].length,r=e.length,a=r,c=k(r),l=1/0,s=[];a--;){var u=e[a];a&&t&&(u=ua(u,pa(t))),l=L(u.length,l),c[a]=!n&&(t||120<=i&&120<=u.length)?new He(a&&u):Mr}var u=e[0],d=-1,m=c[0];e:for(;++d<i&&s.length<l;){var p=u[d],f=t?t(p):p,p=n||0!==p?p:0;if(!(m?Vc(m,f):o(s,f,n))){for(a=r;--a;){var h=c[a];if(!(h?Vc(h,f):o(e[a],f,n)))continue e}m&&m.push(f),s.push(p)}}return s}function bt(e,t,n){t=null==(e=po(e,t=an(t,e)))?e:e[So(o(t))];return null==t?Mr:ca(t,e,n)}function wt(e){return M(e)&&n(e)==Gr}function kt(e,t,n,o,i){if(e===t)return!0;if(null==e||null==t||!M(e)&&!M(t))return e!=e&&t!=t;var r=kt,a=N(e),c=N(t),l=a?ka:U(e),c=c?ka:U(t),s=(l=l==Gr?Jr:l)==Jr,u=(c=c==Gr?Jr:c)==Jr;if((c=l==c)&&bi(e)){if(!bi(t))return!1;s=!(a=!0)}if(c&&!s){i=i||new B;if(a||Ti(e))return zn(e,t,n,o,r,i);else{var d=e;var m=t;var p=l;var f=n;var h=o;var g=r;var v=i;switch(p){case oa:if(d.byteLength!=m.byteLength||d.byteOffset!=m.byteOffset)return!1;d=d.buffer,m=m.buffer;case na:return d.byteLength==m.byteLength&&g(new ee(d),new ee(m))?!0:!1;case Wr:case Yr:case Kr:return D(+d,+m);case Sa:return d.name==m.name&&d.message==m.message;case Zr:case ea:return d==m+"";case Vr:var y=tl;case Qr:var _=1&f;if(y=y||ol,d.size!=m.size&&!_)return!1;_=v.get(d);if(_)return _==m;f|=2,v.set(d,m);_=zn(y(d),y(m),f,h,g,v);return v.delete(d),_;case qa:if(Pe)return Pe.call(d)==Pe.call(m)}return!1;return}}if(!(1&n)){a=s&&R.call(e,"__wrapped__"),l=u&&R.call(t,"__wrapped__");if(a||l)return s=a?e.value():e,u=l?t.value():t,i=i||new B,r(s,u,n,o,i)}if(c){i=i||new B;var b=e,w=t,k=n,S=o,E=r,L=i,I=1&k,q=Xn(b),x=q.length,a=Xn(w).length;if(x!=a&&!I)return!1;for(var C=x;C--;){var A=q[C];if(!(I?A in w:R.call(w,A)))return!1}a=L.get(b),l=L.get(w);if(a&&l)return a==w&&l==b;for(var T=!0,O=(L.set(b,w),L.set(w,b),I);++C<x;){A=q[C];var j,P=b[A],$=w[A];if(!((j=S?I?S($,P,A,w,b,L):S(P,$,A,b,w,L):j)===Mr?P===$||E(P,$,k,S,L):j)){T=!1;break}O=O||"constructor"==A}return T&&!O&&(a=b.constructor,l=w.constructor,a!=l)&&"constructor"in b&&"constructor"in w&&!("function"==typeof a&&a instanceof a&&"function"==typeof l&&l instanceof l)&&(T=!1),L.delete(b),L.delete(w),T}return!1}function St(e,t,n,o){var i=n.length,r=i,a=!o;if(null==e)return!r;for(e=h(e);i--;){var c=n[i];if(a&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++i<r;){var l=(c=n[i])[0],s=e[l],u=c[1];if(a&&c[2]){if(s===Mr&&!(l in e))return!1}else{var d,m=new B;if(!((d=o?o(s,u,l,e,t,m):d)===Mr?kt(u,s,3,o,m):d))return!1}}return!0}function Et(e){var t;return!(!w(e)||(t=e,V&&V in t))&&(ki(e)?Q:sc).test(Eo(e))}function Lt(e){return"function"==typeof e?e:null==e?T:"object"==typeof e?N(e)?Tt(e[0],e[1]):At(e):xr(e)}function It(e){if(!lo(e))return ye(e);var t,n=[];for(t in h(e))R.call(e,t)&&"constructor"!=t&&n.push(t);return n}function qt(e){if(!w(e)){var t=e,n=[];if(null!=t)for(var o in h(t))n.push(o);return n}var i,r=lo(e),a=[];for(i in e)("constructor"!=i||!r&&R.call(e,i))&&a.push(i);return a}function xt(e,t){return e<t}function Ct(e,o){var i=-1,r=u(e)?k(e.length):[];return it(e,function(e,t,n){r[++i]=o(e,t,n)}),r}function At(t){var n=Jn(t);return 1==n.length&&n[0][2]?uo(n[0][0],n[0][1]):function(e){return e===t||St(e,t,n)}}function Tt(n,o){return ro(n)&&so(o)?uo(So(n),o):function(e){var t=Xi(e,n);return t===Mr&&t===o?Gi(e,n):kt(o,t,3)}}function Ot(h,g,v,y,_){h!==g&&st(g,function(e,t){var n,o,i,r,a,c,l,s,u,d,m,p,f;_=_||new B,w(e)?(o=g,r=v,a=Ot,c=y,l=_,m=fo(n=h,i=t),p=fo(o,i),(f=l.get(p))?We(n,i,f):(f=c?c(m,p,i+"",n,o,l):Mr,(o=f===Mr)&&(s=N(p),u=!s&&bi(p),d=!s&&!u&&Ti(p),f=p,s||u||d?f=N(m)?m:b(m)?I(m):u?un(p,!(o=!1)):d?mn(p,!(o=!1)):[]:qi(p)||yi(p)?yi(f=m)?f=Bi(m):w(m)&&!ki(m)||(f=no(p)):o=!1),o&&(l.set(p,f),a(f,p,r,c,l),l.delete(p)),We(n,i,f))):(s=y?y(fo(h,t),e,t+"",h,g,_):Mr,We(h,t,s=s===Mr?e:s))},A)}function jt(e,t){var n=e.length;if(n)return io(t+=t<0?n:0,n)?e[t]:Mr}function Pt(e,o,u){o=o.length?ua(o,function(t){return N(t)?function(e){return ft(e,1===t.length?t[0]:t)}:t}):[T];var i=-1;o=ua(o,pa(d()));var t=Ct(e,function(t,e,n){return{criteria:ua(o,function(e){return e(t)}),index:++i,value:t}}),e=function(e,t){for(var n=u,o=-1,i=e.criteria,r=t.criteria,a=i.length,c=n.length;++o<a;){var l,s=pn(i[o],r[o]);if(s)return c<=o?s:(l=n[o],s*("desc"==l?-1:1))}return e.index-t.index},n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function $t(e,t,n){for(var o=-1,i=t.length,r={};++o<i;){var a=t[o],c=ft(e,a);n(c,a)&&Ht(r,an(a,e),c)}return r}function Rt(e,t,n,o){var i=o?Nc:ma,r=-1,a=t.length,c=e;for(e===t&&(t=I(t)),n&&(c=ua(e,pa(n)));++r<a;)for(var l=0,s=t[r],u=n?n(s):s;-1<(l=i(c,u,l,o));)c!==e&&re.call(c,l,1),re.call(e,l,1);return e}function Bt(e,t){for(var n=e?t.length:0,o=n-1;n--;){var i,r=t[n];n!=o&&r===i||(io(i=r)?re.call(e,r,1):Jt(e,r))}}function Ut(e,t){return e+fe(we()*(t-e+1))}function Dt(e,t){var n="";if(!(!e||t<1||Fr<t))for(;t%2&&(n+=e),(t=fe(t/2))&&(e+=e),t;);return n}function a(e,t){return vo(mo(e,t,T),e+"")}function Nt(e){return Fe(or(e))}function Mt(e,t){e=or(e);return bo(e,et(t,0,e.length))}function Ht(e,t,n,o){if(w(e))for(var i=-1,r=(t=an(t,e)).length,a=r-1,c=e;null!=c&&++i<r;){var l,s=So(t[i]),u=n;if("__proto__"===s||"constructor"===s||"prototype"===s)return e;Ye(c,s,u=i!=a&&(l=c[s],(u=o?o(l,s,c):Mr)===Mr)?w(l)?l:io(t[i+1])?[]:{}:u),c=c[s]}return e}var zt=qe?function(e,t){return qe.set(e,t),e}:T,t=se?function(e,t){return se(e,"toString",{configurable:!0,enumerable:!1,value:vr(t),writable:!0})}:T;function Ft(e){return bo(or(e))}function c(e,t,n){for(var o=-1,i=e.length,r=((n=i<n?i:n)<0&&(n+=i),i=n<(t=t<0?i<-t?0:i+t:t)?0:n-t>>>0,t>>>=0,k(i));++o<i;)r[o]=e[o+t];return r}function Xt(e,o){var i;return it(e,function(e,t,n){return!(i=o(e,t,n))}),!!i}function Gt(e,t,n){var o=0,i=null==e?o:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;o<i;){var r=o+i>>>1,a=e[r];null!==a&&!_(a)&&(n?a<=t:a<t)?o=1+r:i=r}return i}return Wt(e,t,T,n)}function Wt(e,t,n,o){var i=0,r=null==e?0:e.length;if(0===r)return 0;for(var a=(t=n(t))!=t,c=null===t,l=_(t),s=t===Mr;i<r;){var u=fe((i+r)/2),d=n(e[u]),m=d!==Mr,p=null===d,f=d==d,h=_(d),f=a?o||f:s?f&&(o||m):c?f&&m&&(o||!p):l?f&&m&&!p&&(o||!h):!p&&!h&&(o?d<=t:d<t);f?i=u+1:r=u}return L(r,4294967294)}function Yt(e,t){for(var n=-1,o=e.length,i=0,r=[];++n<o;){var a,c=e[n],l=t?t(c):c;n&&D(l,a)||(a=l,r[i++]=0===c?0:c)}return r}function Vt(e){return"number"==typeof e?e:_(e)?ba:+e}function s(e){var t;return"string"==typeof e?e:N(e)?ua(e,s)+"":_(e)?$e?$e.call(e):"":"0"==(t=e+"")&&1/e==-1/0?"-0":t}function Kt(e,t,n){var o=-1,i=jc,r=e.length,a=!0,c=[],l=c;if(n)a=!1,i=Pc;else if(200<=r){var s=t?null:Bn(e);if(s)return ol(s);a=!1,i=Vc,l=new He}else l=t?[]:c;e:for(;++o<r;){var u=e[o],d=t?t(u):u,u=n||0!==u?u:0;if(a&&d==d){for(var m=l.length;m--;)if(l[m]===d)continue e;t&&l.push(d),c.push(u)}else i(l,d,n)||(l!==c&&l.push(d),c.push(u))}return c}function Jt(e,t){return null==(e=po(e,t=an(t,e)))||delete e[So(o(t))]}function Zt(e,t,n,o){return Ht(e,t,n(ft(e,t)),o)}function Qt(e,t,n,o){for(var i=e.length,r=o?i:-1;(o?r--:++r<i)&&t(e[r],r,e););return n?c(e,o?0:r,o?r+1:i):c(e,o?r+1:0,o?i:r)}function en(e,t){var n=e;return $c(t,function(e,t){return t.func.apply(t.thisArg,da([e],t.args))},n=e instanceof v?e.value():n)}function tn(e,t,n){var o=e.length;if(o<2)return o?Kt(e[0]):[];for(var i=-1,r=k(o);++i<o;)for(var a=e[i],c=-1;++c<o;)c!=i&&(r[i]=ot(r[i]||a,e[c],t,n));return Kt(l(r,1),t,n)}function nn(e,t,n){for(var o=-1,i=e.length,r=t.length,a={};++o<i;){var c=o<r?t[o]:Mr;n(a,e[o],c)}return a}function on(e){return b(e)?e:[]}function rn(e){return"function"==typeof e?e:T}function an(e,t){return N(e)?e:ro(e,t)?[e]:ko(p(e))}var cn=a;function ln(e,t,n){var o=e.length;return n=n===Mr?o:n,!t&&o<=n?e:c(e,t,n)}var sn=ue||function(e){return aa.clearTimeout(e)};function un(e,t){return t?e.slice():(t=e.length,t=te?te(t):new e.constructor(t),e.copy(t),t)}function dn(e){var t=new e.constructor(e.byteLength);return new ee(t).set(new ee(e)),t}function mn(e,t){t=t?dn(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}function pn(e,t){if(e!==t){var n=e!==Mr,o=null===e,i=e==e,r=_(e),a=t!==Mr,c=null===t,l=t==t,s=_(t);if(!c&&!s&&!r&&t<e||r&&a&&l&&!c&&!s||o&&a&&l||!n&&l||!i)return 1;if(!o&&!r&&!s&&e<t||s&&n&&i&&!o&&!r||c&&n&&i||!a&&i||!l)return-1}return 0}function fn(e,t,n,o){for(var i=-1,r=e.length,a=n.length,c=-1,l=t.length,s=E(r-a,0),u=k(l+s),d=!o;++c<l;)u[c]=t[c];for(;++i<a;)(d||i<r)&&(u[n[i]]=e[i]);for(;s--;)u[c++]=e[i++];return u}function hn(e,t,n,o){for(var i=-1,r=e.length,a=-1,c=n.length,l=-1,s=t.length,u=E(r-c,0),d=k(u+s),m=!o;++i<u;)d[i]=e[i];for(var p=i;++l<s;)d[p+l]=t[l];for(;++a<c;)(m||i<r)&&(d[p+n[a]]=e[i++]);return d}function I(e,t){var n=-1,o=e.length;for(t=t||k(o);++n<o;)t[n]=e[n];return t}function gn(e,t,n,o){for(var i=!n,r=(n=n||{},-1),a=t.length;++r<a;){var c=t[r],l=o?o(n[c],e[c],c,n,e):Mr;(i?Ze:Ye)(n,c,l=l===Mr?e[c]:l)}return n}function vn(i,r){return function(e,t){var n=N(e)?Ac:Ke,o=r?r():{};return n(e,i,d(t,2),o)}}function yn(c){return a(function(e,t){var n=-1,o=t.length,i=1<o?t[o-1]:Mr,r=2<o?t[2]:Mr,i=3<c.length&&"function"==typeof i?(o--,i):Mr;for(r&&m(t[0],t[1],r)&&(i=o<3?Mr:i,o=1),e=h(e);++n<o;){var a=t[n];a&&c(e,a,n,i)}return e})}function _n(r,a){return function(e,t){if(null!=e){if(!u(e))return r(e,t);for(var n=e.length,o=a?n:-1,i=h(e);(a?o--:++o<n)&&!1!==t(i[o],o,i););}return e}}function bn(l){return function(e,t,n){for(var o=-1,i=h(e),r=n(e),a=r.length;a--;){var c=r[l?a:++o];if(!1===t(i[c],c,i))break}return e}}function wn(o){return function(e){var t=fa(e=p(e))?va(e):Mr,n=t?t[0]:e.charAt(0),t=t?ln(t,1).join(""):e.slice(1);return n[o]()+t}}function kn(t){return function(e){return $c(fr(ar(e).replace(hc,"")),t,"")}}function Sn(o){return function(){var e=arguments;switch(e.length){case 0:return new o;case 1:return new o(e[0]);case 2:return new o(e[0],e[1]);case 3:return new o(e[0],e[1],e[2]);case 4:return new o(e[0],e[1],e[2],e[3]);case 5:return new o(e[0],e[1],e[2],e[3],e[4]);case 6:return new o(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new o(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var t=Re(o.prototype),n=o.apply(t,e);return w(n)?n:t}}function En(r,a,c){var l=Sn(r);return function e(){for(var t=arguments.length,n=k(t),o=t,i=Vn(e);o--;)n[o]=arguments[o];i=t<3&&n[0]!==i&&n[t-1]!==i?[]:ha(n,i);return(t-=i.length)<c?$n(r,a,qn,e.placeholder,Mr,n,i,Mr,Mr,c-t):ca(this&&this!==aa&&this instanceof e?l:r,this,n)}}function Ln(r){return function(e,t,n){var o,i=h(e),t=(u(e)||(o=d(t,3),e=C(e),t=function(e){return o(i[e],e,i)}),r(e,t,n));return-1<t?i[o?e[t]:t]:Mr}}function In(l){return Fn(function(i){var r=i.length,e=r,t=g.prototype.thru;for(l&&i.reverse();e--;){var n=i[e];if("function"!=typeof n)throw new S(Hr);t&&!c&&"wrapper"==Yn(n)&&(c=new g([],!0))}for(e=c?e:r;++e<r;)var o=Yn(n=i[e]),a="wrapper"==o?Wn(n):Mr,c=a&&ao(a[0])&&424==a[1]&&!a[4].length&&1==a[9]?c[Yn(a[0])].apply(c,a[3]):1==n.length&&ao(n)?c[o]():c.thru(n);return function(){var e=arguments,t=e[0];if(c&&1==e.length&&N(t))return c.plant(t).value();for(var n=0,o=r?i[n].apply(this,e):t;++n<r;)o=i[n].call(this,o);return o}})}function qn(a,c,l,s,u,d,m,p,f,h){var g=c&zr,v=1&c,y=2&c,_=24&c,b=512&c,w=y?Mr:Sn(a);return function e(){for(var t,n,o,i=k(o=arguments.length),r=o;r--;)i[r]=arguments[r];return _&&(n=function(e,t){for(var n=e.length,o=0;n--;)e[n]===t&&++o;return o}(i,t=Vn(e))),s&&(i=fn(i,s,u,_)),d&&(i=hn(i,d,m,_)),o-=n,_&&o<h?(n=ha(i,t),$n(a,c,qn,e.placeholder,l,i,n,p,f,h-o)):(t=v?l:this,n=y?t[a]:a,o=i.length,p?i=function(e,t){for(var n=e.length,o=L(t.length,n),i=I(e);o--;){var r=t[o];e[o]=io(r,n)?i[r]:Mr}return e}(i,p):b&&1<o&&i.reverse(),g&&f<o&&(i.length=f),(n=this&&this!==aa&&this instanceof e?w||Sn(n):n).apply(t,i))}}function xn(n,a){return function(e,t){return e=e,o=n,i=a(t),r={},dt(e,function(e,t,n){o(r,i(e),t,n)}),r;var o,i,r}}function Cn(o,i){return function(e,t){var n;if(e===Mr&&t===Mr)return i;if(e!==Mr&&(n=e),t!==Mr){if(n===Mr)return t;t=("string"==typeof e||"string"==typeof t?(e=s(e),s):(e=Vt(e),Vt))(t),n=o(e,t)}return n}}function An(o){return Fn(function(e){return e=ua(e,pa(d())),a(function(t){var n=this;return o(e,function(e){return ca(e,n,t)})})})}function Tn(e,t){var n=(t=t===Mr?" ":s(t)).length;return n<2?n?Dt(t,e):t:(n=Dt(t,pe(e/ga(t))),fa(t)?ln(va(n),0,e).join(""):n.slice(0,e))}function On(c,e,l,s){var u=1&e,d=Sn(c);return function e(){for(var t=-1,n=arguments.length,o=-1,i=s.length,r=k(i+n),a=this&&this!==aa&&this instanceof e?d:c;++o<i;)r[o]=s[o];for(;n--;)r[o++]=arguments[++t];return ca(a,u?l:this,r)}}function jn(s){return function(e,t,n){n&&"number"!=typeof n&&m(e,t,n)&&(t=n=Mr),e=$i(e),t===Mr?(t=e,e=0):t=$i(t),n=n===Mr?e<t?1:-1:$i(n);for(var o=e,i=n,r=s,a=-1,c=E(pe((t-o)/(i||1)),0),l=k(c);c--;)l[r?c:++a]=o,o+=i;return l}}function Pn(n){return function(e,t){return"string"==typeof e&&"string"==typeof t||(e=x(e),t=x(t)),n(e,t)}}function $n(e,t,n,o,i,r,a,c,l,s){var u=8&t,i=(4&(t=(t|(u?32:64))&~(u?64:32))||(t&=-4),[e,t,i,u?r:Mr,u?a:Mr,u?Mr:r,u?Mr:a,c,l,s]),r=n.apply(Mr,i);return ao(e)&&ho(r,i),r.placeholder=o,yo(r,e,t)}function Rn(e){var o=P[e];return function(e,t){var n;return e=x(e),(t=null==t?0:L(q(t),292))&&ge(e)?(n=(p(e)+"e").split("e"),+((n=(p(o(n[0]+"e"+(+n[1]+t)))+"e").split("e"))[0]+"e"+(+n[1]-t))):o(e)}}var Bn=Le&&1/ol(new Le([,-0]))[1]==1/0?function(e){return new Le(e)}:Er;function Un(r){return function(e){var t,n,o,i=U(e);return i==Vr?tl(e):i==Qr?(i=e,t=-1,n=Array(i.size),i.forEach(function(e){n[++t]=[e,e]}),n):ua(r(o=e),function(e){return[e,o[e]]})}}function Dn(e,t,n,o,i,r,a,c){var l,s,u,d,m,p,f,h,g,v,y,_,b,w=2&t;if(w||"function"==typeof e)return(l=o?o.length:0)||(t&=-97,o=i=Mr),a=a===Mr?a:E(q(a),0),c=c===Mr?c:q(c),l-=i?i.length:0,64&t&&(u=o,d=i,o=i=Mr),s=w?Mr:Wn(e),u=[e,t,n,o,i,u,d,r,a,c],s&&(d=s,a=(r=u)[1],p=d[1],h=(f=a|p)<131,g=p==zr&&8==a||p==zr&&256==a&&r[7].length<=d[8]||384==p&&d[7].length<=d[8]&&8==a,h||g)&&(1&p&&(r[2]=d[2],f|=1&a?0:4),(h=d[3])&&(m=r[3],r[3]=m?fn(m,h,d[4]):h,r[4]=m?ha(r[3],_a):d[4]),(h=d[5])&&(m=r[5],r[5]=m?hn(m,h,d[6]):h,r[6]=m?ha(r[5],_a):d[6]),(h=d[7])&&(r[7]=h),p&zr&&(r[8]=null==r[8]?d[8]:L(r[8],d[8])),null==r[9]&&(r[9]=d[9]),r[0]=d[0],r[1]=f),e=u[0],t=u[1],n=u[2],o=u[3],i=u[4],!(c=u[9]=u[9]===Mr?w?0:e.length:E(u[9]-l,0))&&24&t&&(t&=-25),g=t&&1!=t?8==t||16==t?En(e,t,c):32!=t&&33!=t||i.length?qn.apply(Mr,u):On(e,t,n,o):(y=n,_=1&t,b=Sn(v=e),function e(){return(this&&this!==aa&&this instanceof e?b:v).apply(_?y:this,arguments)}),yo((s?zt:ho)(g,u),e,t);throw new S(Hr)}function Nn(e,t,n,o){return e===Mr||D(e,X[n])&&!R.call(o,n)?t:e}function Mn(e,t,n,o,i,r){return w(e)&&w(t)&&(r.set(t,e),Ot(e,t,Mr,Mn,r),r.delete(t)),e}function Hn(e){return qi(e)?Mr:e}function zn(e,t,n,o,i,r){var a=1&n,c=e.length,l=t.length;if(c!=l&&!(a&&c<l))return!1;var l=r.get(e),s=r.get(t);if(l&&s)return l==t&&s==e;var u=-1,d=!0,m=2&n?new He:Mr;for(r.set(e,t),r.set(t,e);++u<c;){var p,f=e[u],h=t[u];if((p=o?a?o(h,f,u,t,e,r):o(f,h,u,e,t,r):p)!==Mr){if(p)continue;d=!1;break}if(m){if(!Bc(t,function(e,t){return!Vc(m,t)&&(f===e||i(f,e,n,o,r))&&m.push(t)})){d=!1;break}}else if(f!==h&&!i(f,h,n,o,r)){d=!1;break}}return r.delete(e),r.delete(t),d}function Fn(e){return vo(mo(e,Mr,xo),e+"")}function Xn(e){return ht(e,C,Qn)}function Gn(e){return ht(e,A,eo)}var Wn=qe?function(e){return qe.get(e)}:Er;function Yn(e){for(var t=e.name+"",n=xe[t],o=R.call(xe,t)?n.length:0;o--;){var i=n[o],r=i.func;if(null==r||r==e)return i.name}return t}function Vn(e){return(R.call(f,"placeholder")?f:e).placeholder}function d(){var e=(e=f.iteratee||br)===br?Lt:e;return arguments.length?e(arguments[0],arguments[1]):e}function Kn(e,t){var n,o,e=e.__data__;return("string"==(o=typeof(n=t))||"number"==o||"symbol"==o||"boolean"==o?"__proto__"!==n:null===n)?e["string"==typeof t?"string":"hash"]:e.map}function Jn(e){for(var t=C(e),n=t.length;n--;){var o=t[n],i=e[o];t[n]=[o,i,so(i)]}return t}function Zn(e,t){t=t;e=null==(e=e)?Mr:e[t];return Et(e)?e:Mr}var Qn=he?function(t){return null==t?[]:(t=h(t),sa(he(t),function(e){return ie.call(t,e)}))}:Tr,eo=he?function(e){for(var t=[];e;)da(t,Qn(e)),e=ne(e);return t}:Tr,U=n;function to(e,t,n){for(var o=-1,i=(t=an(t,e)).length,r=!1;++o<i;){var a=So(t[o]);if(!(r=null!=e&&n(e,a)))break;e=e[a]}return r||++o!=i?r:!!(i=null==e?0:e.length)&&Ei(i)&&io(a,i)&&(N(e)||yi(e))}function no(e){return"function"!=typeof e.constructor||lo(e)?{}:Re(ne(e))}function oo(e){return N(e)||yi(e)||!!(ae&&e&&e[ae])}function io(e,t){var n=typeof e;return!!(t=null==t?Fr:t)&&("number"==n||"symbol"!=n&&dc.test(e))&&-1<e&&e%1==0&&e<t}function m(e,t,n){var o;if(w(n))return("number"==(o=typeof t)?u(n)&&io(t,n.length):"string"==o&&t in n)&&D(n[t],e)}function ro(e,t){var n;if(!N(e))return"number"==(n=typeof e)||"symbol"==n||"boolean"==n||null==e||_(e)||Ya.test(e)||!Wa.test(e)||null!=t&&e in h(t)}function ao(e){var t=Yn(e),n=f[t];return"function"==typeof n&&t in v.prototype&&(e===n||(t=Wn(n))&&e===t[0])}(r&&U(new r(new ArrayBuffer(1)))!=oa||Se&&U(new Se)!=Vr||Ee&&U(Ee.resolve())!=Ia||Le&&U(new Le)!=Qr||e&&U(new e)!=ta)&&(U=function(e){var t=n(e),e=t==Jr?e.constructor:Mr,e=e?Eo(e):"";if(e)switch(e){case Ce:return oa;case Ae:return Vr;case Te:return Ia;case Oe:return Qr;case je:return ta}return t});var co=G?ki:Or;function lo(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||X)}function so(e){return e==e&&!w(e)}function uo(t,n){return function(e){return null!=e&&e[t]===n&&(n!==Mr||t in h(e))}}function mo(r,a,c){return a=E(a===Mr?r.length-1:a,0),function(){for(var e=arguments,t=-1,n=E(e.length-a,0),o=k(n);++t<n;)o[t]=e[a+t];for(var t=-1,i=k(a+1);++t<a;)i[t]=e[t];return i[a]=c(o),ca(r,this,i)}}function po(e,t){return t.length<2?e:ft(e,c(t,0,-1))}function fo(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var ho=_o(zt),go=me||function(e,t){return aa.setTimeout(e,t)},vo=_o(t);function yo(e,t,n){var o,i,r,t=t+"";return vo(e,(i=(t=(t=e=t).match(ec))?t[1].split(tc):[],r=n,la(wa,function(e){var t="_."+e[0];r&e[1]&&!jc(i,t)&&i.push(t)}),t=i.sort(),(n=t.length)?(t[o=n-1]=(1<n?"& ":"")+t[o],t=t.join(2<n?", ":" "),e.replace(Qa,"{\n/* [wrapped with "+t+"] */\n")):e))}function _o(n){var o=0,i=0;return function(){var e=_e(),t=16-(e-i);if(i=e,0<t){if(800<=++o)return arguments[0]}else o=0;return n.apply(Mr,arguments)}}function bo(e,t){var n=-1,o=e.length,i=o-1;for(t=t===Mr?o:t;++n<t;){var r=Ut(n,i),a=e[r];e[r]=e[n],e[n]=a}return e.length=t,e}wo=(ue=di(ue=function(e){var i=[];return 46===e.charCodeAt(0)&&i.push(""),e.replace(Va,function(e,t,n,o){i.push(n?o.replace(ic,"$1"):t||e)}),i},function(e){return 500===wo.size&&wo.clear(),e})).cache;var wo,ko=ue;function So(e){var t;return"string"==typeof e||_(e)?e:"0"==(t=e+"")&&1/e==-1/0?"-0":t}function Eo(e){if(null!=e){try{return W.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Lo(e){var t;return e instanceof v?e.clone():((t=new g(e.__wrapped__,e.__chain__)).__actions__=I(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t)}r=a(function(e,t){return b(e)?ot(e,l(t,1,b,!0)):[]}),Ee=a(function(e,t){var n=o(t);return b(n)&&(n=Mr),b(e)?ot(e,l(t,1,b,!0),d(n,2)):[]}),e=a(function(e,t){var n=o(t);return b(n)&&(n=Mr),b(e)?ot(e,l(t,1,b,!0),Mr,n):[]});function Io(e,t,n){var o=null==e?0:e.length;return o?((n=null==n?0:q(n))<0&&(n=E(o+n,0)),Dc(e,d(t,3),n)):-1}function qo(e,t,n){var o,i=null==e?0:e.length;return i?(o=i-1,n!==Mr&&(o=q(n),o=n<0?E(i+o,0):L(o,i-1)),Dc(e,d(t,3),o,!0)):-1}function xo(e){return(null==e?0:e.length)?l(e,1):[]}function Co(e){return e&&e.length?e[0]:Mr}G=a(function(e){var t=ua(e,on);return t.length&&t[0]===e[0]?_t(t):[]}),me=a(function(e){var t=o(e),n=ua(e,on);return t===o(n)?t=Mr:n.pop(),n.length&&n[0]===e[0]?_t(n,d(t,2)):[]}),t=a(function(e){var t=o(e),n=ua(e,on);return(t="function"==typeof t?t:Mr)&&n.pop(),n.length&&n[0]===e[0]?_t(n,Mr,t):[]});function o(e){var t=null==e?0:e.length;return t?e[t-1]:Mr}ue=a(Ao);function Ao(e,t){return e&&e.length&&t&&t.length?Rt(e,t):e}var To=Fn(function(e,t){var n=null==e?0:e.length,o=Qe(e,t);return Bt(e,ua(t,function(e){return io(e,n)?+e:e}).sort(pn)),o});function Oo(e){return null==e?e:ke.call(e)}var jo=a(function(e){return Kt(l(e,1,b,!0))}),Po=a(function(e){var t=o(e);return b(t)&&(t=Mr),Kt(l(e,1,b,!0),d(t,2))}),$o=a(function(e){var t="function"==typeof(t=o(e))?t:Mr;return Kt(l(e,1,b,!0),Mr,t)});function Ro(t){var n;return t&&t.length?(n=0,t=sa(t,function(e){return b(e)&&(n=E(e.length,n),1)}),Gc(n,function(e){return ua(t,zc(e))})):[]}function Bo(e,t){return e&&e.length?(e=Ro(e),null==t?e:ua(e,function(e){return ca(t,Mr,e)})):[]}var Uo=a(function(e,t){return b(e)?ot(e,t):[]}),Do=a(function(e){return tn(sa(e,b))}),No=a(function(e){var t=o(e);return b(t)&&(t=Mr),tn(sa(e,b),d(t,2))}),Mo=a(function(e){var t="function"==typeof(t=o(e))?t:Mr;return tn(sa(e,b),Mr,t)}),Ho=a(Ro);var zo=a(function(e){var t=e.length,t="function"==typeof(t=1<t?e[t-1]:Mr)?(e.pop(),t):Mr;return Bo(e,t)});function Fo(e){e=f(e);return e.__chain__=!0,e}function Xo(e,t){return t(e)}var Go=Fn(function(t){function e(e){return Qe(e,t)}var n=t.length,o=n?t[0]:0,i=this.__wrapped__;return!(1<n||this.__actions__.length)&&i instanceof v&&io(o)?((i=i.slice(o,+o+(n?1:0))).__actions__.push({func:Xo,args:[e],thisArg:Mr}),new g(i,this.__chain__).thru(function(e){return n&&!e.length&&e.push(Mr),e})):this.thru(e)});var Wo=vn(function(e,t,n){R.call(e,n)?++e[n]:Ze(e,n,1)});var Yo=Ln(Io),Vo=Ln(qo);function Ko(e,t){return(N(e)?la:it)(e,d(t,3))}function Jo(e,t){return(N(e)?Tc:rt)(e,d(t,3))}var Zo=vn(function(e,t,n){R.call(e,n)?e[n].push(t):Ze(e,n,[t])});var Qo=a(function(e,t,n){var o=-1,i="function"==typeof t,r=u(e)?k(e.length):[];return it(e,function(e){r[++o]=i?ca(t,e,n):bt(e,t,n)}),r}),ei=vn(function(e,t,n){Ze(e,n,t)});function ti(e,t){return(N(e)?ua:Ct)(e,d(t,3))}var ni=vn(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});var oi=a(function(e,t){var n;return null==e?[]:(1<(n=t.length)&&m(e,t[0],t[1])?t=[]:2<n&&m(t[0],t[1],t[2])&&(t=[t[0]]),Pt(e,l(t,1),[]))}),ii=de||function(){return aa.Date.now()};function ri(e,t,n){return t=n?Mr:t,t=e&&null==t?e.length:t,Dn(e,zr,Mr,Mr,Mr,Mr,t)}function ai(e,t){var n;if("function"!=typeof t)throw new S(Hr);return e=q(e),function(){return 0<--e&&(n=t.apply(this,arguments)),e<=1&&(t=Mr),n}}var ci=a(function(e,t,n){var o,i=1;return n.length&&(o=ha(n,Vn(ci)),i|=32),Dn(e,i,t,n,o)}),li=a(function(e,t,n){var o,i=3;return n.length&&(o=ha(n,Vn(li)),i|=32),Dn(t,i,e,n,o)});function si(o,n,e){var i,r,a,c,l,s,u=0,d=!1,m=!1,t=!0;if("function"!=typeof o)throw new S(Hr);function p(e){var t=i,n=r;return i=r=Mr,u=e,c=o.apply(n,t)}function f(e){var t=e-s;return s===Mr||n<=t||t<0||m&&a<=e-u}function h(){var e,t=ii();if(f(t))return g(t);l=go(h,(e=n-((t=t)-s),m?L(e,a-(t-u)):e))}function g(e){return l=Mr,t&&i?p(e):(i=r=Mr,c)}function v(){var e=ii(),t=f(e);if(i=arguments,r=this,s=e,t){if(l===Mr)return u=e=s,l=go(h,n),d?p(e):c;if(m)return sn(l),l=go(h,n),p(s)}return l===Mr&&(l=go(h,n)),c}return n=x(n)||0,w(e)&&(d=!!e.leading,m="maxWait"in e,a=m?E(x(e.maxWait)||0,n):a,t="trailing"in e?!!e.trailing:t),v.cancel=function(){l!==Mr&&sn(l),u=0,i=s=r=l=Mr},v.flush=function(){return l===Mr?c:g(ii())},v}var de=a(function(e,t){return nt(e,1,t)}),ui=a(function(e,t,n){return nt(e,x(t)||0,n)});function di(o,i){if("function"!=typeof o||null!=i&&"function"!=typeof i)throw new S(Hr);function r(){var e=arguments,t=i?i.apply(this,e):e[0],n=r.cache;return n.has(t)?n.get(t):(e=o.apply(this,e),r.cache=n.set(t,e)||n,e)}return r.cache=new(di.Cache||Me),r}function mi(t){if("function"!=typeof t)throw new S(Hr);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}di.Cache=Me;var cn=cn(function(o,i){var r=(i=1==i.length&&N(i[0])?ua(i[0],pa(d())):ua(l(i,1),pa(d()))).length;return a(function(e){for(var t=-1,n=L(e.length,r);++t<n;)e[t]=i[t].call(this,e[t]);return ca(o,this,e)})}),pi=a(function(e,t){var n=ha(t,Vn(pi));return Dn(e,32,Mr,t,n)}),fi=a(function(e,t){var n=ha(t,Vn(fi));return Dn(e,64,Mr,t,n)}),hi=Fn(function(e,t){return Dn(e,256,Mr,Mr,Mr,t)});function D(e,t){return e===t||e!=e&&t!=t}var gi=Pn(gt),vi=Pn(function(e,t){return t<=e}),yi=wt(function(){return arguments}())?wt:function(e){return M(e)&&R.call(e,"callee")&&!ie.call(e,"callee")},N=k.isArray,_i=Ec?pa(Ec):function(e){return M(e)&&n(e)==na};function u(e){return null!=e&&Ei(e.length)&&!ki(e)}function b(e){return M(e)&&u(e)}var bi=F||Or,F=Lc?pa(Lc):function(e){return M(e)&&n(e)==Yr};function wi(e){var t;return!!M(e)&&((t=n(e))==Sa||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!qi(e))}function ki(e){return!!w(e)&&((e=n(e))==Ea||e==La||"[object AsyncFunction]"==e||"[object Proxy]"==e)}function Si(e){return"number"==typeof e&&e==q(e)}function Ei(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=Fr}function w(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function M(e){return null!=e&&"object"==typeof e}var Li=Ic?pa(Ic):function(e){return M(e)&&U(e)==Vr};function Ii(e){return"number"==typeof e||M(e)&&n(e)==Kr}function qi(e){return!(!M(e)||n(e)!=Jr)&&(null===(e=ne(e))||"function"==typeof(e=R.call(e,"constructor")&&e.constructor)&&e instanceof e&&W.call(e)==J)}var xi=qc?pa(qc):function(e){return M(e)&&n(e)==Zr};var Ci=xc?pa(xc):function(e){return M(e)&&U(e)==Qr};function Ai(e){return"string"==typeof e||!N(e)&&M(e)&&n(e)==ea}function _(e){return"symbol"==typeof e||M(e)&&n(e)==qa}var Ti=Cc?pa(Cc):function(e){return M(e)&&Ei(e.length)&&!!ia[n(e)]};var Oi=Pn(xt),ji=Pn(function(e,t){return e<=t});function Pi(e){if(!e)return[];if(u(e))return(Ai(e)?va:I)(e);if(ce&&e[ce]){for(var t,n=e[ce](),o=[];!(t=n.next()).done;)o.push(t.value);return o}var i=U(e);return(i==Vr?tl:i==Qr?ol:or)(e)}function $i(e){return e?(e=x(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function q(e){var e=$i(e),t=e%1;return e==e?t?e-t:e:0}function Ri(e){return e?et(q(e),0,Xr):0}function x(e){if("number"==typeof e)return e;if(_(e))return ba;if("string"!=typeof(e=w(e)?w(t="function"==typeof e.valueOf?e.valueOf():e)?t+"":t:e))return 0===e?e:+e;e=Wc(e);var t=lc.test(e);return t||uc.test(e)?kc(e.slice(2),t?2:8):cc.test(e)?ba:+e}function Bi(e){return gn(e,A(e))}function p(e){return null==e?"":s(e)}var Ui=yn(function(e,t){if(lo(t)||u(t))gn(t,C(t),e);else for(var n in t)R.call(t,n)&&Ye(e,n,t[n])}),Di=yn(function(e,t){gn(t,A(t),e)}),Ni=yn(function(e,t,n,o){gn(t,A(t),e,o)}),Mi=yn(function(e,t,n,o){gn(t,C(t),e,o)}),Hi=Fn(Qe);var zi=a(function(e,t){e=h(e);var n=-1,o=t.length,i=2<o?t[2]:Mr;for(i&&m(t[0],t[1],i)&&(o=1);++n<o;)for(var r=t[n],a=A(r),c=-1,l=a.length;++c<l;){var s=a[c],u=e[s];(u===Mr||D(u,X[s])&&!R.call(e,s))&&(e[s]=r[s])}return e}),Fi=a(function(e){return e.push(Mr,Mn),ca(Ji,Mr,e)});function Xi(e,t,n){e=null==e?Mr:ft(e,t);return e===Mr?n:e}function Gi(e,t){return null!=e&&to(e,t,yt)}var Wi=xn(function(e,t,n){e[t=null!=t&&"function"!=typeof t.toString?K.call(t):t]=n},vr(T)),Yi=xn(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=K.call(t)),R.call(e,t)?e[t].push(n):e[t]=[n]},d),Vi=a(bt);function C(e){return(u(e)?ze:It)(e)}function A(e){return u(e)?ze(e,!0):qt(e)}var Ki=yn(function(e,t,n){Ot(e,t,n)}),Ji=yn(function(e,t,n,o){Ot(e,t,n,o)}),Zi=Fn(function(t,e){var n={};if(null!=t)for(var o=!1,i=(e=ua(e,function(e){return e=an(e,t),o=o||1<e.length,e}),gn(t,Gn(t),n),o&&(n=y(n,7,Hn)),e.length);i--;)Jt(n,e[i]);return n});var Qi=Fn(function(e,t){return null==e?{}:$t(n=e,t,function(e,t){return Gi(n,t)});var n});function er(e,n){var t;return null==e?{}:(t=ua(Gn(e),function(e){return[e]}),n=d(n),$t(e,t,function(e,t){return n(e,t[0])}))}var tr=Un(C),nr=Un(A);function or(e){return null==e?[]:Yc(e,C(e))}var ir=kn(function(e,t,n){return t=t.toLowerCase(),e+(n?rr(t):t)});function rr(e){return pr(p(e).toLowerCase())}function ar(e){return(e=p(e))&&e.replace(mc,Zc).replace(gc,"")}var cr=kn(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),lr=kn(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),sr=wn("toLowerCase");var ur=kn(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});var dr=kn(function(e,t,n){return e+(n?" ":"")+pr(t)});var mr=kn(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),pr=wn("toUpperCase");function fr(e,t,n){return e=p(e),(t=n?Mr:t)===Mr?(n=e,yc.test(n)?e.match(vc)||[]:e.match(nc)||[]):e.match(t)||[]}var hr=a(function(e,t){try{return ca(e,Mr,t)}catch(e){return wi(e)?e:new O(e)}}),gr=Fn(function(t,e){return la(e,function(e){e=So(e),Ze(t,e,ci(t[e],t))}),t});function vr(e){return function(){return e}}var yr=In(),_r=In(!0);function T(e){return e}function br(e){return Lt("function"==typeof e?e:y(e,1))}var wr=a(function(t,n){return function(e){return bt(e,t,n)}}),kr=a(function(t,n){return function(e){return bt(t,e,n)}});function Sr(o,t,e){var n=C(t),i=pt(t,n),r=(null!=e||w(t)&&(i.length||!n.length)||(e=t,t=o,o=this,i=pt(t,C(t))),!(w(e)&&"chain"in e&&!e.chain)),a=ki(o);return la(i,function(e){var n=t[e];o[e]=n,a&&(o.prototype[e]=function(){var e,t=this.__chain__;return r||t?(((e=o(this.__wrapped__)).__actions__=I(this.__actions__)).push({func:n,args:arguments,thisArg:o}),e.__chain__=t,e):n.apply(o,da([this.value()],arguments))})}),o}function Er(){}var Lr=An(ua),Ir=An(Oc),qr=An(Bc);function xr(e){return ro(e)?zc(So(e)):(t=e,function(e){return ft(e,t)});var t}var Cr=jn(),Ar=jn(!0);function Tr(){return[]}function Or(){return!1}var jr=Cn(function(e,t){return e+t},0),Pr=Rn("ceil"),$r=Cn(function(e,t){return e/t},1),Rr=Rn("floor");var Br,Ur=Cn(function(e,t){return e*t},1),Dr=Rn("round"),Nr=Cn(function(e,t){return e-t},0);return f.after=function(e,t){if("function"!=typeof t)throw new S(Hr);return e=q(e),function(){if(--e<1)return t.apply(this,arguments)}},f.ary=ri,f.assign=Ui,f.assignIn=Di,f.assignInWith=Ni,f.assignWith=Mi,f.at=Hi,f.before=ai,f.bind=ci,f.bindAll=gr,f.bindKey=li,f.castArray=function(){var e;return arguments.length?N(e=arguments[0])?e:[e]:[]},f.chain=Fo,f.chunk=function(e,t,n){t=(n?m(e,t,n):t===Mr)?1:E(q(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var i=0,r=0,a=k(pe(o/t));i<o;)a[r++]=c(e,i,i+=t);return a},f.compact=function(e){for(var t=-1,n=null==e?0:e.length,o=0,i=[];++t<n;){var r=e[t];r&&(i[o++]=r)}return i},f.concat=function(){var e=arguments.length;if(!e)return[];for(var t=k(e-1),n=arguments[0],o=e;o--;)t[o-1]=arguments[o];return da(N(n)?I(n):[n],l(t,1))},f.cond=function(o){var i=null==o?0:o.length,t=d();return o=i?ua(o,function(e){if("function"!=typeof e[1])throw new S(Hr);return[t(e[0]),e[1]]}):[],a(function(e){for(var t=-1;++t<i;){var n=o[t];if(ca(n[0],this,e))return ca(n[1],this,e)}})},f.conforms=function(e){return t=y(e,1),n=C(t),function(e){return tt(e,t,n)};var t,n},f.constant=vr,f.countBy=Wo,f.create=function(e,t){return e=Re(e),null==t?e:Je(e,t)},f.curry=function e(t,n,o){t=Dn(t,8,Mr,Mr,Mr,Mr,Mr,n=o?Mr:n);return t.placeholder=e.placeholder,t},f.curryRight=function e(t,n,o){t=Dn(t,16,Mr,Mr,Mr,Mr,Mr,n=o?Mr:n);return t.placeholder=e.placeholder,t},f.debounce=si,f.defaults=zi,f.defaultsDeep=Fi,f.defer=de,f.delay=ui,f.difference=r,f.differenceBy=Ee,f.differenceWith=e,f.drop=function(e,t,n){var o=null==e?0:e.length;return o?c(e,(t=n||t===Mr?1:q(t))<0?0:t,o):[]},f.dropRight=function(e,t,n){var o=null==e?0:e.length;return o?c(e,0,(t=o-(t=n||t===Mr?1:q(t)))<0?0:t):[]},f.dropRightWhile=function(e,t){return e&&e.length?Qt(e,d(t,3),!0,!0):[]},f.dropWhile=function(e,t){return e&&e.length?Qt(e,d(t,3),!0):[]},f.fill=function(e,t,n,o){if(!(l=null==e?0:e.length))return[];n&&"number"!=typeof n&&m(e,t,n)&&(n=0,o=l);var i=e,r=t,a=n,c=o,l=i.length;for((a=q(a))<0&&(a=l<-a?0:l+a),(c=c===Mr||l<c?l:q(c))<0&&(c+=l),c=c<a?0:Ri(c);a<c;)i[a++]=r;return i},f.filter=function(e,t){return(N(e)?sa:lt)(e,d(t,3))},f.flatMap=function(e,t){return l(ti(e,t),1)},f.flatMapDeep=function(e,t){return l(ti(e,t),1/0)},f.flatMapDepth=function(e,t,n){return n=n===Mr?1:q(n),l(ti(e,t),n)},f.flatten=xo,f.flattenDeep=function(e){return(null==e?0:e.length)?l(e,1/0):[]},f.flattenDepth=function(e,t){return(null==e?0:e.length)?l(e,t=t===Mr?1:q(t)):[]},f.flip=function(e){return Dn(e,512)},f.flow=yr,f.flowRight=_r,f.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,o={};++t<n;){var i=e[t];o[i[0]]=i[1]}return o},f.functions=function(e){return null==e?[]:pt(e,C(e))},f.functionsIn=function(e){return null==e?[]:pt(e,A(e))},f.groupBy=Zo,f.initial=function(e){return(null==e?0:e.length)?c(e,0,-1):[]},f.intersection=G,f.intersectionBy=me,f.intersectionWith=t,f.invert=Wi,f.invertBy=Yi,f.invokeMap=Qo,f.iteratee=br,f.keyBy=ei,f.keys=C,f.keysIn=A,f.map=ti,f.mapKeys=function(e,o){var i={};return o=d(o,3),dt(e,function(e,t,n){Ze(i,o(e,t,n),e)}),i},f.mapValues=function(e,o){var i={};return o=d(o,3),dt(e,function(e,t,n){Ze(i,t,o(e,t,n))}),i},f.matches=function(e){return At(y(e,1))},f.matchesProperty=function(e,t){return Tt(e,y(t,1))},f.memoize=di,f.merge=Ki,f.mergeWith=Ji,f.method=wr,f.methodOf=kr,f.mixin=Sr,f.negate=mi,f.nthArg=function(t){return t=q(t),a(function(e){return jt(e,t)})},f.omit=Zi,f.omitBy=function(e,t){return er(e,mi(d(t)))},f.once=function(e){return ai(2,e)},f.orderBy=function(e,t,n,o){return null==e?[]:Pt(e,t=N(t)?t:null==t?[]:[t],n=N(n=o?Mr:n)?n:null==n?[]:[n])},f.over=Lr,f.overArgs=cn,f.overEvery=Ir,f.overSome=qr,f.partial=pi,f.partialRight=fi,f.partition=ni,f.pick=Qi,f.pickBy=er,f.property=xr,f.propertyOf=function(t){return function(e){return null==t?Mr:ft(t,e)}},f.pull=ue,f.pullAll=Ao,f.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Rt(e,t,d(n,2)):e},f.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Rt(e,t,Mr,n):e},f.pullAt=To,f.range=Cr,f.rangeRight=Ar,f.rearg=hi,f.reject=function(e,t){return(N(e)?sa:lt)(e,mi(d(t,3)))},f.remove=function(e,t){var n=[];if(e&&e.length){var o=-1,i=[],r=e.length;for(t=d(t,3);++o<r;){var a=e[o];t(a,o,e)&&(n.push(a),i.push(o))}Bt(e,i)}return n},f.rest=function(e,t){if("function"!=typeof e)throw new S(Hr);return a(e,t=t===Mr?t:q(t))},f.reverse=Oo,f.sampleSize=function(e,t,n){return t=(n?m(e,t,n):t===Mr)?1:q(t),(N(e)?Xe:Mt)(e,t)},f.set=function(e,t,n){return null==e?e:Ht(e,t,n)},f.setWith=function(e,t,n,o){return o="function"==typeof o?o:Mr,null==e?e:Ht(e,t,n,o)},f.shuffle=function(e){return(N(e)?Ge:Ft)(e)},f.slice=function(e,t,n){var o=null==e?0:e.length;return o?(n=n&&"number"!=typeof n&&m(e,t,n)?(t=0,o):(t=null==t?0:q(t),n===Mr?o:q(n)),c(e,t,n)):[]},f.sortBy=oi,f.sortedUniq=function(e){return e&&e.length?Yt(e):[]},f.sortedUniqBy=function(e,t){return e&&e.length?Yt(e,d(t,2)):[]},f.split=function(e,t,n){return n&&"number"!=typeof n&&m(e,t,n)&&(t=n=Mr),(n=n===Mr?Xr:n>>>0)?(e=p(e))&&("string"==typeof t||null!=t&&!xi(t))&&!(t=s(t))&&fa(e)?ln(va(e),0,n):e.split(t,n):[]},f.spread=function(n,o){if("function"!=typeof n)throw new S(Hr);return o=null==o?0:E(q(o),0),a(function(e){var t=e[o],e=ln(e,0,o);return t&&da(e,t),ca(n,this,e)})},f.tail=function(e){var t=null==e?0:e.length;return t?c(e,1,t):[]},f.take=function(e,t,n){return e&&e.length?c(e,0,(t=n||t===Mr?1:q(t))<0?0:t):[]},f.takeRight=function(e,t,n){var o=null==e?0:e.length;return o?c(e,(t=o-(t=n||t===Mr?1:q(t)))<0?0:t,o):[]},f.takeRightWhile=function(e,t){return e&&e.length?Qt(e,d(t,3),!1,!0):[]},f.takeWhile=function(e,t){return e&&e.length?Qt(e,d(t,3)):[]},f.tap=function(e,t){return t(e),e},f.throttle=function(e,t,n){var o=!0,i=!0;if("function"!=typeof e)throw new S(Hr);return w(n)&&(o="leading"in n?!!n.leading:o,i="trailing"in n?!!n.trailing:i),si(e,t,{leading:o,maxWait:t,trailing:i})},f.thru=Xo,f.toArray=Pi,f.toPairs=tr,f.toPairsIn=nr,f.toPath=function(e){return N(e)?ua(e,So):_(e)?[e]:I(ko(p(e)))},f.toPlainObject=Bi,f.transform=function(e,o,i){var t,n=N(e),r=n||bi(e)||Ti(e);return o=d(o,4),null==i&&(t=e&&e.constructor,i=r?n?new t:[]:w(e)&&ki(t)?Re(ne(e)):{}),(r?la:dt)(e,function(e,t,n){return o(i,e,t,n)}),i},f.unary=function(e){return ri(e,1)},f.union=jo,f.unionBy=Po,f.unionWith=$o,f.uniq=function(e){return e&&e.length?Kt(e):[]},f.uniqBy=function(e,t){return e&&e.length?Kt(e,d(t,2)):[]},f.uniqWith=function(e,t){return t="function"==typeof t?t:Mr,e&&e.length?Kt(e,Mr,t):[]},f.unset=function(e,t){return null==e||Jt(e,t)},f.unzip=Ro,f.unzipWith=Bo,f.update=function(e,t,n){return null==e?e:Zt(e,t,rn(n))},f.updateWith=function(e,t,n,o){return o="function"==typeof o?o:Mr,null==e?e:Zt(e,t,rn(n),o)},f.values=or,f.valuesIn=function(e){return null==e?[]:Yc(e,A(e))},f.without=Uo,f.words=fr,f.wrap=function(e,t){return pi(rn(t),e)},f.xor=Do,f.xorBy=No,f.xorWith=Mo,f.zip=Ho,f.zipObject=function(e,t){return nn(e||[],t||[],Ye)},f.zipObjectDeep=function(e,t){return nn(e||[],t||[],Ht)},f.zipWith=zo,f.entries=tr,f.entriesIn=nr,f.extend=Di,f.extendWith=Ni,Sr(f,f),f.add=jr,f.attempt=hr,f.camelCase=ir,f.capitalize=rr,f.ceil=Pr,f.clamp=function(e,t,n){return n===Mr&&(n=t,t=Mr),n!==Mr&&(n=(n=x(n))==n?n:0),t!==Mr&&(t=(t=x(t))==t?t:0),et(x(e),t,n)},f.clone=function(e){return y(e,4)},f.cloneDeep=function(e){return y(e,5)},f.cloneDeepWith=function(e,t){return y(e,5,t="function"==typeof t?t:Mr)},f.cloneWith=function(e,t){return y(e,4,t="function"==typeof t?t:Mr)},f.conformsTo=function(e,t){return null==t||tt(e,t,C(t))},f.deburr=ar,f.defaultTo=function(e,t){return null==e||e!=e?t:e},f.divide=$r,f.endsWith=function(e,t,n){e=p(e),t=s(t);var o=e.length,o=n=n===Mr?o:et(q(n),0,o);return 0<=(n-=t.length)&&e.slice(n,o)==t},f.eq=D,f.escape=function(e){return(e=p(e))&&za.test(e)?e.replace(Ma,Qc):e},f.escapeRegExp=function(e){return(e=p(e))&&Ja.test(e)?e.replace(Ka,"\\$&"):e},f.every=function(e,t,n){return(N(e)?Oc:at)(e,d(t=n&&m(e,t,n)?Mr:t,3))},f.find=Yo,f.findIndex=Io,f.findKey=function(e,t){return Uc(e,d(t,3),dt)},f.findLast=Vo,f.findLastIndex=qo,f.findLastKey=function(e,t){return Uc(e,d(t,3),mt)},f.floor=Rr,f.forEach=Ko,f.forEachRight=Jo,f.forIn=function(e,t){return null==e?e:st(e,d(t,3),A)},f.forInRight=function(e,t){return null==e?e:ut(e,d(t,3),A)},f.forOwn=function(e,t){return e&&dt(e,d(t,3))},f.forOwnRight=function(e,t){return e&&mt(e,d(t,3))},f.get=Xi,f.gt=gi,f.gte=vi,f.has=function(e,t){return null!=e&&to(e,t,vt)},f.hasIn=Gi,f.head=Co,f.identity=T,f.includes=function(e,t,n,o){return e=u(e)?e:or(e),n=n&&!o?q(n):0,o=e.length,n<0&&(n=E(o+n,0)),Ai(e)?n<=o&&-1<e.indexOf(t,n):!!o&&-1<ma(e,t,n)},f.indexOf=function(e,t,n){var o=null==e?0:e.length;return o?ma(e,t,e=(e=null==n?0:q(n))<0?E(o+e,0):e):-1},f.inRange=function(e,t,n){return t=$i(t),n===Mr?(n=t,t=0):n=$i(n),(e=e=x(e))>=L(t=t,n=n)&&e<E(t,n)},f.invoke=Vi,f.isArguments=yi,f.isArray=N,f.isArrayBuffer=_i,f.isArrayLike=u,f.isArrayLikeObject=b,f.isBoolean=function(e){return!0===e||!1===e||M(e)&&n(e)==Wr},f.isBuffer=bi,f.isDate=F,f.isElement=function(e){return M(e)&&1===e.nodeType&&!qi(e)},f.isEmpty=function(e){if(null!=e){if(u(e)&&(N(e)||"string"==typeof e||"function"==typeof e.splice||bi(e)||Ti(e)||yi(e)))return!e.length;var t,n=U(e);if(n==Vr||n==Qr)return!e.size;if(lo(e))return!It(e).length;for(t in e)if(R.call(e,t))return!1}return!0},f.isEqual=function(e,t){return kt(e,t)},f.isEqualWith=function(e,t,n){var o=(n="function"==typeof n?n:Mr)?n(e,t):Mr;return o===Mr?kt(e,t,Mr,n):!!o},f.isError=wi,f.isFinite=function(e){return"number"==typeof e&&ge(e)},f.isFunction=ki,f.isInteger=Si,f.isLength=Ei,f.isMap=Li,f.isMatch=function(e,t){return e===t||St(e,t,Jn(t))},f.isMatchWith=function(e,t,n){return n="function"==typeof n?n:Mr,St(e,t,Jn(t),n)},f.isNaN=function(e){return Ii(e)&&e!=+e},f.isNative=function(e){if(co(e))throw new O("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Et(e)},f.isNil=function(e){return null==e},f.isNull=function(e){return null===e},f.isNumber=Ii,f.isObject=w,f.isObjectLike=M,f.isPlainObject=qi,f.isRegExp=xi,f.isSafeInteger=function(e){return Si(e)&&-Fr<=e&&e<=Fr},f.isSet=Ci,f.isString=Ai,f.isSymbol=_,f.isTypedArray=Ti,f.isUndefined=function(e){return e===Mr},f.isWeakMap=function(e){return M(e)&&U(e)==ta},f.isWeakSet=function(e){return M(e)&&"[object WeakSet]"==n(e)},f.join=function(e,t){return null==e?"":ve.call(e,t)},f.kebabCase=cr,f.last=o,f.lastIndexOf=function(e,t,n){var o=null==e?0:e.length;if(!o)return-1;var i=o;if(n!==Mr&&(i=(i=q(n))<0?E(o+i,0):L(i,o-1)),t!=t)return Dc(e,Mc,i,!0);for(var r=e,a=t,c=i+1;c--;)if(r[c]===a)return c;return c},f.lowerCase=lr,f.lowerFirst=sr,f.lt=Oi,f.lte=ji,f.max=function(e){return e&&e.length?ct(e,T,gt):Mr},f.maxBy=function(e,t){return e&&e.length?ct(e,d(t,2),gt):Mr},f.mean=function(e){return Hc(e,T)},f.meanBy=function(e,t){return Hc(e,d(t,2))},f.min=function(e){return e&&e.length?ct(e,T,xt):Mr},f.minBy=function(e,t){return e&&e.length?ct(e,d(t,2),xt):Mr},f.stubArray=Tr,f.stubFalse=Or,f.stubObject=function(){return{}},f.stubString=function(){return""},f.stubTrue=function(){return!0},f.multiply=Ur,f.nth=function(e,t){return e&&e.length?jt(e,q(t)):Mr},f.noConflict=function(){return aa._===this&&(aa._=Z),this},f.noop=Er,f.now=ii,f.pad=function(e,t,n){e=p(e);var o=(t=q(t))?ga(e):0;return!t||t<=o?e:Tn(fe(t=(t-o)/2),n)+e+Tn(pe(t),n)},f.padEnd=function(e,t,n){e=p(e);var o=(t=q(t))?ga(e):0;return t&&o<t?e+Tn(t-o,n):e},f.padStart=function(e,t,n){e=p(e);var o=(t=q(t))?ga(e):0;return t&&o<t?Tn(t-o,n)+e:e},f.parseInt=function(e,t,n){return t=n||null==t?0:t&&+t,be(p(e).replace(Za,""),t||0)},f.random=function(e,t,n){var o;return n&&"boolean"!=typeof n&&m(e,t,n)&&(t=n=Mr),n===Mr&&("boolean"==typeof t?(n=t,t=Mr):"boolean"==typeof e&&(n=e,e=Mr)),e===Mr&&t===Mr?(e=0,t=1):(e=$i(e),t===Mr?(t=e,e=0):t=$i(t)),t<e&&(o=e,e=t,t=o),n||e%1||t%1?(o=we(),L(e+o*(t-e+wc("1e-"+((o+"").length-1))),t)):Ut(e,t)},f.reduce=function(e,t,n){var o=N(e)?$c:Fc,i=arguments.length<3;return o(e,d(t,4),n,i,it)},f.reduceRight=function(e,t,n){var o=N(e)?Rc:Fc,i=arguments.length<3;return o(e,d(t,4),n,i,rt)},f.repeat=function(e,t,n){return t=(n?m(e,t,n):t===Mr)?1:q(t),Dt(p(e),t)},f.replace=function(){var e=arguments,t=p(e[0]);return e.length<3?t:t.replace(e[1],e[2])},f.result=function(e,t,n){var o=-1,i=(t=an(t,e)).length;for(i||(i=1,e=Mr);++o<i;){var r=null==e?Mr:e[So(t[o])];r===Mr&&(o=i,r=n),e=ki(r)?r.call(e):r}return e},f.round=Dr,f.runInContext=i,f.sample=function(e){return(N(e)?Fe:Nt)(e)},f.size=function(e){var t;return null==e?0:u(e)?Ai(e)?ga(e):e.length:(t=U(e))==Vr||t==Qr?e.size:It(e).length},f.snakeCase=ur,f.some=function(e,t,n){return(N(e)?Bc:Xt)(e,d(t=n&&m(e,t,n)?Mr:t,3))},f.sortedIndex=function(e,t){return Gt(e,t)},f.sortedIndexBy=function(e,t,n){return Wt(e,t,d(n,2))},f.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var o=Gt(e,t);if(o<n&&D(e[o],t))return o}return-1},f.sortedLastIndex=function(e,t){return Gt(e,t,!0)},f.sortedLastIndexBy=function(e,t,n){return Wt(e,t,d(n,2),!0)},f.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=Gt(e,t,!0)-1;if(D(e[n],t))return n}return-1},f.startCase=dr,f.startsWith=function(e,t,n){return e=p(e),n=null==n?0:et(q(n),0,e.length),t=s(t),e.slice(n,n+t.length)==t},f.subtract=Nr,f.sum=function(e){return e&&e.length?Xc(e,T):0},f.sumBy=function(e,t){return e&&e.length?Xc(e,d(t,2)):0},f.template=function(a,e,t){var c,l,n=f.templateSettings;t&&m(a,e,t)&&(e=Mr),a=p(a),e=Ni({},e,n,Nn);var o=C(t=Ni({},e.imports,n.imports,Nn)),i=Yc(t,o),s=0,n=e.interpolate||pc,u="__p += '",t=$((e.escape||pc).source+"|"+n.source+"|"+(n===Ga?rc:pc).source+"|"+(e.evaluate||pc).source+"|$","g"),r="//# sourceURL="+(R.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++bc+"]")+"\n";if(a.replace(t,function(e,t,n,o,i,r){return n=n||o,u+=a.slice(s,r).replace(fc,el),t&&(c=!0,u+="' +\n__e("+t+") +\n'"),i&&(l=!0,u+="';\n"+i+";\n__p += '"),n&&(u+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),s=r+e.length,e}),u+="';\n",n=R.call(e,"variable")&&e.variable){if(oc.test(n))throw new O("Invalid `variable` option passed into `_.template`")}else u="with (obj) {\n"+u+"\n}\n";if(u=(l?u.replace(Ba,""):u).replace(Ua,"$1").replace(Da,"$1;"),u="function("+(n||"obj")+") {\n"+(n?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(c?", __e = _.escape":"")+(l?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+u+"return __p\n}",(t=hr(function(){return j(o,r+"return "+u).apply(Mr,i)})).source=u,wi(t))throw t;return t},f.times=function(e,t){if((e=q(e))<1||Fr<e)return[];for(var n=Xr,o=L(e,Xr),o=(t=d(t),e-=Xr,Gc(o,t));++n<e;)t(n);return o},f.toFinite=$i,f.toInteger=q,f.toLength=Ri,f.toLower=function(e){return p(e).toLowerCase()},f.toNumber=x,f.toSafeInteger=function(e){return e?et(q(e),-Fr,Fr):0===e?e:0},f.toString=p,f.toUpper=function(e){return p(e).toUpperCase()},f.trim=function(e,t,n){return(e=p(e))&&(n||t===Mr)?Wc(e):e&&(t=s(t))?ln(n=va(e),Kc(n,t=va(t)),Jc(n,t)+1).join(""):e},f.trimEnd=function(e,t,n){return(e=p(e))&&(n||t===Mr)?e.slice(0,il(e)+1):e&&(t=s(t))?ln(n=va(e),0,Jc(n,va(t))+1).join(""):e},f.trimStart=function(e,t,n){return(e=p(e))&&(n||t===Mr)?e.replace(Za,""):e&&(t=s(t))?ln(n=va(e),Kc(n,va(t))).join(""):e},f.truncate=function(e,t){var n,o=30,i="...",t=(w(t)&&(n="separator"in t?t.separator:n,o="length"in t?q(t.length):o,i="omission"in t?s(t.omission):i),(e=p(e)).length);if((t=fa(e)?(r=va(e)).length:t)<=o)return e;if((t=o-ga(i))<1)return i;var r,o=r?ln(r,0,t).join(""):e.slice(0,t);if(n!==Mr)if(r&&(t+=o.length-t),xi(n)){if(e.slice(t).search(n)){var a,c=o;for((n=n.global?n:$(n.source,p(ac.exec(n))+"g")).lastIndex=0;a=n.exec(c);)var l=a.index;o=o.slice(0,l===Mr?t:l)}}else e.indexOf(s(n),t)!=t&&-1<(r=o.lastIndexOf(n))&&(o=o.slice(0,r));return o+i},f.unescape=function(e){return(e=p(e))&&Ha.test(e)?e.replace(Na,rl):e},f.uniqueId=function(e){var t=++Y;return p(e)+t},f.upperCase=mr,f.upperFirst=pr,f.each=Ko,f.eachRight=Jo,f.first=Co,Sr(f,(Br={},dt(f,function(e,t){R.call(f.prototype,t)||(Br[t]=e)}),Br),{chain:!1}),f.VERSION="4.17.21",la(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){f[e].placeholder=f}),la(["drop","take"],function(n,o){v.prototype[n]=function(e){e=e===Mr?1:E(q(e),0);var t=this.__filtered__&&!o?new v(this):this.clone();return t.__filtered__?t.__takeCount__=L(e,t.__takeCount__):t.__views__.push({size:L(e,Xr),type:n+(t.__dir__<0?"Right":"")}),t},v.prototype[n+"Right"]=function(e){return this.reverse()[n](e).reverse()}}),la(["filter","map","takeWhile"],function(e,t){var n=t+1,o=1==n||3==n;v.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:d(e,3),type:n}),t.__filtered__=t.__filtered__||o,t}}),la(["head","last"],function(e,t){var n="take"+(t?"Right":"");v.prototype[e]=function(){return this[n](1).value()[0]}}),la(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");v.prototype[e]=function(){return this.__filtered__?new v(this):this[n](1)}}),v.prototype.compact=function(){return this.filter(T)},v.prototype.find=function(e){return this.filter(e).head()},v.prototype.findLast=function(e){return this.reverse().find(e)},v.prototype.invokeMap=a(function(t,n){return"function"==typeof t?new v(this):this.map(function(e){return bt(e,t,n)})}),v.prototype.reject=function(e){return this.filter(mi(d(e)))},v.prototype.slice=function(e,t){e=q(e);var n=this;return n.__filtered__&&(0<e||t<0)?new v(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==Mr?(t=q(t))<0?n.dropRight(-t):n.take(t-e):n)},v.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},v.prototype.toArray=function(){return this.take(Xr)},dt(v.prototype,function(s,e){var u=/^(?:filter|find|map|reject)|While$/.test(e),d=/^(?:head|last)$/.test(e),m=f[d?"take"+("last"==e?"Right":""):e],p=d||/^find/.test(e);m&&(f.prototype[e]=function(){function e(e){return e=m.apply(f,da([e],o)),d&&c?e[0]:e}var t,n=this.__wrapped__,o=d?[1]:arguments,i=n instanceof v,r=o[0],a=i||N(n),c=(a&&u&&"function"==typeof r&&1!=r.length&&(i=a=!1),this.__chain__),r=!!this.__actions__.length,l=p&&!c,i=i&&!r;return!p&&a?(n=i?n:new v(this),(t=s.apply(n,o)).__actions__.push({func:Xo,args:[e],thisArg:Mr}),new g(t,c)):l&&i?s.apply(this,o):(t=this.thru(e),l?d?t.value()[0]:t.value():t)})}),la(["pop","push","shift","sort","splice","unshift"],function(e){var n=z[e],o=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);f.prototype[e]=function(){var e,t=arguments;return i&&!this.__chain__?(e=this.value(),n.apply(N(e)?e:[],t)):this[o](function(e){return n.apply(N(e)?e:[],t)})}}),dt(v.prototype,function(e,t){var n,o=f[t];o&&(n=o.name+"",R.call(xe,n)||(xe[n]=[]),xe[n].push({name:t,func:o}))}),xe[qn(Mr,2).name]=[{name:"wrapper",func:Mr}],v.prototype.clone=function(){var e=new v(this.__wrapped__);return e.__actions__=I(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=I(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=I(this.__views__),e},v.prototype.reverse=function(){var e;return this.__filtered__?((e=new v(this)).__dir__=-1,e.__filtered__=!0):(e=this.clone()).__dir__*=-1,e},v.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=N(e),o=t<0,i=n?e.length:0,r=function(e,t,n){var o=-1,i=n.length;for(;++o<i;){var r=n[o],a=r.size;switch(r.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=L(t,e+a);break;case"takeRight":e=E(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),a=r.start,c=(r=r.end)-a,l=o?r:a-1,s=this.__iteratees__,u=s.length,d=0,m=L(c,this.__takeCount__);if(!n||!o&&i==c&&m==c)return en(e,this.__actions__);var p=[];e:for(;c--&&d<m;){for(var f=-1,h=e[l+=t];++f<u;){var g=s[f],v=g.iteratee,g=g.type,v=v(h);if(2==g)h=v;else if(!v){if(1==g)continue e;break e}}p[d++]=h}return p},f.prototype.at=Go,f.prototype.chain=function(){return Fo(this)},f.prototype.commit=function(){return new g(this.value(),this.__chain__)},f.prototype.next=function(){this.__values__===Mr&&(this.__values__=Pi(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?Mr:this.__values__[this.__index__++]}},f.prototype.plant=function(e){for(var t,n=this;n instanceof Ue;)var o=Lo(n),i=(o.__index__=0,o.__values__=Mr,t?i.__wrapped__=o:t=o,o),n=n.__wrapped__;return i.__wrapped__=e,t},f.prototype.reverse=function(){var e=this.__wrapped__;return e instanceof v?(e=e,(e=(e=this.__actions__.length?new v(this):e).reverse()).__actions__.push({func:Xo,args:[Oo],thisArg:Mr}),new g(e,this.__chain__)):this.thru(Oo)},f.prototype.toJSON=f.prototype.valueOf=f.prototype.value=function(){return en(this.__wrapped__,this.__actions__)},f.prototype.first=f.prototype.head,ce&&(f.prototype[ce]=function(){return this}),f}();aa._=al,(T=function(){return al}.call(O,j,O,A))!==Mr&&(A.exports=T)}.call(this)}.call(this,j(45),j(77)(e))},285:function(e,t){function n(e){var t=e.parentNode,n="main_search_current_section"===(t=t.dataset.section)?"":"_id";t=t.replace(/main_search_/,"main-search-")+n,document.getElementById(t).value="",e.parentNode.remove(e)}$(document).on("click",".tag-field__items .remove",function(e){this.parent("form");n(this)}),$(document).on("click",".filters_delete_tag",function(e){var t=document.querySelector('form[name="search-form"]');t&&(t.querySelector('input[name="style_id"]').value="")})},286:function(e,t,n){"use strict";n.r(t);var a=n(50),c=n(28);$(document).on("mousedown","section.related-styles *:not(ul.icons):not(header.related-header)",function(e){e.stopPropagation(),3!==e.wich&&EventTracker.send("all","event","detail-view","click","related-styles")}),$(document).on("mousedown","section.related-packs *:not(ul.icons):not(header.related-header)",function(e){e.stopPropagation(),3!==e.wich&&EventTracker.send("all","event","detail-view","click","related-packs")}),$(document).on("mousedown","section.related-tags *:not(ul.icons):not(header.related-header)",function(e){e.stopPropagation(),3!==e.wich&&EventTracker.send("all","event","detail-view","click","related-tags")}),$(document).on("click",".detail_equivalent_icons .link-icon-detail",function(e){if("viewport"==document.querySelector("section[id=detail]").parentNode.id)return window.location.href=""+this.href+this.dataset.src,!1;ga("send","event","Detail-modal","Toggle-icon-style"),e.preventDefault();const o=~~this.dataset.id,i=Math.floor(o/1e3);e=~~this.dataset.selection;const r=~~this.dataset.color;var t=document.querySelector(".detail_equivalent_icons .link-icon-detail.active"),t=(t&&t.classList.remove("active"),this.classList.add("active"),document.querySelectorAll(".gallery .main-icon")),t=([].forEach.call(t,function(e){var t,n=STATIC_URL;1==r?(t="{0}icons/svg/{1}/{2}.svg".format(n,i,o),e.innerHTML='<img src="{0}">'.format(t),getSVG($(e),t),document.querySelector(".svg-version").classList.remove("active")):e.innerHTML='<img src="{0}icons/png/512/{1}/{2}.png">'.format(n,i,o)}),document.querySelector(".customize.active")&&1==this.dataset.color&&document.querySelector(".gallery .svg-version").classList.add("active"),document.querySelector("section.customize ul.color-selector")&&(document.querySelector("section.customize ul.color-selector").classList.toggle("hidden",2==r),document.querySelector("section.customize ul.color-selector").previousElementSibling)&&document.querySelector("section.customize ul.color-selector").previousElementSibling.classList.toggle("hidden",2==r),document.getElementById("download-form"));t.querySelector("#icon_id").value=o,t.querySelector("#colored").value=r,t.querySelector("#selection").value=e,Object(c.e)();t=document.querySelector("h1").querySelector("span:not(.title)");t&&t.parentNode.removeChild(t),a.a.check();const n=APP_URL+this.dataset.pack_slug;[].forEach.call(document.querySelectorAll(".related-packs .related-header a:not(:first-child), #detail-header-more .group-pack a"),function(e){e.href=n})})},287:function(e,t){function n(e){return{r:(e=parseInt(-1<e.indexOf("#")?e.substring(1):e,16))>>16,g:(65280&e)>>8,b:255&e}}function o(e){var n=[e.r.toString(16),e.g.toString(16),e.b.toString(16)];return w.each(n,function(e,t){1==t.length&&(n[e]="0"+t)}),n.join("")}function l(e,t){w(t).data("colpick").fields.eq(4).val(Math.round(e.h)).end().eq(5).val(Math.round(e.s)).end().eq(6).val(Math.round(e.b)).end()}function s(e,t){w(t).data("colpick").selector.css("backgroundColor","#"+P({h:e.h,s:100,b:100})),w(t).data("colpick").selectorIndic.css({left:parseInt(w(t).data("colpick").height*e.s/100,10),top:parseInt(w(t).data("colpick").height*(100-e.b)/100,10)})}function u(e,t){w(t).data("colpick").hue.css("top",parseInt(w(t).data("colpick").height-w(t).data("colpick").height*e.h/360,10))}function d(e,t){w(t).data("colpick").currentColor.css("backgroundColor","#"+P(e))}function m(e,t){w(t).data("colpick").newColor.css("backgroundColor","#"+P(e))}function p(e){w(this).parent().removeClass("colpick_focus")}function f(){w(this).parent().parent().data("colpick").fields.parent().removeClass("colpick_focus"),w(this).parent().addClass("colpick_focus")}function h(e){e.preventDefault?e.preventDefault():e.returnValue=!1;var t=w(this).parent().find("input").focus(),e={el:w(this).parent().addClass("colpick_slider"),max:0<this.parentNode.className.indexOf("_hsb_h")?360:0<this.parentNode.className.indexOf("_hsb")?100:255,y:e.pageY,field:t,val:parseInt(t.val(),10),preview:w(this).parent().parent().data("colpick").livePreview};w(document).mouseup(e,c),w(document).mousemove(e,a)}function g(e){e.preventDefault?e.preventDefault():e.returnValue=!1;var t={cal:w(this).parent(),y:w(this).offset().top},e=(w(document).on("mouseup touchend",t,I),w(document).on("mousemove touchmove",t,L),("touchstart"==e.type?e.originalEvent.changedTouches[0]:e).pageY);return E.apply(t.cal.data("colpick").fields.eq(4).val(parseInt(360*(t.cal.data("colpick").height-(e-t.y))/t.cal.data("colpick").height,10)).get(0),[t.cal.data("colpick").livePreview]),!1}function v(e){e.preventDefault?e.preventDefault():e.returnValue=!1;var t={cal:w(this).parent(),pos:w(this).offset()};return t.preview=t.cal.data("colpick").livePreview,w(document).on("mouseup touchend",t,x),w(document).on("mousemove touchmove",t,q),e=("touchstart"==e.type?(pageX=e.originalEvent.changedTouches[0].pageX,e.originalEvent.changedTouches[0]):(pageX=e.pageX,e)).pageY,E.apply(t.cal.data("colpick").fields.eq(6).val(parseInt(100*(t.cal.data("colpick").height-(e-t.pos.top))/t.cal.data("colpick").height,10)).end().eq(5).val(parseInt(100*(pageX-t.pos.left)/t.cal.data("colpick").height,10)).get(0),[t.preview]),!1}function y(e){var t=w(this).parent(),n=t.data("colpick").color;t.data("colpick").origColor=n,d(n,t.get(0)),t.data("colpick").onSubmit(n,P(n),j(n),t.data("colpick").el)}function _(e){e.stopPropagation(),(e=w("#"+w(this).data("colpickId"))).data("colpick").onBeforeShow.apply(this,[e.get(0)]);var t=(n=w(this).offset()).top+this.offsetHeight,n=n.left,o=(o="CSS1Compat"==document.compatMode,{l:window.pageXOffset||(o?document.documentElement:document.body).scrollLeft,w:window.innerWidth||(o?document.documentElement:document.body).clientWidth}),i=e.width();o.l+o.w<n+i&&(n-=i),e.css({left:n+"px",top:t+"px"}),0!=e.data("colpick").onShow.apply(this,[e.get(0)])&&e.show(),w("html").mousedown({cal:e},C),e.mousedown(function(e){e.stopPropagation()})}function i(e){return{h:Math.min(360,Math.max(0,e.h)),s:Math.min(100,Math.max(0,e.s)),b:Math.min(100,Math.max(0,e.b))}}function b(){var e=w(this).parent(),t=e.data("colpick").origColor;e.data("colpick").color=t,k(t,e.get(0)),S(t,e.get(0)),l(t,e.get(0)),s(t,e.get(0)),u(t,e.get(0)),m(t,e.get(0))}var w,r,k,S,E,a,c,L,I,q,x,C,A,T,O,j,P;w=jQuery,r={showEvent:"click",onShow:function(){},onBeforeShow:function(){},onHide:function(){},onChange:function(){},onSubmit:function(){},colorScheme:"light",color:"3289c7",livePreview:!0,flat:!1,layout:"full",submit:1,submitText:"OK",height:156},k=function(e,t){e=j(e);w(t).data("colpick").fields.eq(1).val(e.r).end().eq(2).val(e.g).end().eq(3).val(e.b).end()},S=function(e,t){w(t).data("colpick").fields.eq(0).val(P(e).toUpperCase())},E=function(e){var t,n,o=w(this).parent().parent();(0<this.parentNode.className.indexOf("_hex")?(o.data("colpick").color=t=T(function(e){var t=6-e.length;if(t>0){for(var n=[],o=0;t>o;o++)n.push("0");n.push(e),e=n.join("")}return e.toUpperCase()}(this.value)),k(t,o.get(0)),l):0<this.parentNode.className.indexOf("_hsb")?(o.data("colpick").color=t=i({h:parseInt(o.data("colpick").fields.eq(4).val(),10),s:parseInt(o.data("colpick").fields.eq(5).val(),10),b:parseInt(o.data("colpick").fields.eq(6).val(),10)}),k(t,o.get(0)),S):(o.data("colpick").color=t=O((n={r:parseInt(o.data("colpick").fields.eq(1).val(),10),g:parseInt(o.data("colpick").fields.eq(2).val(),10),b:parseInt(o.data("colpick").fields.eq(3).val(),10)},{r:Math.min(255,Math.max(0,n.r)),g:Math.min(255,Math.max(0,n.g)),b:Math.min(255,Math.max(0,n.b))})),S(t,o.get(0)),l))(t,o.get(0)),s(t,o.get(0)),u(t,o.get(0)),m(t,o.get(0)),o.data("colpick").onChange.apply(o.parent(),[t,P(t),j(t),o.data("colpick").el,0])},a=function(e){return e.data.field.val(Math.max(0,Math.min(e.data.max,parseInt(e.data.val-e.pageY+e.data.y,10)))),e.data.preview&&E.apply(e.data.field.get(0),[!0]),!1},c=function(e){return E.apply(e.data.field.get(0),[!0]),e.data.el.removeClass("colpick_slider").find("input").focus(),w(document).off("mouseup",c),w(document).off("mousemove",a),!1},L=function(e){var t=("touchmove"==e.type?e.originalEvent.changedTouches[0]:e).pageY;return E.apply(e.data.cal.data("colpick").fields.eq(4).val(parseInt(360*(e.data.cal.data("colpick").height-Math.max(0,Math.min(e.data.cal.data("colpick").height,t-e.data.y)))/e.data.cal.data("colpick").height,10)).get(0),[e.data.preview]),!1},I=function(e){return k(e.data.cal.data("colpick").color,e.data.cal.get(0)),S(e.data.cal.data("colpick").color,e.data.cal.get(0)),w(document).off("mouseup touchend",I),w(document).off("mousemove touchmove",L),!1},q=function(e){var t=("touchmove"==e.type?(pageX=e.originalEvent.changedTouches[0].pageX,e.originalEvent.changedTouches[0]):(pageX=e.pageX,e)).pageY;return E.apply(e.data.cal.data("colpick").fields.eq(6).val(parseInt(100*(e.data.cal.data("colpick").height-Math.max(0,Math.min(e.data.cal.data("colpick").height,t-e.data.pos.top)))/e.data.cal.data("colpick").height,10)).end().eq(5).val(parseInt(100*Math.max(0,Math.min(e.data.cal.data("colpick").height,pageX-e.data.pos.left))/e.data.cal.data("colpick").height,10)).get(0),[e.data.preview]),!1},x=function(e){return k(e.data.cal.data("colpick").color,e.data.cal.get(0)),S(e.data.cal.data("colpick").color,e.data.cal.get(0)),w(document).off("mouseup touchend",x),w(document).off("mousemove touchmove",q),!1},C=function(e){0!=e.data.cal.data("colpick").onHide.apply(this,[e.data.cal.get(0)])&&e.data.cal.hide(),w("html").off("mousedown",C)},A={init:function(c){if("string"==typeof(c=w.extend({},r,c||{})).color)c.color=T(c.color);else if(null!=c.color.r&&null!=c.color.g&&null!=c.color.b)c.color=O(c.color);else{if(null==c.color.h||null==c.color.s||null==c.color.b)return this;c.color=i(c.color)}return this.each(function(){if(!w(this).data("colpickId")){var e=w.extend({},c),t=(e.origColor=c.color,"collorpicker_"+parseInt(1e3*Math.random())),t=(w(this).data("colpickId",t),w('<div class="colpick"><div class="colpick_color"><div class="colpick_color_overlay1"><div class="colpick_color_overlay2"><div class="colpick_selector_outer"><div class="colpick_selector_inner"></div></div></div></div></div><div class="colpick_hue"><div class="colpick_hue_arrs"><div class="colpick_hue_larr"></div><div class="colpick_hue_rarr"></div></div></div><div class="colpick_new_color"></div><div class="colpick_current_color"></div><div class="colpick_hex_field"><div class="colpick_field_letter">#</div><input type="text" maxlength="6" size="6" /></div><div class="colpick_rgb_r colpick_field"><div class="colpick_field_letter">R</div><input type="text" maxlength="3" size="3" /><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_rgb_g colpick_field"><div class="colpick_field_letter">G</div><input type="text" maxlength="3" size="3" /><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_rgb_b colpick_field"><div class="colpick_field_letter">B</div><input type="text" maxlength="3" size="3" /><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_hsb_h colpick_field"><div class="colpick_field_letter">H</div><input type="text" maxlength="3" size="3" /><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_hsb_s colpick_field"><div class="colpick_field_letter">S</div><input type="text" maxlength="3" size="3" /><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_hsb_b colpick_field"><div class="colpick_field_letter">B</div><input type="text" maxlength="3" size="3" /><div class="colpick_field_arrs"><div class="colpick_field_uarr"></div><div class="colpick_field_darr"></div></div></div><div class="colpick_submit"></div></div>').attr("id",t)),n=(t.addClass("colpick_"+e.layout+(e.submit?"":" colpick_"+e.layout+"_ns")),"light"!=e.colorScheme&&t.addClass("colpick_"+e.colorScheme),t.find("div.colpick_submit").html(e.submitText).click(y),e.fields=t.find("input").change(E).blur(p).focus(f),t.find("div.colpick_field_arrs").mousedown(h).end().find("div.colpick_current_color").click(b),e.selector=t.find("div.colpick_color").on("mousedown touchstart",v),e.selectorIndic=e.selector.find("div.colpick_selector_outer"),e.el=this,e.hue=t.find("div.colpick_hue_arrs"),huebar=e.hue.parent(),navigator.userAgent.toLowerCase()),o="Microsoft Internet Explorer"===navigator.appName,n=o?parseFloat(n.match(/msie ([0-9]{1,}[\.0-9]{0,})/)[1]):0,i=["#ff0000","#ff0080","#ff00ff","#8000ff","#0000ff","#0080ff","#00ffff","#00ff80","#00ff00","#80ff00","#ffff00","#ff8000","#ff0000"];if(o&&n<10)for(var r,a=0;a<=11;a++)r=w("<div></div>").attr("style","height:8.333333%; filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr="+i[a]+", endColorstr="+i[a+1]+'); -ms-filter: "progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr='+i[a]+", endColorstr="+i[a+1]+')";'),huebar.append(r);else stopList=i.join(","),huebar.attr("style","background:-webkit-linear-gradient(top,"+stopList+"); background: -o-linear-gradient(top,"+stopList+"); background: -ms-linear-gradient(top,"+stopList+"); background:-moz-linear-gradient(top,"+stopList+"); -webkit-linear-gradient(top,"+stopList+"); background:linear-gradient(to bottom,"+stopList+"); ");t.find("div.colpick_hue").on("mousedown touchstart",g),e.newColor=t.find("div.colpick_new_color"),e.currentColor=t.find("div.colpick_current_color"),t.data("colpick",e),k(e.color,t.get(0)),l(e.color,t.get(0)),S(e.color,t.get(0)),u(e.color,t.get(0)),s(e.color,t.get(0)),d(e.color,t.get(0)),m(e.color,t.get(0)),e.flat?(t.appendTo(this).show(),t.css({position:"relative",display:"block"})):(t.appendTo(document.body),w(this).on(e.showEvent,_),t.css({position:"absolute"}))}})},showPicker:function(){return this.each(function(){w(this).data("colpickId")&&_.apply(this)})},hidePicker:function(){return this.each(function(){w(this).data("colpickId")&&w("#"+w(this).data("colpickId")).hide()})},setColor:function(t,n){if(n=void 0===n?1:n,"string"==typeof t)t=T(t);else if(null!=t.r&&null!=t.g&&null!=t.b)t=O(t);else{if(null==t.h||null==t.s||null==t.b)return this;t=i(t)}return this.each(function(){var e;w(this).data("colpickId")&&((e=w("#"+w(this).data("colpickId"))).data("colpick").color=t,e.data("colpick").origColor=t,k(t,e.get(0)),l(t,e.get(0)),S(t,e.get(0)),u(t,e.get(0)),s(t,e.get(0)),m(t,e.get(0)),e.data("colpick").onChange.apply(e.parent(),[t,P(t),j(t),e.data("colpick").el,1]),n)&&d(t,e.get(0))})}},T=function(e){return O(n(e))},O=function(e){var t={h:0,s:0,b:0},n=Math.min(e.r,e.g,e.b),o=Math.max(e.r,e.g,e.b),n=o-n;return t.b=o,t.s=0!=o?255*n/o:0,0!=t.s?e.r==o?t.h=(e.g-e.b)/n:e.g==o?t.h=2+(e.b-e.r)/n:t.h=4+(e.r-e.g)/n:t.h=-1,t.h*=60,t.h<0&&(t.h+=360),t.s*=100/255,t.b*=100/255,t},j=function(e){var t,n={},o=e.h,i=255*e.s/100,e=255*e.b/100;return 0==i?n.r=n.g=n.b=e:(e=o%60*((t=e)-(i=(255-i)*e/255))/60,(o=360==o?0:o)<60?(n.r=t,n.b=i,n.g=i+e):o<120?(n.g=t,n.b=i,n.r=t-e):o<180?(n.g=t,n.r=i,n.b=i+e):o<240?(n.b=t,n.r=i,n.g=t-e):o<300?(n.b=t,n.g=i,n.r=i+e):o<360?(n.r=t,n.g=i,n.b=t-e):(n.r=0,n.g=0,n.b=0)),{r:Math.round(n.r),g:Math.round(n.g),b:Math.round(n.b)}},P=function(e){return o(j(e))},w.fn.extend({colpick:A.init,colpickHide:A.hidePicker,colpickShow:A.showPicker,colpickSetColor:A.setColor}),w.extend({colpick:{rgbToHex:o,rgbToHsb:O,hsbToHex:P,hsbToRgb:j,hexToHsb:T,hexToRgb:n}})},30:function(e,t,n){"use strict";n.d(t,"a",function(){return l});n(209);var f=n(0),h=n(18),o=n(43),a=n(50),c=n(28),i=n(1),r=n(17),l=($(function(){function e(){var e=Object(f.c)("#detail-overlay");new MutationObserver(function(e){e[0].target.classList.contains("ready")&&setTimeout(()=>{var e=Object(f.c)(".detail__icon__inner");let t=Object(f.c)("#detail-prev-mobile"),n=Object(f.c)("#detail-next-mobile");e=new Hammer(e);e.get("swipe").set({direction:Hammer.DIRECTION_ALL}),e.on("swipeleft swiperight",function(e){"swipeleft"!==e.type||n.classList.contains("hidden")?"swiperight"!==e.type||t.classList.contains("hidden")||l.goPrev():l.goNext()})},100)}).observe(e,{attributes:!0})}"IE"!=Object(i.f)()&&($("#detail-overlay").on("click",function(e){e.target.parentNode.classList.contains("loading")&&(Object(o.e)(),history.go(-l.viewedIcons))}),$(window).on("load",function(){document.getElementById("detail-close").classList.remove("hide"),$("#detail-close").on("click",function(e){e.preventDefault(),f.e.view.setView(document.body.dataset.section||""),Object(o.e)(),history.go(-l.viewedIcons),Object(r.store_url)(l.prev_url)})}),$(window).on("load",function(){$(document).on("click","#detail-close-mobile, #detail-overlay #detail-content",function(e){e.target===this&&(e.stopPropagation(),e.preventDefault(),f.e.view.setView(document.body.dataset.section||""),Object(o.e)(),history.go(-l.viewedIcons),Object(r.store_url)(l.prev_url))})}),$(document).on("click","#detail-overlay #detail-prev",function(e){e.preventDefault(),l.goPrev()}),$(document).on("click","#detail-prev-mobile",function(e){e.preventDefault(),l.goPrev()}),$(document).on("click","#detail-overlay #detail-next",function(e){e.preventDefault(),l.goNext()}),$(document).on("click","#detail-next-mobile",function(e){e.preventDefault(),l.goNext()}),$(document).on("click",".collectionIcon .link-icon-detail",function(e){e.preventDefault(),e.stopPropagation(),document.location=this.href}),$(document).on("click",".link-icon-detail",function(t){const n=t.target.closest("li.icon--item");if(f.e.Resource.resource&&f.e.Resource.resource.type&&f.e.Resource.setResourceConfig(f.e.Resource.resource.type),!document.querySelector("#detail.loaded")){t.preventDefault();var o=this.dataset.id;l.id||(l.prev_url=document.location.href,l.saveOGData());let e=this.href||"";var i=""+e+this.dataset.src,i=new URLSearchParams(new URL(i).search),r=i.get("origin");i.get("related_id")||i.append("related_id",o),r||(-1!=location.pathname.indexOf(messages.url.search)&&(-1!=location.href.indexOf("style_id")?i.append("origin","style"):-1!=location.pathname.indexOf("/style/")?i.append("origin","style-search"):i.append("origin","search")),-1!=location.pathname.indexOf(messages.url.free_icons)&&i.append("origin","tag"),-1!=location.pathname.indexOf(messages.url.packs)&&i.append("origin","pack")),i.get("word")&&i.delete("word"),e=""+e+(-1!=e.indexOf("?")?"&":"?")+i.toString(),o&&e&&((r=document.getElementById("detail-overlay")).classList.remove("hidden"),r.classList.add("loading"),(i=document.getElementById("detail-spinner"))&&i.classList.remove("hidden"),l.id&&l.hideNavigation(),l.id=o,r=!!t.currentTarget.dataset.edit,l.replaceState({...history.state,openModal:!0},document.title,document.location.url),l.pushState({page:"icon"},document.title,e),l.viewedIcons++,Detail.getModalDetail(n,r).then(function(){a.a.check(),"function"==typeof c.f&&Object(c.f)();var e=l.getNext(l.id),e=(l.checkNavigation("next",e.url),l.getPrev(l.id));l.checkNavigation("prev",e.url),l.updateOGData(n.dataset.premium,n.dataset.icon_type),$("#detail-wrapper").animate({scrollTop:0},"slow"),Detail.firstView||(l.rendered=!0)}))}}),window.innerWidth<=640)&&e()}),{id:0,navigation:1,prev_url:document.location.href,viewedIcons:0,og_keys:["twitter:title","twitter:description","twitter:image","og:title","og:url","og:description","og:image","pinterest:title","pinterest:description","pinterest:image"],og_data:{},rendered:!1,checkNavigation:function(e,t){"next"==e&&(document.getElementById("detail-next").classList.toggle("hidden",!t),document.querySelector("#detail-next-mobile").classList.toggle("hidden",!t)),"prev"==e&&(document.getElementById("detail-prev").classList.toggle("hidden",!t),document.querySelector("#detail-prev-mobile").classList.toggle("hidden",!t))},hideNavigation:function(){document.getElementById("detail-next").classList.add("hidden"),document.getElementById("detail-prev").classList.add("hidden");var e=document.querySelector("#detail-next-mobile"),t=document.querySelector("#detail-prev-mobile");e&&e.classList.add("hidden"),t&&t.classList.add("hidden"),this.navigation=0},showNavigation:function(){document.getElementById("detail-next").classList.remove("hidden"),document.getElementById("detail-prev").classList.remove("hidden"),document.querySelector("#detail-next-mobile").classList.remove("hidden"),document.querySelector("#detail-prev-mobile").classList.remove("hidden"),this.navigation=1},getPrev:function(t){if(t){var n=document.querySelector('.search-result li[data-id="'+t+'"]');if(!n)return{id:null,url:null};let e=n.previousElementSibling;if(e=e&&(e.classList.contains("icon--item")?e:e.previousElementSibling)){var n=e.dataset.id,o=e.querySelector("a");if(o&&t)return{id:n,url:o.href}}}return{id:null,url:null}},getPrevElement:function(t){if(t){t=document.querySelector('.search-result li[data-id="'+t+'"]');if(!t)return null;let e=t.previousElementSibling;if((e=e&&(e.classList.contains("icon--item")?e:e.previousElementSibling))&&e.dataset.id)return e}return null},getNext:function(t){if(t){var n=document.querySelector('.search-result li[data-id="'+t+'"]');if(!n)return{id:null,url:null};let e=n.nextElementSibling;if(e=e&&(e.classList.contains("icon--item")?e:e.nextElementSibling)){var n=e.dataset.id,o=e.querySelector("a");if(o&&t)return{id:n,url:o.href}}}return{id:null,url:null}},getNextElement:function(t){if(t){t=document.querySelector('.search-result li[data-id="'+t+'"]');if(!t)return null;let e=t.nextElementSibling;if((e=e&&(e.classList.contains("icon--item")?e:e.nextElementSibling))&&e.dataset.id)return e}return null},goNext:function(){ga("send","event","Detail View","Move","Next"),this.goTo("next")},goPrev:function(){ga("send","event","Detail View","Move","Previous"),this.goTo("prev")},goTo:function(t){var n="prev"==t?this.getPrevElement(this.id):this.getNextElement(this.id),e=(f.e.Editor&&f.e.Editor.close(),n.querySelector(".link-icon-detail"));l.pushState({page:"icon"},document.title,e.href+(e.dataset.src||"")),f.e.Resource.setResourceFromElement(n),f.e.Resource.resource&&f.e.Resource.resource.type&&f.e.Resource.setResourceConfig(f.e.Resource.resource.type),Detail.getModalDetail(n).then(function(){a.a.check(),l.id=n.dataset.id,l.viewedIcons++;var e="prev"==t?l.getPrevElement(l.id):l.getNextElement(l.id);("next"==t?(document.getElementById("detail-next").classList.toggle("hidden",null==e),document.getElementById("detail-prev").classList.toggle("hidden",null==!e),document.querySelector("#detail-next-mobile").classList.toggle("hidden",null==e),document.querySelector("#detail-prev-mobile")):(document.getElementById("detail-prev").classList.toggle("hidden",null==e),document.getElementById("detail-next").classList.toggle("hidden",null==!e),document.querySelector("#detail-prev-mobile").classList.toggle("hidden",null==e),document.querySelector("#detail-next-mobile"))).classList.toggle("hidden",null==!e),l.updateOGData(n.dataset.premium,n.dataset.icon_type)})},go:function(e){if(e)if(document.querySelector("#detail.loaded"))document.location.href=e;else{var t=this.getId(e);if(t)return this.prev_url||(this.prev_url=document.location.href),this.pushState({page:"icon"},document.title,e),this.id=t,void this.getDetail(e)}this.close()},close:function(){document.querySelector("body").classList.remove("unscrollable");var e=document.getElementById("detail-overlay");e.classList.remove("loading","ready"),e.classList.remove("hidden"),e.querySelector(".content").innerHTML="",this.restoreOGData(),this.viewedIcons=0,this.id=0},getId:function(e){e=document.querySelector('a[href="'+e+'"]');return e?parseInt(e.parentNode.parentNode.dataset.id,10):null},getElementByUrl:function(e){e=document.querySelector('.icon--holder a[href="'+e+'"]');return e?e.closest("li.icon--item"):null},pushState:function(e,t,n){var o=new CustomEvent("pushstate",{state:e,title:t,url:n});("object"==typeof window.history?window.history:History).pushState(e,t,n),window.dispatchEvent(o)},replaceState:function(e,t,n){("object"==typeof window.history?window.history:History).replaceState(e,t,n)},back:function(e){"object"==typeof window.history?e?window.history.go(e):window.history.back():History.back()},saveOGData:function(){this.og_data.title=document.title;var n=this.og_data;this.og_keys.forEach(function(e){var t=-1!=e.indexOf("twitter")||-1!=e.indexOf("pinterest")?"name":"property";null!==document.querySelector("meta["+t+'="'+e+'"]')&&(n[e]=document.querySelector("meta["+t+'="'+e+'"]').content)}),this.og_data=n},restoreOGData:function(){for(var e in this.og_data){var t,n=this.og_data[e];"title"==e?document.title=n:(t=-1!==e.indexOf("twitter")||-1!=e.indexOf("pinterest")?"name":"property",null!==document.querySelector("meta["+t+'="'+e+'"]')&&(document.querySelector("meta["+t+'="'+e+'"]').content=n))}document.querySelector('meta[property="og:image:alt"]')&&("pack-detail"===f.e.view.section?document.querySelector('meta[property="og:image:alt"]').content=document.querySelector('meta[property="og:title"]').content:document.querySelector('meta[property="og:image:alt"]').remove())},updateOGData:function(e,s){let u=messages.og.title,d=messages.og.desc;"sticker"===s&&(u=u.replace("icons","stickers"),d=d.replace("vector icon","sticker"));var e=1==e,m=e?messages.common.free+" ":"premium ",p=e?"premium ":messages.common.free+" ",e=(document.querySelector("#download-form #team").value,parseInt(document.querySelector("#download-form #icon_id").value,10)),t=(this.og_keys.forEach(function(n){var e=n.split(":"),t=n.split(":")[1],o="twitter"==e[0]||"pinterest"==e[0]?"name":"property";if(null!==document.querySelector("meta["+o+'="'+n+'"]'))switch(t){case"description":if(document.querySelector("meta["+o+'="'+n+'"]').content=d.replace(new RegExp("("+m+")","gi"),p),"og"===e[0]||"twitter"===e[0]){var i=document.querySelectorAll(".detail-footer .tags .tag--related"),r=[];let t=i.length;3<t&&(t=3);for(let e=0;e<t;e++){var a=i[e].innerHTML.replace(/ /g,"");r.push("#"+a)}var c=r.join(" ");let e="";var l=f.e.Resource.resource.name;"standard"===s&&(e=`${messages.ogDescriptions.standard.replace("%s",f.e.Resource.resource.category.name)} #flaticon #${messages.detail.icon} `+c),"sticker"===s&&(e=`${messages.ogDescriptions.sticker.replace("%s",l).replace("%s",f.e.Resource.resource.category.name)} #flaticon #${messages.detail.sticker} `+c),"uicon"===s&&(e=messages.ogDescriptions.uicon.replace("%s",l)+" #flaticon #uicon "+c),"animated-icon"===s&&(e=`${messages.ogDescriptions.animatedIcon.replace("%s",l)} #flaticon #${messages.detail.animatedicon} `+c),document.querySelector("meta["+o+'="'+n+'"]').content=e}break;case"title":if(f.e.Resource.resource.type===h.b.animatedIcon)u=messages.og.animatedIconTitle,document.querySelector("meta["+o+'="'+n+'"]').content=u.replace("{0}",f.e.Resource.resource.name).replace("{1}",f.e.Resource.resource.keyword.name);else{l=document.querySelector(".detail__sidebar h1").innerHTML;let e="";document.querySelector(".author .username")&&(e=document.querySelector(".author .username").innerHTML),document.querySelector("meta["+o+'="'+n+'"]').content=u.format(l,e).replace(new RegExp("("+m+")","gi"),p)}break;case"url":document.querySelector("meta["+o+'="'+n+'"]').content=document.location.href}}),document.querySelector('meta[name="keywords"]')),t=(t&&(t.content=t.content.replace(new RegExp("("+m+")","gi"),p)),document.querySelector(".icon-png-container").dataset.png);document.querySelector('meta[property="og:image"]').content=t,document.querySelector('meta[name="twitter:image"]').content=t;let n=document.querySelector('meta[property="og:image:alt"]');n&&"animated-icon"!==f.e.Resource.resource.type?n.content=document.querySelector(`.detail__icon__inner div[data-id="${e}"] img`).alt:((n=document.createElement("meta")).setAttribute("property","og:image:alt"),n.content="animated-icon"!==f.e.Resource.resource.type?document.querySelector(`a[data-id="${e}"] img`).alt:"",document.querySelector('meta[property="og:image"]').insertAdjacentElement("afterEnd",n)),null!==document.querySelector('meta[name="pinterest:image"]')&&(document.querySelector('meta[name="pinterest:image"]').content=t)}})},400:function(e,t,n){"use strict";n.r(t);var o=n(6),i=n(5),t=n(2),r=n.n(t),a=n(32),c=function(){var e=Object(i.a)(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=(null==(t=document.querySelector('.main_search_bar input[name="word"]'))?void 0:t.value)||"icon",e.next=3,Object(a.a)({placement:"popup",country:USER_COUNTRY_CODE||"us",projectId:"www.flaticon.com",userId:o.a.getItem("_ga")||"",components:"popup",redirectAndBase64:"//www.flaticon.com/edge/redirect?url=",categoryType:"icon",params:{words:t+" icon",language:LANGUAGE_SHORT,orientation:"square",type:["vector"],image_type:"vector",page:document.getElementById("pagination-page")?parseInt(null==(t=document.getElementById("pagination-page"))?void 0:t.value):1},locale:USER_COUNTRY_CODE||"us",type:"vector"});case 3:return t=e.sent,e.abrupt("return",t);case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(i.a)(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=(null==(t=document.querySelector('.main_search_bar input[name="word"]'))?void 0:t.value)||"icon",e.next=3,Object(a.c)({placement:"popup",country:USER_COUNTRY_CODE||"us",projectId:"www.flaticon.com",userId:o.a.getItem("_ga")||"",components:"popup",redirectAndBase64:"//www.flaticon.com/edge/redirect?url=",categoryType:"vector",params:{query:t,language:LANGUAGE_SHORT,image_type:"vector"},locale:USER_COUNTRY_CODE||"us"});case 3:return t=e.sent,e.abrupt("return",t);case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),s=function(){var e=Object(i.a)(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=(null==(t=document.querySelector('.main_search_bar input[name="word"]'))?void 0:t.value)||"icon",e.next=3,Object(a.b)({placement:"popup",country:USER_COUNTRY_CODE||"us",projectId:"www.flaticon.com",userId:o.a.getItem("_ga")||"",components:"popup",redirectAndBase64:"//www.flaticon.com/edge/redirect?url=",categoryType:"icon",params:{phrase:t+" icon",language:LANGUAGE_SHORT},locale:USER_COUNTRY_CODE||"us",type:"vector"});case 3:return t=e.sent,e.abrupt("return",t);case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();function u(){window.pu=function(e){var t=$(window).width()-200,n=$(window).height()-50;let o="toolbar=0,statusbar=1,resizable=1,scrollbars=0,menubar=0,location=1,directories=0";-1!=navigator.userAgent.indexOf("Chrome")&&(o="scrollbar=yes");n=window.open("about:blank","",o+",height="+n+",width="+t);return-1!=navigator.userAgent.indexOf("rv:2.")?(n.puPop=function(e){-1!=navigator.userAgent.indexOf("rv:2.")&&this.window.open("about:blank").close(),this.document.location.href=e},n.puPop(e)):n.document.location.href=e,setTimeout(window.focus,200),window.focus(),n?(n.moveTo(window.screenX+2,window.screenY+2),n.blur(),self.focus()):(done_pu=null,ifSP2=!1,"undefined"==typeof pu_window&&(pu_window=!1),window.SymRealWinOpen&&(open=SymRealWinOpen),window.NS_ActualOpen&&(open=NS_ActualOpen),(ifSP2=-1!=navigator.userAgent.indexOf("SV1"))?(window.Event&&document.captureEvents(Event.CLICK),document.onclick=do_clicked_pu):do_pu(),self.focus(),do_clicked_pu()),this},gr.sponsor={base_url:SPONSOR_BASE_URL,popup:{cookie_name:"launcher_popup",url:"undefined"!=typeof pu_url?pu_url:"",launch:function(e){if(!(o.a.getItem(gr.sponsor.popup.cookie_name)||isMobile||"standard"!=RESOURCE_TYPE||window.FeatureFlag.isEnabled("disable_affiliate_by_country")||(window.FeatureFlag.isEnabled("sponsor_istock")&&-1==["RU","UA","BY","CA","US","AD","AL","AT","AU","AX","BA","BE","BG","CH","CY","CZ","DE","DK","EE","ES","FI","FK","FO","FR","GB","GG","GI","GL","GR","HR","HU","IE","IL","IM","IS","IT","JE","JP","KR","LI","LT","LU","LV","MC","ME","MT","NL","NO","PL","PT","RO","RS","SE","SI","SK","SM","XK"].indexOf(USER_COUNTRY_CODE)&&s().then(e=>{if(!e)return!1;pu(e.url),e=e.trackerClickCustom,(new Image).src=BASE_URL+"_ga?"+e+"&r="+(new Date).getTime();e=new Date;e.setHours(e.getHours()+12),document.cookie=`${gr.sponsor.popup.cookie_name}=1;expires=${e.toUTCString()};domain=${location.hostname};path=/`}),window.FeatureFlag.isEnabled("sponsor_shutterstock")&&-1==["RU","UA","BY","CA","US","AD","AL","AT","AU","AX","BA","BE","BG","CH","CY","CZ","DE","DK","EE","ES","FI","FK","FO","FR","GB","GG","GI","GL","GR","HR","HU","IE","IL","IM","IS","IT","JE","JP","KR","LI","LT","LU","LV","MC","ME","MT","NL","NO","PL","PT","RO","RS","SE","SI","SK","SM","XK"].indexOf(USER_COUNTRY_CODE)&&l().then(e=>{if(!e)return!1;pu(e.url),e=e.trackerClickCustom,(new Image).src=BASE_URL+"_ga?"+e+"&r="+(new Date).getTime();e=new Date;e.setHours(e.getHours()+12),document.cookie=`${gr.sponsor.popup.cookie_name}=1;expires=${e.toUTCString()};domain=${location.hostname};path=/`}),window.FeatureFlag.isEnabled("sponsor_shutterstock"))||window.FeatureFlag.isEnabled("sponsor_istock")||-1!=["RU","UA","BY","CA","US","AD","AL","AT","AU","AX","BA","BE","BG","CH","CY","CZ","DE","DK","EE","ES","FI","FK","FO","FR","GB","GG","GI","GL","GR","HR","HU","IE","IL","IM","IS","IT","JE","JP","KR","LI","LT","LU","LV","MC","ME","MT","NL","NO","PL","PT","RO","RS","SE","SI","SK","SM","XK"].indexOf(USER_COUNTRY_CODE))){if("1"==gr.auth.me.premium)return!1;c().then(e=>{if(!e)return!1;pu(e.url),e=e.trackerClickCustom,(new Image).src=BASE_URL+"_ga?"+e+"&r="+(new Date).getTime();e=new Date;e.setHours(e.getHours()+12),document.cookie=`${gr.sponsor.popup.cookie_name}=1;expires=${e.toUTCString()};domain=${location.hostname};path=/`})}}},coupon:{cookie_name:"sponsor_coupon",coupon_url:"undefined"!=typeof SPONSOR_BASE_URL&&"undefined"!=typeof LANGUAGE?SPONSOR_BASE_URL+"coupons/popup?lang="+LANGUAGE+"&k="+(new Date).toISOString().substr(0,10):"http://ads.freepik.com/coupons/popup?lang=&k="+(new Date).toISOString().substr(0,10),launch:function(t){if("undefined"!=typeof disallow_coupon)return!1;$.get(gr.sponsor.coupon.coupon_url,function(e){$("#footer").after(e),EventTracker.printGA({type:"imp",section:"stockbanner"}),"function"==typeof t&&t()})}},get:function(e){if(void 0===(e=void 0===e?{}:e).container)return!1;gr.request.get(gr.sponsor.base_url+"banner/ajax_search",e)}}}window.addEventListener("userSessionLoaded",()=>{u()}),window.gr&&u()},402:function(e,t,n){"use strict";n.r(t);var t={},o=(n.r(t),n.d(t,"fbpopup",function(){return m}),n.d(t,"pinpopup",function(){return p}),n.d(t,"glpopup",function(){return f}),n.d(t,"tweet",function(){return h}),n(0)),i=(n(15),n(8),n(17));function r(e){var t,n;for(n in"function"==typeof Collection&&Collection.init(),c(e),e.status?localStorage.fi_user=JSON.stringify(e):(t=document.querySelectorAll(".btn-download-pack"),[].forEach.call(t,function(e){e.disabled=!0,e.removeAttribute("data-pack")})),clearTimeout(""),UserSession.userInfo.session.id=~~UserSession.userInfo.session.id,UserSession.userInfo.session.premium=~~UserSession.userInfo.session.premium,UserSession.userInfo.session.premium&&notify.addCustom({id:"cc_will_expire",priority:"5",showPremium:!0,expires:function(){return new Date((new Date).getTime()+36e5)},closeCallback:function(e){var t=document.getElementById("user-alert-container");t&&(t=t.querySelector("button"))&&t.addEventListener("click",e)},showCallback:function(){return 1==e.cc_will_expire},callback:function(){a(e.cc_will_expire)}}),UserSession.userInfo.session)if(UserSession.userInfo.session.hasOwnProperty(n)){if(!(Object.defineProperty instanceof Function))return!1;Object.defineProperty(UserSession.userInfo.session,n,{value:UserSession.userInfo.session[n],writable:!1,configurable:!1,enumerable:!1})}"object"==typeof notify&&""==URL_CAMPAIGN&&notify.printQueue()}function a(e){var t;e&&(e="string"==typeof messages.common.cc_exp_title?messages.common.cc_exp_title:"Attention!",t="string"==typeof messages.common.cc_exp_desc?messages.common.cc_exp_desc:"Your credit card is about to expire, please update your credit card and continue with your premium plan","undefined"!=typeof UserAlerts)&&UserAlerts.warning(e,t,!0)}function c(e){var t=e.status?e.premium?"premium":"registered":"guest";ga("set","dimension1",t),e.id&&ga("set","userId",e.id)}window.addEventListener("userSessionLoaded",()=>{var e=document.getElementById("logout_link");e&&e.addEventListener("click",function(e){e.preventDefault()})});var l=n(28),s=n(1),u=n(67),n=n(61);function d(){document.querySelector("meta[property='og:url']");var e=document.querySelector("meta[property='og:image']"),t=document.querySelector("meta[name='twitter:title']"),n=document.querySelector("meta[property='og:description']"),o=document.location.search||"";return{url:document.location.protocol+"//"+document.location.host+document.location.pathname+o,image:e?e.content:"",title:t?t.content:document.title,desc:n?n.content:document.title,pathname:window.location.pathname}}function m(e){var t="http://www.facebook.com/sharer.php?u="+(e=void 0===e?d():e).url;window.open(t,"fbshare","height=380,width=660,resizable=0,toolbar=0,menubar=0,status=0,location=0,scrollbars=0"),ga("send","event","Social","Facebook",e.pathname)}function p(e){var t="http://pinterest.com/pin/create/button/?url="+(e=void 0===e?d():e).url+"&description="+e.title+"&media="+e.image;window.open(t,"pinshare","height=270,width=630,resizable=0,toolbar=0,menubar=0,status=0,location=0,scrollbars=0"),ga("send","event","Social","Pinterest",e.pathname)}function f(e){var t="https://plus.google.com/share?url="+(e=void 0===e?d():e).url;window.open(t,"glshare","height=270,width=630,resizable=0,toolbar=0,menubar=0,status=0,location=0,scrollbars=0"),ga("send","event","Social","Google+",e.pathname)}function h(e,t){e.hasOwnProperty("preventDefault")&&e.preventDefault();e="http://twitter.com/share?url="+(t=void 0===t?d():t).url+"&text="+t.title+"&";window.open(e,"Flaticon Twitter Share","height=450,width=550,top="+($(window).height()/2-225)+",left="+$(window).width()/2+",toolbar=0,location=0,menubar=0,directories=0,scrollbars=0"),ga("send","event","Social","Twitter",t.pathname)}window.fbpopup=m,window.pinpopup=p,window.tweet=h,o.e.localStorageDB=function(e,t){var n="fi_"+(e=e||"0"),o=!1,p=null;try{var i=t==sessionStorage?sessionStorage:localStorage}catch(e){i=t}function r(e){return!!p.tables[e]}function c(e){r(e)||g("The table '"+e+"' does not exist")}function s(e,t,n){if(p.tables[e].fields=p.tables[e].fields.concat(t),void 0!==n)for(var o in p.data[e])if(p.data[e].hasOwnProperty(o))for(var i in t)p.data[e][o][t[i]]="object"==typeof n?n[t[i]]:n}function a(e,t){for(var n=Object.keys(p.data[e]),o=1;o<n.length+1;o++)if(n[o-1]!=o){t.ID=o;break}return t.ID||(t.ID=p.tables[e].auto_increment,p.tables[e].auto_increment++),(p.data[e][t.ID]=t).ID}function l(e,t,n,o,i,r){for(var a,c=[],l=0;l<t.length;l++)a=t[l],a=p.data[e][a],c.push(v(a));if(i&&i instanceof Array)for(l=0;l<i.length;l++)c.sort(function(n,o){return function(e,t){e="string"==typeof e[n]?e[n].toLowerCase():e[n],t="string"==typeof t[n]?t[n].toLowerCase():t[n];return"DESC"===o?e==t?0:e<t?1:-1:e==t?0:t<e?1:-1}}(i[l][0],1<i[l].length?i[l][1]:null));if(r&&r instanceof Array){for(var s=0;s<r.length;s++)for(var u={},d=r[s],l=0;l<c.length;l++)void 0!==c[l]&&(c[l].hasOwnProperty(d)&&u.hasOwnProperty(c[l][d])?delete c[l]:u[c[l][d]]=1);for(var m=[],l=0;l<c.length;l++)void 0!==c[l]&&m.push(c[l]);c=m}return o=o&&"number"==typeof o?o:null,(n=n&&"number"==typeof n?n:null)&&o?c=c.slice(n,n+o):n?c=c.slice(n):o&&(c=c.slice(n,o)),c}function u(e,t){var n,o=[],i=!1,r=null;for(n in p.data[e])if(p.data[e].hasOwnProperty(n)){for(var a in r=p.data[e][n],i=!0,t)if(t.hasOwnProperty(a))if("string"==typeof t[a]){if(null===r[a]||r[a].toString().toLowerCase()!=t[a].toString().toLowerCase()){i=!1;break}}else if(r[a]!=t[a]){i=!1;break}i&&o.push(n)}return o}function d(e,t){var n,o=[];for(n in p.data[e])p.data[e].hasOwnProperty(n)&&1==t(v(p.data[e][n]))&&o.push(n);return o}function m(e){var t,n=[];for(t in p.data[e])p.data[e].hasOwnProperty(t)&&n.push(t);return n}function f(e,t,n){for(var o=0,i=0;i<t.length;i++){var r=t[i],a=n(v(p.data[e][r]));if(a){delete a.ID;var c,l=p.data[e][r];for(c in a)a.hasOwnProperty(c)&&(l[c]=a[c]);p.data[e][r]=_(e,l),o++}}return o}function h(){try{return i.setItem(n,JSON.stringify(p)),!0}catch(e){return!1}}function g(e){throw new Error(e)}function v(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function y(e){return!e.toString().match(/[^a-z_0-9]/gi)}function _(e,t){for(var n,o={},i=0;i<p.tables[e].fields.length;i++)void 0!==t[n=p.tables[e].fields[i]]&&(o[n]=t[n]);return o}function b(e,t){for(var n,o={},i=0;i<p.tables[e].fields.length;i++)o[n=p.tables[e].fields[i]]=null===t[n]||void 0===t[n]?null:t[n];return o}return(p=(p=i[n])&&JSON.parse(p))&&p.tables&&p.data||(y(e)?(p={tables:{},data:{}},h(),o=!0):g("The name '"+e+"' contains invalid characters")),{commit:h,isNew:function(){return o},drop:function(){i.hasOwnProperty(n)&&delete i[n],p=null},renameTable:function(e,t){if(e==t)throw"Same table name choosen";if(!p.data.hasOwnProperty(e)&&!p.tables.hasOwnProperty(e))throw"The table doesn't exists on database";if(p.data.hasOwnProperty(t)||p.tables.hasOwnProperty(t))throw"New table name already exists on database";return p.data[t]=p.data[e],p.tables[t]=p.tables[e],delete p.data[e],delete p.tables[e],i.setItem(n,JSON.stringify(p)),!0},getDB:function(){return p},serialize:function(){return JSON.stringify(p)},tableExists:r,tableFields:function(e){return p.tables[e].fields},tableCount:function(){var e,t=0;for(e in p.tables)p.tables.hasOwnProperty(e)&&t++;return t},showTables:function(){var e,t=[];for(e in p.tables)p.tables.hasOwnProperty(e)&&t.push(e);return t},columnExists:function(e,t){var n,o=t,i=!1,r=p.tables[e].fields;for(n in r)if(r[n]==o){i=!0;break}return i},createTable:function(e,t){var n,o,i=!1;if(y(e=e||0))if(this.tableExists(e))g("The table name '"+e+"' already exists.");else{for(var r=!0,a=0;a<t.length;a++)if(!y(t[a])){r=!1;break}if(r){for(var c,l={},a=0;a<t.length;a++)l[t[a]]=!0;for(c in delete l.ID,t=["ID"],l)l.hasOwnProperty(c)&&t.push(c);n=e,o=t,p.tables[n]={fields:o,auto_increment:1},p.data[n]={},i=!0}else g("One or more field names in the table definition contains invalid characters")}else g("The database name '"+e+"' contains invalid characters.");return i},createTableWithData:function(e,t){("object"!=typeof t||!t.length||t.length<1)&&g("Data supplied isn't in object form. Example: [{k:v,k:v},{k:v,k:v} ..]");var n=Object.keys(t[0]);if(this.createTable(e,n)){this.commit();for(var o=0;o<t.length;o++)a(e,t[o])||g("Failed to insert record: ["+JSON.stringify(t[o])+"]");this.commit()}return!0},dropTable:function(e){c(e),e=e,delete p.tables[e],delete p.data[e],h()},truncate:function(e){c(e),e=e,p.tables[e].auto_increment=1,p.data[e]={},h()},alterTable:function(e,t,n){var o,i=!1;if(y(e))if("object"==typeof t){for(var r=!0,a=0;a<t.length;a++)if(!y(t[a])){r=!1;break}if(r){for(var c,l={},a=0;a<t.length;a++)l[t[a]]=!0;for(c in delete l.ID,t=[],l)l.hasOwnProperty(c)&&t.push(c);s(e,t,n),i=!0}else g("One or more field names in the table definition contains invalid characters")}else"string"==typeof t&&(y(t)?((o=[]).push(t),s(e,o,n),i=!0):g("One or more field names in the table definition contains invalid characters"));else g("The database name '"+e+"' contains invalid characters");return i},rowCount:function(e){c(e);var t,n=e,o=0;for(t in p.data[n])p.data[n].hasOwnProperty(t)&&o++;return o},insert:function(e,t){return c(e),a(e,b(e,t))},insertOrUpdate:function(e,t,n){c(e);var o=[];if(t?"object"==typeof t?o=u(e,_(e,t)):"function"==typeof t&&(o=d(e,t)):o=m(e),0==o.length)return a(e,b(e,n));for(var i=[],r=0;r<o.length;r++)f(e,o,function(e){return i.push(e.ID),n});return i},update:function(e,t,n){c(e);var o=[];return t?"object"==typeof t?o=u(e,_(e,t)):"function"==typeof t&&(o=d(e,t)):o=m(e),f(e,o,n)},query:function(e,t,n,o,i,r){c(e);var a=[];return t?"object"==typeof t?a=u(e,_(e,t)):"function"==typeof t&&(a=d(e,t)):a=m(e),l(e,a,o,n,i,r)},queryAll:function(e,t){return t?this.query(e,t.hasOwnProperty("query")?t.query:null,t.hasOwnProperty("limit")?t.limit:null,t.hasOwnProperty("start")?t.start:null,t.hasOwnProperty("sort")?t.sort:null,t.hasOwnProperty("distinct")?t.distinct:null):this.query(e)},deleteRows:function(e,t){c(e);for(var n=[],o=(t?"object"==typeof t?n=u(e,_(e,t)):"function"==typeof t&&(n=d(e,t)):n=m(e),e),i=n,r=0;r<i.length;r++)p.data[o].hasOwnProperty(i[r])&&delete p.data[o][i[r]];return i.length}}},o.e.SocialShare=t,o.e.Downloads=u,o.e.sanitize_filename=s.m,o.e.Notifier=s.b,o.e.INFINITY=n.INFINITY,o.e.gbjs=!0,window.addEventListener("userSessionLoaded",()=>{o.e.Collection=l.a,o.e.Functions=i,o.e.Widget=l.b,o.e.logged_in_callback=r,o.e.callback_handler=l.c}),window.dispatchEvent(new CustomEvent("globalLoaded")),Object.defineProperty(Object.prototype,"getPathValue",{value:function(e){return e.split(".").reduce(function(e,t){return!!e&&e[t]},this)},writable:!0,configurable:!0,enumerable:!1})},61:function(e,t,s){"use strict";s.r(t),s.d(t,"INFINITY",function(){return l});var u=s(0),d=s(19),c=s(10),m=s(48),p=s(14),f=s(20),i=s(65),h=s(87),g=s(50),v=s(11),y=s(1),_=s(17),l=($(document).ready(function(){l.init(),document.getElementById("pagination-form")&&l.pages&&(l.currentPage=l.initPage,t=l.pages||Math.ceil(l.total/l.count,10),document.getElementById("pagination-total").innerHTML=Object(i.a)(t),document.getElementById("pagination-page").value=l.currentPage,l.check_pagination_buttons(),$("#pagination-form").on("submit",function(e){return e.preventDefault(),l.infinityLoaderBtn(l.axScript,"go"),!1}),$("a.pagination-next").on("click",function(e){e.preventDefault(),e.stopPropagation(),document.getElementById("pagination-spinner").classList.remove("hidden"),l.infinityLoaderBtn(l.axScript,"next")}),$("a.pagination-prev").on("click",function(e){e.preventDefault(),e.stopPropagation(),document.getElementById("pagination-spinner").classList.remove("hidden"),l.infinityLoaderBtn(l.axScript,"prev")}),$("a.pagination-first").on("click",function(e){e.preventDefault(),e.stopPropagation(),document.getElementById("pagination-spinner").classList.remove("hidden"),l.infinityLoaderBtn(l.axScript,"first")})),$(".pagination a").on("click",function(){void 0===gr.sponsor||null==gr.sponsor||void 0===gr.sponsor.popup||gr.auth.me.premium||window.FeatureFlag.isEnabled("adobe_maintenance")||gr.sponsor.popup.launch()}),$(".pagination-buttons a").on("click",function(){void 0===gr.sponsor||null==gr.sponsor||void 0===gr.sponsor.popup||gr.auth.me.premium||window.FeatureFlag.isEnabled("adobe_maintenance")||gr.sponsor.popup.launch()});var e,t=Object(y.a)(".empty-search");t&&(0==l.total?($(".edge-content-iframe").hide(),t.classList.toggle("hidden",0<l.total),document.getElementById("pagination-more")&&document.getElementById("pagination-more").classList.add("hidden")):($(".edge-content-iframe").show(),t.classList.toggle("hidden",0<l.total),document.getElementById("pagination-more")&&document.getElementById("pagination-more").classList.remove("hidden")),void 0!==document.querySelector(".main_search_bar input[name='word']"))&&(t=document.querySelector(".main_search_bar input[name='word']").value,-1==document.querySelector(".empty-search").className.indexOf("hidden"))&&t.length&&(e=localStorage["search-type"],e=-1!=["icons","packs"].indexOf(e)?e:"icons",ga("send","event","search-no-results",language,{dimension9:t})),null==document.getElementById("tags-page")&&(null==document.getElementById("pagination-total")||parseInt(document.getElementById("pagination-total").innerHTML.replace(",",""),10)<=1)&&document.getElementById("pagination-more")&&document.getElementById("pagination-more").classList.add("hidden")}),{infinityLoading:0,activatedInfinity:0,initPage:1,topPage:1,currentPage:1,bottomPage:1,count:0,total:0,total_icons:0,total_premium:0,axScript:"",css_selector:"",functionParser:"",cache_items:[],lastPage:self.currentPage,preLoad:!0,setUrl:!0,infinityCallback:"",fi_sponsor:{},total_found_packs:0,word:"",urlSendLog:["ajax/search"],loadFollows:0,pages:null,ads:null,init:function(){if("undefined"!=typeof INFINITY_CONFIG)for(var e in INFINITY_CONFIG)l[e]=INFINITY_CONFIG[e]},infinity:function(e,t){void 0!==t?this.axLoadItems(e,t,!0):(this.infinityLoading=1,this.bottomPage=this.bottomPage+1,this.axLoadItems(e,this.bottomPage,!0))},is_in_cache:function(e){10<this.cache_items.length&&this.cache_items.shift();for(var t=0;t<this.cache_items.length;t++)if(this.cache_items[t].page==e)return this.cache_items[t];return!1},pagination_update:function(){var e=this.pages||Math.ceil(this.total/this.count,10),e=(document.getElementById("pagination-total")&&(document.getElementById("pagination-total").innerHTML=Object(i.a)(e),document.getElementById("pagination-page").value=this.currentPage),document.getElementById("pagination-more")&&document.getElementById("pagination-more").classList.toggle("hidden",this.currentPage==e),document.getElementById("total_icon_badge")),e=(e&&(e.innerHTML=this.total.toLocaleString("en-US")),document.querySelector(".total-search-result h1")&&"uicon"!=RESOURCE_TYPE&&((e=document.querySelector(".total-search-result h1 span"))&&this.currentPage<=1?e.innerHTML="":!e&&1<this.currentPage?document.querySelector(".total-search-result h1").innerHTML+=`<span> - ${messages.common.pageTitle} ${this.currentPage}</span>`:e.innerHTML=`- ${messages.common.pageTitle} `+this.currentPage),messages.common.icons),t=document.querySelector(".pack-header .list-header-title .badge"),e=(t&&(n="",-1!=t.innerHTML.indexOf("icon")&&(n=e),t.innerHTML=this.total.toLocaleString("en-US")+" "+n),Object(y.a)(".empty-search")),t=this.is_in_cache(this.currentPage),n=document.querySelector("section.relateds-bar"),o=document.querySelector("section.pagination-bar"),e=(e&&t&&(e.classList.toggle("hidden",0<t.items.length),0==this.total?($(".edge-content-iframe").hide(),null!==n&&null!==o&&(n.classList.add("hidden"),o.classList.add("hidden"))):null!==n&&null!==o&&(n.classList.remove("hidden"),o.classList.remove("hidden"))),1==this.currentPage),t=document.querySelector(".search-pack-result:not(.similar-packs)"),n=document.querySelector(".search-pack-result-text");t&&(t.style.display=e?"":"none"),n&&(n.style.display=e?"none":""),$(window).trigger("resize"),_.emptyAuthorBox()},axLoadItems:function(e,a,c){var t=e,n=(1<a&&(t=t+"/"+a),window.location.href.lastIndexOf("?"));if(-1!=(t=-1!=n?t+"?"+window.location.href.substring(n+1,window.location.href.length):t).indexOf("undefined"))return!1;var l,n=this.is_in_cache(a);n&&c&&(this.tplLoadItem(n.items,a,n.ads),this.pagination_update()),n?window.scrollTo(0,0):void 0!==e&&""!=e&&(document.getElementById("group_id")&&(n=parseInt(document.getElementById("group_id").value,10)||0,"/ajax/packs/search"==e)&&n&&(t=addVarQueryString(t,"group_id",n)),l=this,$.ajax({url:t,type:"get",dataType:"json",success:function(e){var t,n=e.items||[],o=parseInt(e.total,10)||0,i=parseInt(e.pages,10)||0,r=e.pack_id,e=(this.total=e.total||0,this.pages=e.pages||0,e.d_gad&&(this.ads=e.d_gad),"icon-search"!==window.view.section||n.length||window.location.reload(),document.querySelector(".btn-pattern"));e&&((t=e.href.split("#")).pop(),t.push("pack="+r),e.href=t.join("#")),l.cache_items.push({page:a,items:n,total:o,ads:this.ads}),c&&(l.currentPage=a,l.total=o,l.pages=i,l.tplLoadItem(n,a,this.ads),l.pagination_update(),l.check_pagination_buttons()),EventTracker.send("gtm","event","pagination"),v.a.callModalPremium(),c&&window.scrollTo(0,0)},error:function(e,t,n){document.getElementById("pagination-spinner").classList.add("hidden"),l.infinityLoading=0}}))},infinityLoaderBtn:function(e,t){this.lastPage=this.currentPage;var n,o=this.pages||Math.ceil(this.total/this.count,10);"go"==t&&(n=parseInt(document.getElementById("pagination-page").value,10),this.infinityLoading=1,this.currentPage=!isNaN(n)&&0<n&&n<=o?n:1,this.bottomPage=this.currentPage,this.initPage=this.currentPage,this.axLoadItems(e,this.currentPage,!0),this.preLoad)&&this.currentPage<o&&this.axLoadItems(e,this.currentPage+1,!1),"clear"==t&&(this.infinityLoading=1,this.currentPage=1,this.initPage=this.currentPage,this.bottomPage=this.currentPage,this.axLoadItems(e,this.currentPage,!0),this.preLoad)&&this.currentPage<o&&this.axLoadItems(e,this.currentPage+1,!1),"next"==t&&(this.currentPage++,this.total>(this.currentPage-1)*this.count?(this.infinityLoading=1,this.bottomPage=this.currentPage,this.axLoadItems(e,this.currentPage,!0),this.preLoad&&this.currentPage<o&&this.axLoadItems(e,this.currentPage+1,!1)):(this.infinityLoading=0,this.currentPage--)),"prev"==t&&(this.currentPage--,1<=this.currentPage?(this.topPage=this.currentPage,this.infinityLoading=1,this.axLoadItems(e,this.currentPage,!0),this.preLoad&&1<this.currentPage&&this.axLoadItems(e,this.currentPage-1,!1)):(this.infinityLoading=0,this.currentPage=1)),"first"==t&&(this.currentPage=1,this.topPage=this.currentPage,this.infinityLoading=1,this.axLoadItems(e,this.currentPage,!0),this.preLoad)&&this.axLoadItems(e,1,!1),this.check_pagination_buttons()},check_pagination_buttons:function(){var t=document.getElementById("pagination-first"),e=document.getElementById("pagination-more"),n=document.getElementById("pagination-less"),o=0,i=this,r=(document.getElementById("pagination-total")&&(o=parseInt(document.getElementById("pagination-total").innerHTML.replace(",",""),10)),document.querySelector(".list-options .pagination-simple")&&document.querySelector(".list-options .pagination-simple").classList.toggle("hidden",1==o),document.querySelectorAll(".pagination-first").forEach(function(e){e.classList.toggle("disabled",i.currentPage<3),t&&t.classList.toggle("hidden",i.currentPage<3)}),document.querySelectorAll(".pagination-prev").forEach(function(e){e.classList.toggle("disabled",1==i.currentPage),n&&n.classList.toggle("hidden",1==i.currentPage),2<l.currentPage?e.setAttribute("href",Object(c.g)(window.location.href)+"/"+(i.currentPage-1)+window.location.search):e.setAttribute("href",""+Object(c.g)(window.location.href)+window.location.search)}),document.querySelectorAll(".pagination-next").forEach(function(e){e.classList.toggle("disabled",i.currentPage==o||0==o),l.currentPage<l.pages&&e.setAttribute("href",Object(c.g)(window.location.href)+"/"+(i.currentPage+1)+window.location.search)}),document.querySelectorAll(".pagination-next").length),a=document.querySelectorAll(".pagination-prev").length;document.get("#pagination-form .pagination-next")&&document.get("#pagination-form .pagination-prev")&&document.get("#pagination-form .pagination-next").classList.contains("disabled")&&document.get("#pagination-form .pagination-prev").classList.contains("disabled")&&1<o&&(document.querySelector(".pagination-next").classList.contains("disabled")?e&&(e.classList.add("hidden"),n.classList.remove("hidden")):e&&(e.classList.remove("hidden"),n.classList.add("hidden"))),r&&a&&(document.get("#pagination-form .pagination-next").classList.contains("disabled")&&document.get("#pagination-form .pagination-prev").classList.contains("disabled")&&1<o?(document.get("#pagination-form").style.display="none",e&&(e.classList.add("hidden"),n.classList.remove("hidden"))):document.get("#pagination-form").style.display="block")},tplLoadItem:function(e,i,t){this.css_selector=""==this.css_selector||(this.css_selector,0)?"ul.icons:not(.collection_icons_list)":this.css_selector,$(this.css_selector).empty();var r,n,o,a,c=document.get(this.css_selector);-1!==this.axScript.indexOf("pack")&&!~~gr.auth.me.premium&&window.matchMedia("(min-width: 740px)").matches&&document.querySelector('#form-download-pack [name="premium"]')&&"0"==document.querySelector('#form-download-pack [name="premium"]').value&&((o=document.createElement("li")).id="bn-icon-list",o.className="a-wrapper edge-content edge-content-icon-list edge-content-first",o.style.display="none",o.setAttribute("data-order","1"),o.setAttribute("data-row","2"),o.setAttribute("data-min","45")),void 0!==this.fi_sponsor.freepik&&!~~gr.auth.me.premium&&!t&&(t=i%14,14<=i&&t++,this.fi_sponsor.freepik.page=t,this.fi_sponsor.partner.page=t,(o=document.createElement("li"))&&(o.id="bn-icon-list",o.className="bn-space a-wrapper edge-content edge-content-icon-list edge-content-first",o.style.display="none",o.setAttribute("data-order","1"),o.setAttribute("data-row","2"),o.setAttribute("data-min","55")),(t=document.createElement("li"))&&(t.id="bn-icon-list-second",t.className="bn-space a-wrapper edge-content edge-content-icon-list edge-content-first edge-content-icon-list-second",t.style.display="none",t.setAttribute("data-order","2"),t.setAttribute("data-row","6"),t.setAttribute("data-min","80")),(n=document.querySelector("section.search-result ul.icons"))&&(n.appendChild(o),n.appendChild(t)),(o=document.createElement("div"))&&(o.className="edge-content edge-content-first show last-edge-content",o.innerHTML=this.fi_sponsor.partner.url.replace("---PAGE---",this.fi_sponsor.partner.page)),n=document.querySelector(".last-edge-content"))&&(n.innerHTML="",n.appendChild(o)),document.getElementById("pagination-spinner")&&document.getElementById("pagination-spinner").classList.add("hidden"),document.getElementById("filters-spinner")&&document.getElementById("filters-spinner").classList.add("hidden"),c&&!isNaN(this.topPage)&&!isNaN(this.bottomPage)&&0<e.length&&(i=this.currentPage,r=Handlebars.tag(this.templateTag),void 0!==(t=$(".total-items"))&&null!=t&&$(".total-items").html(this.total.toLocaleString("en-US")),e.forEach(function(e,t){var n,o;if(1==t&&(e.page=i),u.e.view.section===d.b.iconSearch&&(u.e.Resource.resourceConfig&&u.e.Resource.setResourceConfig(u.e.RESOURCE_TYPE),n=s(128),o={...e,pngSmall:e.png,resourceType:e.iconType,authorIconsText:e.authorIconText,categoryId:e.category_id,iconImg:e.png512,isMobile:Object(p.b)()},o=Object(h.a)(u.e.Resource.resourceConfig,o),c.insertAdjacentHTML("beforeend",n({resourceElement:o}))),u.e.view.section!==d.b.iconSearch&&c.insertAdjacentHTML("beforeend",r(e)),100==t)return!1}),this.setUrl&&(n=y.i(y.o(window.location.href),this.currentPage,window.location.search),("object"==typeof window.history?window.history:History).pushState({page:"pagination"},document.title,n),_.store_url(n),o=y.o(window.location.href),window.url=o,t=y.i(o,i).replace(APP_URL,""),ga("send","pageview","/"+t),ga("send","pageview",t,{metric1:i,dimension9:y.l(decodeURIComponent(window.location.search)).word})),this.setUrl=!0,"undefined"!=typeof Widget&&null!=Widget&&Widget.markSelectedIcons(),window.Resource.handleResourceListener(),setTimeout(()=>window.Lazyload.run(),50),window.dispatchEvent(new Event("resize"))),void 0!==this.infinityCallback&&("string"==typeof this.infinityCallback&&(this.infinityCallback=this.infinityCallback.split(".")),void 0!==this.infinityCallback&&this.infinityCallback instanceof Array&&this.infinityCallback.forEach(function(e){"function"==typeof(a=(a||window)[e])&&(a(),a=null)}),this.infinityLoading=0),this.addFakeItemsToList(this.css_selector),g.a.check();const l=document.body.dataset.section||"";e=new CustomEvent("sectionView",{detail:{section:l,modal:!1,page:i}});window.dispatchEvent(e),"following-styles"!=l&&"following-authors"!=l||setTimeout(function(){m.a.init(),"following-authors"==l?m.a.FollowsCallbackInit():m.a.BookmarkCallbackInit()},500),Object(f.c)()},serialize:function(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return n.join("&")},addFakeItemsToList:function(e=null){var t;if((t=null===t?document.querySelector("section.search-result ul.icons"):document.querySelector(e))&&t.classList.contains("icons"))for(var n=20;0<=n;n--)t.insertAdjacentHTML("beforeend",'<li class="icon--item icon-fill"></li>');var o=document.querySelector("section.search-result section.box-container");if(o)for(var i='<article class="box emptybox"></article>',n=20;0<=n;n--)o.insertAdjacentHTML("beforeend",i);var r=document.querySelector(".following__list.bookmarks__list.box-container");if(r)for(i='<article class="box emptybox"></article>',n=4;0<=n;n--)r.insertAdjacentHTML("beforeend",i)}})},67:function(B,e,t){"use strict";t.r(e);t(22);var h=t(0),l=t(23),s=t(9),n=t(14),g=t(12),i=t(16),v=t(35),o=t(11),u=t(3),U=t(28),d=t(17),m=localStorage,D=5;function N(){var e,t,n,o,i=m.color;i&&($("#download-form #color").val(i),e=document.querySelectorAll("#detail .svg-version svg"),[].forEach.call(e,function(e){[].forEach.call(e.querySelectorAll("path, circle, ellipse, polygon, line, rect, polyline"),function(e){e.style.fill=i})}),e=$("#detail .svg-version"),t=i.substring(1),t=t,n=parseInt(t.substr(0,2),16),o=parseInt(t.substr(2,2),16),t=parseInt(t.substr(4,2),16),225e3<=299*n+587*o+114*t?e.addClass("light-icons"):e.removeClass("light-icons"))}function M(e){var t=$("#detail ul.color-selector"),n=document.createElement("li"),o=document.createElement("button");o.dataset.color=e,o.className="custom-color",o.style.backgroundColor=e,o.addEventListener("click",N),n.appendChild(o),t.append(n)}$(document).ready(function(){}),t.d(e,"download_final",function(){return c}),t.d(e,"fillBase64Form",function(){return w}),t.d(e,"direct_download_icon_post",function(){return H}),t.d(e,"download_pack",function(){return F}),t.d(e,"check_modal_download",function(){return C}),t.d(e,"open_attribution_modal",function(){return G}),t.d(e,"cleanFormatValue",function(){return P});const y="icon-detail",r="uicons-detail-page",p="512",_=()=>Object(n.b)()&&document.getElementById("collections").classList.contains("visible");function a(){UserSession.userInfo.session.premium||C("icon")}function c(t=null){void 0===(a=localStorage.color)||(c=[],"#"!=a.charAt(n=0)&&(a="#"+a),$('#detail .color-selector button[data-color="'+a+'"]').length)||(void 0!==m.customColors&&""!=m.customColors&&(n=(c=JSON.parse(m.customColors)).length),-1==c.indexOf(a)&&(D<=n&&(r=c[n=Object.keys(c)[0]],c.splice(n,1),$('#detail ul.color-selector .custom-color[data-color="'+r+'"]').parent().remove()),c.push(a),M(a),m.customColors=JSON.stringify(c)));var n=d.getUrlParameter("term")?d.getUrlParameter("term"):d.getUrlParameter("word")?d.getUrlParameter("word"):void 0;let e,o;var i,r=h.e.view.section!==y||_()?document.querySelector(".modal-download"):document.querySelector(".modal-download-detail");if(h.e.view.section===y?(e=document.querySelector("#detail #download-form #format"),UserSession.userInfo.session.premium&&t.dataset.format&&((e=document.querySelector("#detail #download-form #format")).value=t.dataset.format),document.querySelector("#detail #download-form #size")&&!document.querySelector("#detail #download-form #size").value&&(document.querySelector("#detail #download-form #size").value=p),t&&t.dataset.format&&(e.value=t.dataset.format)):(t&&t.parents(".icon--item")[0]?o=t.parents(".icon--item")[0].dataset.id:r&&(o=r.dataset.iconId),e=document.querySelector(`#download-form-${o} #format`)),e&&"base64"!==e.value){var[a=void 0,c=null]=[n,t];f();let e=document.querySelector("#download-form");t="404"===h.e.view.section&&!!Object(h.c)(".empty-search");h.e.view.section==y||"category-detail"==h.e.view.section?e=h.e.download_form||document.querySelector("#detail #download-form"):("icon-search"===h.e.view.section||"style-search"===h.e.view.section||"pack-detail"===h.e.view.section||t)&&c instanceof Event==0&&c&&((t=c.closest(".modal-download"))?(t=t.dataset.iconId)&&(i=document.querySelector(`li.icon--item[data-id='${t}']:not(.collectionIcon)`))&&(e=i.querySelector("#download-form-"+t)):e=h.e.download_form);document.getElementById("modal-base64")&&(document.getElementById("modal-base64").checked=!1,R(),document.querySelector("body").classList.remove("modal-open"));document.getElementById("modal-download")&&(document.getElementById("modal-download").checked=!1,document.querySelector("body").classList.remove("modal-open"));setTimeout(k,2e3),void 0!==a&&((i=document.createElement("input")).type="hidden",i.name="search",i.value=a,e.appendChild(i));b(),e.submit();t=c.closest(".icon--item")||c.closest(".modal-download"),a=t?"thumbnail":"resource_detail",c={event:"ga4event",event_name:"file_download",category:"standard"===h.e.Resource.resource.type?"icons":h.e.Resource.resource.type+"s",location:a,label:h.e.Resource.resource.pack.name,file_id:h.e.Resource.resource.id,file_name:h.e.Resource.resource.name,author_name:h.e.Resource.resource.author.name,file_extension:e.format.value,file_size:"png"===e.format.value?e.size.value:"512",action:"download"};"animated-icons"===c.category&&(c.category="animated_icons");h.e.EventTracker.send("ga4dl",c);t=document.querySelector("#detail #download-form #size");t&&(t.value=p)}else{const l=document.querySelector('.detail__icon__holder div[data-type="img"] img');l&&u.a.isAllowedToDownload().then(e=>{var t,n;e?(e=l.src,t=function(e){w(e);var e=new FormData,t=(e.append("id",document.querySelector("#download-form #icon_id").value),new XMLHttpRequest);t.open("POST",APP_URL+"downloads/track-download"),t.send(e),b()},(n=new XMLHttpRequest).onload=function(){var e=new FileReader;e.onloadend=function(){t(e.result)},e.readAsDataURL(n.response)},n.open("GET",e),n.responseType="blob",n.send()):window.location.href=""+APP_URL+messages.common.url_downloads_limit})}document.getElementById("modal-download")&&e&&"base64"!==e.value&&(document.getElementById("modal-download").checked=!1,document.querySelector("body").classList.remove("modal-open")),document.querySelector(".modal-download-detail")&&(document.querySelector(".modal-download-detail").style.opacity=0,Object(s.h)(document.querySelector(".modal-download-detail")))}function f(){document.getElementById("author").value=document.getElementById("author").value||"0",document.getElementById("team").value=document.getElementById("team").value||"0",document.getElementById("pack").value=document.getElementById("pack").value||"0",document.getElementById("icon_id").value=document.getElementById("icon_id").value||"0",document.getElementById("format").value=document.getElementById("format").value||"png",document.getElementById("color").value=document.getElementById("color").value||"#000000",document.getElementById("colored").value=document.getElementById("colored").value||"1",document.getElementById("size").value=document.getElementById("size").value||"512",document.getElementById("style").value=document.getElementById("style").value||"Unknown",document.getElementById("keyword").value=document.getElementById("keyword").value||"icon"}function b(){let e;e=(h.e.view.section==y?document.querySelector("#download-form #format"):document.getElementById("format")).value;var t=document.getElementById("icon_id").value;i.a.trackDownload(t,e),f();let n="icon",o="download";"sticker"===RESOURCE_TYPE&&(n=RESOURCE_TYPE,o="download-sticker"),"raw-svg"===(e=(h.e.view.section==y?document.querySelector("#download-form #format"):document.getElementById("format")).value)&&(e="svg editable"),EventTracker.send("all","event",o,n,e.toUpperCase(),{dimension8:document.getElementById("author").value,dimension2:document.getElementById("team").value,dimension10:document.getElementById("pack").value,dimension3:document.getElementById("icon_id").value,dimension4:document.getElementById("format").value,dimension5:document.getElementById("color").value,dimension6:document.getElementById("size").value,dimension12:document.getElementById("style").value,dimension7:document.getElementById("keyword").value}),EventTracker.send("gtm","event",o,n,e.toUpperCase(),{dimension8:document.getElementById("author").value,dimension2:document.getElementById("team").value,dimension10:document.getElementById("pack").value,dimension3:document.getElementById("icon_id").value,dimension4:document.getElementById("format").value,dimension5:document.getElementById("color").value,dimension6:document.getElementById("size").value,dimension12:document.getElementById("style").value,dimension7:document.getElementById("keyword").value})}function w(e){var t='<img src="'+e+'" />';$("#b64Image").val(t);t=(t='<style type="text/css">div.image {max-width: 256px;')+"max-height: 256px;background-image: url("+e+")}</style>";if($("#b64css").val(t),document.getElementById("modal-base64").checked=!0,document.querySelector(".modal-base64")){const o=document.querySelector("body"),i=document.querySelector(".modal-base64 button[data-modal='modal-attribution-new']"),r=document.querySelector("#viewport"),a=document.querySelectorAll(".fi-modal.modal-base64 .copy-attributtion"),c=document.querySelector(".modal-base64 .modal__close");var n,e=document.querySelector("#detail")?document.querySelector("#detail"):document.querySelector("#detail-pack-aside");e&&(t=e.querySelector(".author a")?e.querySelector(".author a").href:e.querySelector("#author-url").value,e=e.querySelector(".author .username").title,n=document.querySelector("div.modal-base64"),t=`<div>${messages.attribution.icons_made_by} <a href="${t}" title="${e}">${e}</a> from <a href="${APP_URL}" title="Flaticon">${window.location.host}</a></div>`,n.querySelector(".attribution__wrapper .copy-holder span textarea").textContent=t,n.querySelector(".input_atributtion_text").setAttribute("value",t)),i.addEventListener("click",function(){l.b.show("modal-attribution-new"),r.classList.remove("viewport"),j(this.dataset.type)}),a.forEach(e=>{e.addEventListener("click",function(){this.children[0].classList.remove("active"),this.children[1].classList.add("active"),event.target.closest(".copy-holder").querySelector("textarea").select(),document.execCommand("copy")})}),c.addEventListener("click",function(){document.getElementById("modal-base64").checked=!1,P(),R(),o.classList.remove("modal-open")})}document.querySelector("body").classList.add("modal-open")}function H(e,t){e.preventDefault();var n,e=e.target.parents(".icon--item")[0];h.e.Resource.setResourceFromElement(e),h.e.Resource.resource&&h.e.Resource.resource.type&&h.e.Resource.setResourceConfig(h.e.Resource.resource.type),UserSession.userInfo.session.premium||"svg"!==t?(t=t,(z(n=e)?function(e,t){document.getElementById("download-form-"+e.dataset.id).setAttribute("id","detail-download-form"),S(e,t)}:S)(n,t),n=e,UserSession.userInfo.session.premium||(n.classList.add("direct-download"),C("icon",n))):(e.classList.add("modal__trigger"),e.dataset.modal="modal-copy-svg-from-search-list-not-premium-user",o.a.callModalCopySvgFromSearchListNotPremiumUser())}function k(){delete h.e.download_form,document.querySelector(".icon--item.direct-download")&&document.querySelector(".icon--item.direct-download").classList.remove("direct-download"),document.getElementById("detail-download-form")&&document.getElementById("detail-download-form").setAttribute("id","download-form")}function S(e,t){var i={icon_id:e.dataset.id,author:e.dataset.author,team:e.dataset.author,keyword:e.dataset.name,pack:e.dataset.pack,style:e.dataset.style,format:t,color:"",colored:e.dataset.color,size:"512",selection:e.dataset.selection,premium:e.dataset.premium,type:e.dataset.icon_type},r=document.createElement("form");r.setAttribute("id","download-form-"+e.dataset.id),r.setAttribute("method","GET"),r.setAttribute("action",FLATICON_DOWNLOAD_URL+"download/icon/"+e.dataset.id),Object.keys(i).map(function(e,t){var n=i[e],o=document.createElement("input");o.setAttribute("type","hidden"),o.setAttribute("name",e),o.setAttribute("id",e),o.setAttribute("value",n),r.appendChild(o)}),"0"==i.premium&&"0"==i.selection&&document.querySelector(".modal-download section.modal-body").classList.add("nopremium"),e.appendChild(r),h.e.download_form=r}function z(e=null){return e?(document.querySelector("#download-form #format")&&(document.querySelector("#download-form #format").value="png"),!!e.querySelector("#download-form-"+e.dataset.id)):!!document.getElementById("download-form")}function F(){var e=document.querySelector('#form-download-pack [name="pack_id"]').value,t=(i.a.trackDownload(e),$("#form-download-pack").trigger("submit"),"sticker"===RESOURCE_TYPE?"download-sticker":"download"),t=(EventTracker.send("ga","event",t,"pack"),{event:"ga4event",event_name:"pack_download",category:"standard"===RESOURCE_TYPE?"icons":RESOURCE_TYPE+"s",location:"pack_detail",action:"download",file_id:e,file_extension:"zip",file_size:"512",items_number:document.querySelector("#form-download-pack #items_number").value});"animated-icons"===t.category&&(t.category="animated_icons"),h.e.EventTracker.send("ga4dl",t),document.querySelector("#modal-download").checked=!1,document.querySelector("body").classList.remove("modal-open")}window.addEventListener("userSessionLoaded",()=>{$(document).on("click","#download-premium",function(){document.getElementById("modal-download").checked=!1,document.querySelector("body").classList.remove("modal-open")}),$(document).on("click","#detail ul.size button",function(){var e=$("#format").val(),t=$(this).attr("data-size");$("#size").val(t),"png"==e||"svg"==e?a():"base64"===e&&(C(),c())}),$(document).on("click","#detail #download .btn, #detail #download .btn-svg a",function(t){t.preventDefault();var n=$(this).attr("data-format");if(n){let e=document.querySelector("#download-form #format");h.e.view.section==y&&(e=document.querySelector("#detail #download-form #format")),"png"==((e=h.e.view.section==r?document.querySelector("#detail #download-uicon-form #format"):e).value=n)||"jpg"==n||u.a.isPremium()||t.currentTarget.classList.contains("popover-button")?"png"===n||"jpg"===n||"svg"===n||"psd"===n||"eps"===n||"raw-svg"===n?a():"base64"===n&&(C(),c()):(t=(document.querySelector("#detail")?document.getElementById("detail"):document.getElementById("detail-content")).dataset.elementid,h.e.view.section!==y&&h.e.view.section!==r||_()?o.a.callModalDownloadOnlyForPremium(t):Object(v.a)(!0))}}),$(document).on("click","#detail ul.size a",e=>{e.preventDefault();e=e.currentTarget.dataset.size;let t=document.getElementById("select-size");if(!h.e.view.section==r){const t=document.getElementById("select-size");t&&(t.querySelector("span").innerHTML=e+"px")}t.querySelector(".popover-button").classList.remove("active"),t.querySelector(".popover-content").classList.remove("show-menu"),h.e.view.section==r||"uicon"===h.e.Resource.resource.type?document.querySelector("#download-uicon-form #size").value=e||p:(document.querySelector("#download-form #size").value=e||p,document.querySelector("#detail #download .btn").click())}),$(document).on("change","#modal-download",function(){var e=document.querySelector(".modal-download #copy-attributtion");e.children[0].classList.add("active"),e.children[1].classList.remove("active"),0==document.getElementById("modal-download").checked&&(k(),document.querySelector("body").classList.remove("modal-open"))}),$(document).on("click",".modal-download .modal-fade-screen",function(){var e=document.querySelector(".modal-download #copy-attributtion");e.children[0].classList.add("active"),e.children[1].classList.remove("active")}),$(document).on("click",".track_download_pack",function(e){var t;this.dataset.pack&&UserSession.userInfo.logged&&(UserSession.userInfo.session.premium||1!=this.dataset.premium?(document.querySelector('#form-download-pack [name="user_id"]').value=UserSession.userInfo.session.id,document.querySelector('#form-download-pack [name="pack_id"]').value=this.dataset.pack,u.a.updateUserStats(3e3),UserSession.userInfo.session.premium?(t=document.querySelector('#form-download-pack [name="pack_id"]').value,i.a.trackDownload(t)):C("pack",null)):location.href=ACCOUNTS_BASE_URL+"premium/"+this.dataset.pack)}),$(document).on("click",".modal__trigger",function(){document.querySelector("#viewport").classList.remove("viewport");var e=this.dataset.type;j(e)}),$(document).on("click",".modal-attribution-new .copy__trigger",function(){this.previousElementSibling.select(),document.execCommand("copy"),this.children[1].classList.remove("active"),this.children[2].classList.add("active")})});var E,L,I,q,x=["icon","pack","collection"];function C(e,t){const n="icon",o="collection",i="pack";if(h.e.view.section!==y||e===o||t||Object(v.a)(),-1!=x.indexOf(e)){var r,a,c=h.e.view.section!==y||e==o||t&&t.classList.contains("direct-download")?document.querySelector("div.modal-download"):document.querySelector(".modal-download-detail");if(c){if(a=e,(r=c).classList.add("modal-"+a),r.querySelector("#download-premium").classList.add("modal-"+a),r.querySelector("#download-free").classList.add("modal-"+a),r.querySelector(".modal-body").classList.remove("nopremium"),[].forEach.call(r.querySelectorAll(".hidden"),function(e){e&&e.classList.contains("hidden")&&e.classList.remove("hidden")}),x.forEach(function(e){e!=a&&(r.classList.remove("modal-"+e),r.querySelector("#download-premium").classList.remove("modal-"+e),r.querySelector("#download-free").classList.remove("modal-"+e),[].forEach.call(r.querySelectorAll(".modal-"+e),function(e){e.classList.add("hidden")}))}),e===n){document.querySelector(".modal-body #download-free")&&(document.querySelector(".modal-body #download-free").dataset.type=n);var l=c,s=t;if(E=["send","event","Detail View","Premium Download"],L=["send","event","Detail View","Select Attribution Link"],I=["send","event","Detail View","Select Credit Attribution Link"],document.querySelector(".fi-modal #copy-attributtion").addEventListener("click",function(){this.children[0].classList.remove("active"),this.children[1].classList.add("active"),T(this.closest(".copy-holder").querySelector(".input_atributtion_text"))}),document.querySelector(".fi-modal #download-premium").addEventListener("click",O),h.e.download_form=document.getElementById("download-form"),h.e.view.section==y&&(h.e.download_form=document.querySelector("#detail #download-form")),s){var u=h.e.Resource.resource,d=s.dataset.id;h.e.download_form=document.querySelector("#download-form-"+d),l.dataset.iconId=d;let e=new Image,t=((e=l.querySelector("p.filename .icon-holder img")?l.querySelector("p.filename .icon-holder img"):e).src=s.querySelector("img").getAttribute("src"),e.classList.add("replaced-svg"),l.querySelector("p.filename .icon-holder").insertAdjacentElement("afterbegin",e),l.querySelector("p.filename span.description").innerHTML=s.dataset.name,l.querySelector("p.author span.description").innerHTML="By "+s.dataset.author_name,new Image);(t=l.querySelector("p.author img")?l.querySelector("p.author img"):t).src=s.dataset.author_avatar,t.classList.add("avatar"),l.querySelector("p.author").insertAdjacentElement("afterbegin",t),0==s.dataset.selection&&l.querySelector(".modal-body").classList.add("nopremium"),q=u?`<a href="${u.keyword.link}" title="${u.keyword.name} ${h.e.Attribution.getAttributionTypeMessage(u.type)}">${Object(g.a)(u.keyword.name)} ${h.e.Attribution.getStartAttributionMessage(u.type)} ${u.author.name} - Flaticon</a>`:"<div>"+A(s.dataset.icon_type)+' <a href="'+s.dataset.author_website+'" title="'+s.dataset.author_name+'">'+s.dataset.author_name+'</a> from <a href="'+APP_URL+'" title="Flaticon">'+window.location.host+"</a></div>"}else if(download_form){d=document.querySelector("#detail")?document.getElementById("detail"):document.getElementById("detail-content"),u=d.querySelector("h1").innerHTML;if((h.e.view.section!==y||_()||s&&s.classList.contains("direct-download"))&&(l.querySelector(".filename .description").innerHTML=u),h.e.view.section!==y||_()||s&&s.classList.contains("direct-download")){let e=d.querySelector(".main-icon img"),t=(e=e||d.querySelector(".main-icon-without-slide img"),new Image);(t=l.querySelector("p.filename .icon-holder img")?l.querySelector("p.filename .icon-holder img"):t).src=e.src,t.classList.add("replaced-svg"),t.alt=u,l.querySelector("p.filename .icon-holder").insertAdjacentElement("afterbegin",t)}var m=d.querySelector("#author-url"),p=d.querySelector(".author .username").title,f=d.querySelector(".author .avatar img");if(h.e.view.section!==y||_()||s&&s.classList.contains("direct-download")){let e=new Image;(e=l.querySelector("p.author img")?l.querySelector("p.author img"):e).src=f.src,e.classList.add("avatar"),l.querySelector("p.author").insertAdjacentElement("afterbegin",e),l.querySelector(".author .description").innerHTML="By "+p}0==download_form.selection.value&&l.querySelector(".modal-body").classList.add("nopremium"),q="<div>"+A(d.dataset.icon_type)+' <a href="'+m.value+'" title="'+p+'">'+p+'</a> from <a href="'+APP_URL+'" title="Flaticon">'+window.location.host+"</a></div>"}(h.e.view.section!==y||_()||s&&s.classList.contains("direct-download"))&&(l.querySelector(".copy-holder span").textContent=q,l.querySelector(".input_atributtion_text").setAttribute("value",q))}if(e===o&&(h.e.Resource.clearResource(),document.querySelector(".modal-collection #download-free").dataset.type=o,E=["send","event","Collection","Premium Download"],I=L=null,(f=c).querySelector("#download-free").addEventListener("click",U.d),f.querySelector("#download-premium").addEventListener("click",O),f.querySelector(".author")&&f.querySelector(".author").classList.add("hidden"),document.querySelector(".fi-modal #copy-attributtion").addEventListener("click",function(){this.children[0].classList.remove("active"),this.children[1].classList.add("active"),T(this.closest(".copy-holder").querySelector(".input_atributtion_text"))})),e===i){{m=c;E=["send","event","Pack","Premium Download"],L=["send","event","Pack","Select Attribution Link"],I=["send","event","Pack","Select Credit Attribution Link"],document.querySelector(".fi-modal #copy-attributtion").addEventListener("click",function(){this.children[0].classList.remove("active"),this.children[1].classList.add("active"),T(this.closest(".copy-holder").querySelector(".input_atributtion_text"))}),document.querySelector(".fi-modal #download-premium").addEventListener("click",O);p=document.querySelector("#detail-pack-aside")?document.getElementById("detail-pack-aside"):document.getElementById("detail-content");s=p.querySelector("#author-url").value;l=p.querySelector(".author .username").title,c=p.querySelector(".author .avatar img");let e=new Image;m.querySelector("p.author img")&&(e=m.querySelector("p.author img"));e.src=c.src,e.classList.add("avatar");c=m.querySelector("p.author");c.insertAdjacentElement("afterbegin",e),m.querySelector(".author .description").innerHTML="By "+l,q="<div>"+A(p.dataset.icon_type)+' <a href="'+s+'" title="'+l+'">'+l+'</a> from <a href="'+APP_URL+'" title="Flaticon">'+window.location.host+"</a></div>",m.querySelector(".copy-holder span").textContent=q,m.querySelector(".input_atributtion_text").setAttribute("value",q),m.querySelector(".pack_name").innerHTML=document.querySelector("h1 .title").innerHTML;document.querySelector('meta[property="og:image"]')}document.querySelector(".modal-body #download-free").dataset.type=i}(h.e.view.section!==y||e==o||t&&t.classList.contains("direct-download"))&&(document.getElementById("modal-download").checked=!0)}}}function A(e){return{icon:messages.attribution.icons_made_by,sticker:messages.attribution.stickers_made_by,standard:messages.attribution.icons_made_by,"animated-icon":messages.attribution.animatedIcon_made_by}[e]}function T(e=null){(e=e||document.querySelector(".fi-modal .input_atributtion_text")).select(),document.execCommand("copy"),L&&ga(L[0],L[1],L[2],L[3])}function X(){document.querySelector(".copy__text input").select(),document.execCommand("copy"),I&&ga(I[0],I[1],I[2],I[3])}function O(e){e.currentTarget.dataset.trackArguments&&EventTracker.getArgsFromElementAndSend(e.currentTarget),ga(E[0],E[1],E[2],E[3])}function G(){return window.Attribution.fromCollections=!0,!(UserSession.userInfo.session&&0!==UserSession.userInfo.session.premium||(window.Attribution.initialize(),window.Attribution.show(),document.querySelector(".copy__trigger").addEventListener("click",X),0))}function j(e){let o=document.querySelectorAll(".accordion2__menu--item"),i=document.querySelector(".accordion2__container");for(const n of o)n.addEventListener("click",function(){for(const t of o)t.classList.remove("active");this.classList.add("active");var e=this.dataset.order;for(const n of i.children)n.classList.remove("active");i.children[e].classList.add("active")});var t;e=e,(t=document.querySelector(".content-footer--text a"))&&("icon"==e&&(t.dataset.trackArguments="ga, event, premium, icon-main-attribute-modal"),"pack"==e)&&(t.dataset.trackArguments="ga, event, premium, pack-main-attribute-modal")}function P(){var e=document.querySelector("#detail #download-form #format");e&&(e.value="")}function R(){document.querySelectorAll(".fi-modal.modal-base64 .copy-attributtion").forEach(e=>{e.children[1].classList.contains("active")&&(e.children[0].classList.add("active"),e.children[1].classList.remove("active"))})}"animated-icon"===RESOURCE_TYPE&&document.querySelector("#detail .download-dropdown-button")&&document.querySelector("#detail .download-dropdown-button").addEventListener("click",()=>{Object(v.a)()})}});
//# sourceMappingURL=fi-base.1820582273fd3a6c2031.js.map